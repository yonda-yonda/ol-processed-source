{"version":3,"file":"component---src-pages-geotiff-index-tsx-275a0aceab9457f3400d.js","mappings":"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","sources":["webpack://ol-processed-source/./node_modules/colormap/colorScale.js","webpack://ol-processed-source/./node_modules/colormap/index.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/globals.js","webpack://ol-processed-source/./node_modules/lerp/index.js","webpack://ol-processed-source/./node_modules/xml-utils/count-substring.js","webpack://ol-processed-source/./node_modules/xml-utils/find-tag-by-name.js","webpack://ol-processed-source/./node_modules/xml-utils/find-tags-by-name.js","webpack://ol-processed-source/./node_modules/xml-utils/get-attribute.js","webpack://ol-processed-source/./node_modules/xml-utils/index-of-match-end.js","webpack://ol-processed-source/./node_modules/xml-utils/index-of-match.js","webpack://ol-processed-source/./node_modules/core-js/internals/create-property.js","webpack://ol-processed-source/./node_modules/core-js/internals/get-iterator-method.js","webpack://ol-processed-source/./node_modules/core-js/internals/get-iterator.js","webpack://ol-processed-source/./node_modules/core-js/internals/is-array-iterator-method.js","webpack://ol-processed-source/./node_modules/core-js/internals/iterate.js","webpack://ol-processed-source/./node_modules/core-js/internals/iterator-close.js","webpack://ol-processed-source/./node_modules/core-js/internals/iterators.js","webpack://ol-processed-source/./node_modules/core-js/internals/new-promise-capability.js","webpack://ol-processed-source/./node_modules/core-js/internals/perform.js","webpack://ol-processed-source/./node_modules/core-js/modules/es.object.from-entries.js","webpack://ol-processed-source/./node_modules/core-js/modules/es.promise.all-settled.js","webpack://ol-processed-source/./node_modules/core-js/modules/esnext.promise.all-settled.js","webpack://ol-processed-source/./node_modules/@mui/material/esm/CircularProgress/circularProgressClasses.js","webpack://ol-processed-source/./node_modules/@mui/material/esm/CircularProgress/CircularProgress.js","webpack://ol-processed-source/./node_modules/@mui/material/esm/Divider/dividerClasses.js","webpack://ol-processed-source/./node_modules/@mui/material/esm/ListItemIcon/listItemIconClasses.js","webpack://ol-processed-source/./node_modules/@mui/material/esm/ListItemText/listItemTextClasses.js","webpack://ol-processed-source/./node_modules/@mui/material/esm/MenuItem/menuItemClasses.js","webpack://ol-processed-source/./node_modules/@mui/material/esm/MenuItem/MenuItem.js","webpack://ol-processed-source/./node_modules/@babel/runtime/helpers/esm/isNativeReflectConstruct.js","webpack://ol-processed-source/./node_modules/@babel/runtime/helpers/esm/construct.js","webpack://ol-processed-source/./node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js","webpack://ol-processed-source/./node_modules/@babel/runtime/helpers/esm/isNativeFunction.js","webpack://ol-processed-source/./node_modules/@petamoriken/float16/src/_util/primordials.mjs","webpack://ol-processed-source/./node_modules/@petamoriken/float16/src/_util/arrayIterator.mjs","webpack://ol-processed-source/./node_modules/@petamoriken/float16/src/_util/converter.mjs","webpack://ol-processed-source/./node_modules/@petamoriken/float16/src/DataView.mjs","webpack://ol-processed-source/./node_modules/geotiff/dist-module/rgb.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/compression/index.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/resample.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/geotiffimage.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/dataview64.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/dataslice.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/source/httputils.js","webpack://ol-processed-source/./node_modules/@babel/runtime/helpers/esm/toArray.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/source/basesource.js","webpack://ol-processed-source/./node_modules/quick-lru/index.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/utils.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/source/blockedsource.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/source/client/base.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/source/client/fetch.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/source/client/xhr.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/source/client/http.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/source/remote.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/source/filereader.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/geotiff.js","webpack://ol-processed-source/./node_modules/geotiff/dist-module/pool.js","webpack://ol-processed-source/./src/reader/geotiff/Reader.ts","webpack://ol-processed-source/./src/reader/geotiff/Processor.ts","webpack://ol-processed-source/./src/reader/geotiff/index.ts","webpack://ol-processed-source/./src/reader/geotiff/Profile.ts","webpack://ol-processed-source/./src/source/GeoTIFF.ts","webpack://ol-processed-source/./src/pages/geotiff/index.tsx","webpack://ol-processed-source/./node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js","webpack://ol-processed-source/./node_modules/@babel/runtime/helpers/esm/inherits.js","webpack://ol-processed-source/./node_modules/@babel/runtime/helpers/esm/typeof.js","webpack://ol-processed-source/./node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js"],"sourcesContent":["module.exports = {\n  \"jet\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 131]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [0, 60, 170]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [5, 255, 255]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [255, 255, 0]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [250, 0, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [128, 0, 0]\n  }],\n  \"hsv\": [{\n    \"index\": 0,\n    \"rgb\": [255, 0, 0]\n  }, {\n    \"index\": 0.169,\n    \"rgb\": [253, 255, 2]\n  }, {\n    \"index\": 0.173,\n    \"rgb\": [247, 255, 2]\n  }, {\n    \"index\": 0.337,\n    \"rgb\": [0, 252, 4]\n  }, {\n    \"index\": 0.341,\n    \"rgb\": [0, 252, 10]\n  }, {\n    \"index\": 0.506,\n    \"rgb\": [1, 249, 255]\n  }, {\n    \"index\": 0.671,\n    \"rgb\": [2, 0, 253]\n  }, {\n    \"index\": 0.675,\n    \"rgb\": [8, 0, 253]\n  }, {\n    \"index\": 0.839,\n    \"rgb\": [255, 0, 251]\n  }, {\n    \"index\": 0.843,\n    \"rgb\": [255, 0, 245]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 0, 6]\n  }],\n  \"hot\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.3,\n    \"rgb\": [230, 0, 0]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [255, 210, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255]\n  }],\n  \"spring\": [{\n    \"index\": 0,\n    \"rgb\": [255, 0, 255]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 0]\n  }],\n  \"summer\": [{\n    \"index\": 0,\n    \"rgb\": [0, 128, 102]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 102]\n  }],\n  \"autumn\": [{\n    \"index\": 0,\n    \"rgb\": [255, 0, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 0]\n  }],\n  \"winter\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 255]\n  }, {\n    \"index\": 1,\n    \"rgb\": [0, 255, 128]\n  }],\n  \"bone\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.376,\n    \"rgb\": [84, 84, 116]\n  }, {\n    \"index\": 0.753,\n    \"rgb\": [169, 200, 200]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255]\n  }],\n  \"copper\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.804,\n    \"rgb\": [255, 160, 102]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 199, 127]\n  }],\n  \"greys\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255]\n  }],\n  \"yignbu\": [{\n    \"index\": 0,\n    \"rgb\": [8, 29, 88]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [37, 52, 148]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [34, 94, 168]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [29, 145, 192]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [65, 182, 196]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [127, 205, 187]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [199, 233, 180]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [237, 248, 217]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 217]\n  }],\n  \"greens\": [{\n    \"index\": 0,\n    \"rgb\": [0, 68, 27]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [0, 109, 44]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [35, 139, 69]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [65, 171, 93]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [116, 196, 118]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [161, 217, 155]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [199, 233, 192]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [229, 245, 224]\n  }, {\n    \"index\": 1,\n    \"rgb\": [247, 252, 245]\n  }],\n  \"yiorrd\": [{\n    \"index\": 0,\n    \"rgb\": [128, 0, 38]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [189, 0, 38]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [227, 26, 28]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [252, 78, 42]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [253, 141, 60]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [254, 178, 76]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [254, 217, 118]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [255, 237, 160]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 204]\n  }],\n  \"bluered\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 255]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 0, 0]\n  }],\n  \"rdbu\": [{\n    \"index\": 0,\n    \"rgb\": [5, 10, 172]\n  }, {\n    \"index\": 0.35,\n    \"rgb\": [106, 137, 247]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [190, 190, 190]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [220, 170, 132]\n  }, {\n    \"index\": 0.7,\n    \"rgb\": [230, 145, 90]\n  }, {\n    \"index\": 1,\n    \"rgb\": [178, 10, 28]\n  }],\n  \"picnic\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 255]\n  }, {\n    \"index\": 0.1,\n    \"rgb\": [51, 153, 255]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [102, 204, 255]\n  }, {\n    \"index\": 0.3,\n    \"rgb\": [153, 204, 255]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [204, 204, 255]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [255, 255, 255]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [255, 204, 255]\n  }, {\n    \"index\": 0.7,\n    \"rgb\": [255, 153, 255]\n  }, {\n    \"index\": 0.8,\n    \"rgb\": [255, 102, 204]\n  }, {\n    \"index\": 0.9,\n    \"rgb\": [255, 102, 102]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 0, 0]\n  }],\n  \"rainbow\": [{\n    \"index\": 0,\n    \"rgb\": [150, 0, 90]\n  }, {\n    \"index\": 0.125,\n    \"rgb\": [0, 0, 200]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [0, 25, 255]\n  }, {\n    \"index\": 0.375,\n    \"rgb\": [0, 152, 255]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [44, 255, 150]\n  }, {\n    \"index\": 0.625,\n    \"rgb\": [151, 255, 0]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [255, 234, 0]\n  }, {\n    \"index\": 0.875,\n    \"rgb\": [255, 111, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 0, 0]\n  }],\n  \"portland\": [{\n    \"index\": 0,\n    \"rgb\": [12, 51, 131]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [10, 136, 186]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [242, 211, 56]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [242, 143, 56]\n  }, {\n    \"index\": 1,\n    \"rgb\": [217, 30, 30]\n  }],\n  \"blackbody\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [230, 0, 0]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [230, 210, 0]\n  }, {\n    \"index\": 0.7,\n    \"rgb\": [255, 255, 255]\n  }, {\n    \"index\": 1,\n    \"rgb\": [160, 200, 255]\n  }],\n  \"earth\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 130]\n  }, {\n    \"index\": 0.1,\n    \"rgb\": [0, 180, 180]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [40, 210, 40]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [230, 230, 50]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [120, 70, 20]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255]\n  }],\n  \"electric\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.15,\n    \"rgb\": [30, 0, 100]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [120, 0, 100]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [160, 90, 0]\n  }, {\n    \"index\": 0.8,\n    \"rgb\": [230, 200, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 250, 220]\n  }],\n  \"alpha\": [{\n    \"index\": 0,\n    \"rgb\": [255, 255, 255, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 255, 255, 1]\n  }],\n  \"viridis\": [{\n    \"index\": 0,\n    \"rgb\": [68, 1, 84]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [71, 44, 122]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [59, 81, 139]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [44, 113, 142]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [33, 144, 141]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [39, 173, 129]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [92, 200, 99]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [170, 220, 50]\n  }, {\n    \"index\": 1,\n    \"rgb\": [253, 231, 37]\n  }],\n  \"inferno\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 4]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [31, 12, 72]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [85, 15, 109]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [136, 34, 106]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [186, 54, 85]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [227, 89, 51]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [249, 140, 10]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [249, 201, 50]\n  }, {\n    \"index\": 1,\n    \"rgb\": [252, 255, 164]\n  }],\n  \"magma\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 4]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [28, 16, 68]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [79, 18, 123]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [129, 37, 129]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [181, 54, 122]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [229, 80, 100]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [251, 135, 97]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [254, 194, 135]\n  }, {\n    \"index\": 1,\n    \"rgb\": [252, 253, 191]\n  }],\n  \"plasma\": [{\n    \"index\": 0,\n    \"rgb\": [13, 8, 135]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [75, 3, 161]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [125, 3, 168]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [168, 34, 150]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [203, 70, 121]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [229, 107, 93]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [248, 148, 65]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [253, 195, 40]\n  }, {\n    \"index\": 1,\n    \"rgb\": [240, 249, 33]\n  }],\n  \"warm\": [{\n    \"index\": 0,\n    \"rgb\": [125, 0, 179]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [172, 0, 187]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [219, 0, 170]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [255, 0, 130]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [255, 63, 74]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [255, 123, 0]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [234, 176, 0]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [190, 228, 0]\n  }, {\n    \"index\": 1,\n    \"rgb\": [147, 255, 0]\n  }],\n  \"cool\": [{\n    \"index\": 0,\n    \"rgb\": [125, 0, 179]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [116, 0, 218]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [98, 74, 237]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [68, 146, 231]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [0, 204, 197]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [0, 247, 146]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [0, 255, 88]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [40, 255, 8]\n  }, {\n    \"index\": 1,\n    \"rgb\": [147, 255, 0]\n  }],\n  \"rainbow-soft\": [{\n    \"index\": 0,\n    \"rgb\": [125, 0, 179]\n  }, {\n    \"index\": 0.1,\n    \"rgb\": [199, 0, 180]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [255, 0, 121]\n  }, {\n    \"index\": 0.3,\n    \"rgb\": [255, 108, 0]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [222, 194, 0]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [150, 255, 0]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [0, 255, 55]\n  }, {\n    \"index\": 0.7,\n    \"rgb\": [0, 246, 150]\n  }, {\n    \"index\": 0.8,\n    \"rgb\": [50, 167, 222]\n  }, {\n    \"index\": 0.9,\n    \"rgb\": [103, 51, 235]\n  }, {\n    \"index\": 1,\n    \"rgb\": [124, 0, 186]\n  }],\n  \"bathymetry\": [{\n    \"index\": 0,\n    \"rgb\": [40, 26, 44]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [59, 49, 90]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [64, 76, 139]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [63, 110, 151]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [72, 142, 158]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [85, 174, 163]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [120, 206, 163]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [187, 230, 172]\n  }, {\n    \"index\": 1,\n    \"rgb\": [253, 254, 204]\n  }],\n  \"cdom\": [{\n    \"index\": 0,\n    \"rgb\": [47, 15, 62]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [87, 23, 86]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [130, 28, 99]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [171, 41, 96]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [206, 67, 86]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [230, 106, 84]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [242, 149, 103]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [249, 193, 135]\n  }, {\n    \"index\": 1,\n    \"rgb\": [254, 237, 176]\n  }],\n  \"chlorophyll\": [{\n    \"index\": 0,\n    \"rgb\": [18, 36, 20]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [25, 63, 41]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [24, 91, 59]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [13, 119, 72]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [18, 148, 80]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [80, 173, 89]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [132, 196, 122]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [175, 221, 162]\n  }, {\n    \"index\": 1,\n    \"rgb\": [215, 249, 208]\n  }],\n  \"density\": [{\n    \"index\": 0,\n    \"rgb\": [54, 14, 36]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [89, 23, 80]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [110, 45, 132]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [120, 77, 178]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [120, 113, 213]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [115, 151, 228]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [134, 185, 227]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [177, 214, 227]\n  }, {\n    \"index\": 1,\n    \"rgb\": [230, 241, 241]\n  }],\n  \"freesurface-blue\": [{\n    \"index\": 0,\n    \"rgb\": [30, 4, 110]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [47, 14, 176]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [41, 45, 236]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [25, 99, 212]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [68, 131, 200]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [114, 156, 197]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [157, 181, 203]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [200, 208, 216]\n  }, {\n    \"index\": 1,\n    \"rgb\": [241, 237, 236]\n  }],\n  \"freesurface-red\": [{\n    \"index\": 0,\n    \"rgb\": [60, 9, 18]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [100, 17, 27]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [142, 20, 29]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [177, 43, 27]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [192, 87, 63]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [205, 125, 105]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [216, 162, 148]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [227, 199, 193]\n  }, {\n    \"index\": 1,\n    \"rgb\": [241, 237, 236]\n  }],\n  \"oxygen\": [{\n    \"index\": 0,\n    \"rgb\": [64, 5, 5]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [106, 6, 15]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [144, 26, 7]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [168, 64, 3]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [188, 100, 4]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [206, 136, 11]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [220, 174, 25]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [231, 215, 44]\n  }, {\n    \"index\": 1,\n    \"rgb\": [248, 254, 105]\n  }],\n  \"par\": [{\n    \"index\": 0,\n    \"rgb\": [51, 20, 24]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [90, 32, 35]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [129, 44, 34]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [159, 68, 25]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [182, 99, 19]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [199, 134, 22]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [212, 171, 35]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [221, 210, 54]\n  }, {\n    \"index\": 1,\n    \"rgb\": [225, 253, 75]\n  }],\n  \"phase\": [{\n    \"index\": 0,\n    \"rgb\": [145, 105, 18]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [184, 71, 38]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [186, 58, 115]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [160, 71, 185]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [110, 97, 218]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [50, 123, 164]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [31, 131, 110]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [77, 129, 34]\n  }, {\n    \"index\": 1,\n    \"rgb\": [145, 105, 18]\n  }],\n  \"salinity\": [{\n    \"index\": 0,\n    \"rgb\": [42, 24, 108]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [33, 50, 162]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [15, 90, 145]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [40, 118, 137]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [59, 146, 135]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [79, 175, 126]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [120, 203, 104]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [193, 221, 100]\n  }, {\n    \"index\": 1,\n    \"rgb\": [253, 239, 154]\n  }],\n  \"temperature\": [{\n    \"index\": 0,\n    \"rgb\": [4, 35, 51]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [23, 51, 122]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [85, 59, 157]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [129, 79, 143]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [175, 95, 130]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [222, 112, 101]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [249, 146, 66]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [249, 196, 65]\n  }, {\n    \"index\": 1,\n    \"rgb\": [232, 250, 91]\n  }],\n  \"turbidity\": [{\n    \"index\": 0,\n    \"rgb\": [34, 31, 27]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [65, 50, 41]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [98, 69, 52]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [131, 89, 57]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [161, 112, 59]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [185, 140, 66]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [202, 174, 88]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [216, 209, 126]\n  }, {\n    \"index\": 1,\n    \"rgb\": [233, 246, 171]\n  }],\n  \"velocity-blue\": [{\n    \"index\": 0,\n    \"rgb\": [17, 32, 64]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [35, 52, 116]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [29, 81, 156]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [31, 113, 162]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [50, 144, 169]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [87, 173, 176]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [149, 196, 189]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [203, 221, 211]\n  }, {\n    \"index\": 1,\n    \"rgb\": [254, 251, 230]\n  }],\n  \"velocity-green\": [{\n    \"index\": 0,\n    \"rgb\": [23, 35, 19]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [24, 64, 38]\n  }, {\n    \"index\": 0.25,\n    \"rgb\": [11, 95, 45]\n  }, {\n    \"index\": 0.38,\n    \"rgb\": [39, 123, 35]\n  }, {\n    \"index\": 0.5,\n    \"rgb\": [95, 146, 12]\n  }, {\n    \"index\": 0.63,\n    \"rgb\": [152, 165, 18]\n  }, {\n    \"index\": 0.75,\n    \"rgb\": [201, 186, 69]\n  }, {\n    \"index\": 0.88,\n    \"rgb\": [233, 216, 137]\n  }, {\n    \"index\": 1,\n    \"rgb\": [255, 253, 205]\n  }],\n  \"cubehelix\": [{\n    \"index\": 0,\n    \"rgb\": [0, 0, 0]\n  }, {\n    \"index\": 0.07,\n    \"rgb\": [22, 5, 59]\n  }, {\n    \"index\": 0.13,\n    \"rgb\": [60, 4, 105]\n  }, {\n    \"index\": 0.2,\n    \"rgb\": [109, 1, 135]\n  }, {\n    \"index\": 0.27,\n    \"rgb\": [161, 0, 147]\n  }, {\n    \"index\": 0.33,\n    \"rgb\": [210, 2, 142]\n  }, {\n    \"index\": 0.4,\n    \"rgb\": [251, 11, 123]\n  }, {\n    \"index\": 0.47,\n    \"rgb\": [255, 29, 97]\n  }, {\n    \"index\": 0.53,\n    \"rgb\": [255, 54, 69]\n  }, {\n    \"index\": 0.6,\n    \"rgb\": [255, 85, 46]\n  }, {\n    \"index\": 0.67,\n    \"rgb\": [255, 120, 34]\n  }, {\n    \"index\": 0.73,\n    \"rgb\": [255, 157, 37]\n  }, {\n    \"index\": 0.8,\n    \"rgb\": [241, 191, 57]\n  }, {\n    \"index\": 0.87,\n    \"rgb\": [224, 220, 93]\n  }, {\n    \"index\": 0.93,\n    \"rgb\": [218, 241, 142]\n  }, {\n    \"index\": 1,\n    \"rgb\": [227, 253, 198]\n  }]\n};","/*\n * Ben Postlethwaite\n * January 2013\n * License MIT\n */\n'use strict';\n\nvar colorScale = require('./colorScale');\nvar lerp = require('lerp');\nmodule.exports = createColormap;\nfunction createColormap(spec) {\n  /*\n   * Default Options\n   */\n  var indicies, fromrgba, torgba, nsteps, cmap, colormap, format, nshades, colors, alpha, i;\n  if (!spec) spec = {};\n  nshades = (spec.nshades || 72) - 1;\n  format = spec.format || 'hex';\n  colormap = spec.colormap;\n  if (!colormap) colormap = 'jet';\n  if (typeof colormap === 'string') {\n    colormap = colormap.toLowerCase();\n    if (!colorScale[colormap]) {\n      throw Error(colormap + ' not a supported colorscale');\n    }\n    cmap = colorScale[colormap];\n  } else if (Array.isArray(colormap)) {\n    cmap = colormap.slice();\n  } else {\n    throw Error('unsupported colormap option', colormap);\n  }\n  if (cmap.length > nshades + 1) {\n    throw new Error(colormap + ' map requires nshades to be at least size ' + cmap.length);\n  }\n  if (!Array.isArray(spec.alpha)) {\n    if (typeof spec.alpha === 'number') {\n      alpha = [spec.alpha, spec.alpha];\n    } else {\n      alpha = [1, 1];\n    }\n  } else if (spec.alpha.length !== 2) {\n    alpha = [1, 1];\n  } else {\n    alpha = spec.alpha.slice();\n  }\n\n  // map index points from 0..1 to 0..n-1\n  indicies = cmap.map(function (c) {\n    return Math.round(c.index * nshades);\n  });\n\n  // Add alpha channel to the map\n  alpha[0] = Math.min(Math.max(alpha[0], 0), 1);\n  alpha[1] = Math.min(Math.max(alpha[1], 0), 1);\n  var steps = cmap.map(function (c, i) {\n    var index = cmap[i].index;\n    var rgba = cmap[i].rgb.slice();\n\n    // if user supplies their own map use it\n    if (rgba.length === 4 && rgba[3] >= 0 && rgba[3] <= 1) {\n      return rgba;\n    }\n    rgba[3] = alpha[0] + (alpha[1] - alpha[0]) * index;\n    return rgba;\n  });\n\n  /*\n   * map increasing linear values between indicies to\n   * linear steps in colorvalues\n   */\n  var colors = [];\n  for (i = 0; i < indicies.length - 1; ++i) {\n    nsteps = indicies[i + 1] - indicies[i];\n    fromrgba = steps[i];\n    torgba = steps[i + 1];\n    for (var j = 0; j < nsteps; j++) {\n      var amt = j / nsteps;\n      colors.push([Math.round(lerp(fromrgba[0], torgba[0], amt)), Math.round(lerp(fromrgba[1], torgba[1], amt)), Math.round(lerp(fromrgba[2], torgba[2], amt)), lerp(fromrgba[3], torgba[3], amt)]);\n    }\n  }\n\n  //add 1 step as last value\n  colors.push(cmap[cmap.length - 1].rgb.concat(alpha[1]));\n  if (format === 'hex') colors = colors.map(rgb2hex);else if (format === 'rgbaString') colors = colors.map(rgbaStr);else if (format === 'float') colors = colors.map(rgb2float);\n  return colors;\n}\n;\nfunction rgb2float(rgba) {\n  return [rgba[0] / 255, rgba[1] / 255, rgba[2] / 255, rgba[3]];\n}\nfunction rgb2hex(rgba) {\n  var dig,\n    hex = '#';\n  for (var i = 0; i < 3; ++i) {\n    dig = rgba[i];\n    dig = dig.toString(16);\n    hex += ('00' + dig).substr(dig.length);\n  }\n  return hex;\n}\nfunction rgbaStr(rgba) {\n  return 'rgba(' + rgba.join(',') + ')';\n}","export var fieldTagNames = {\n  // TIFF Baseline\n  0x013B: 'Artist',\n  0x0102: 'BitsPerSample',\n  0x0109: 'CellLength',\n  0x0108: 'CellWidth',\n  0x0140: 'ColorMap',\n  0x0103: 'Compression',\n  0x8298: 'Copyright',\n  0x0132: 'DateTime',\n  0x0152: 'ExtraSamples',\n  0x010A: 'FillOrder',\n  0x0121: 'FreeByteCounts',\n  0x0120: 'FreeOffsets',\n  0x0123: 'GrayResponseCurve',\n  0x0122: 'GrayResponseUnit',\n  0x013C: 'HostComputer',\n  0x010E: 'ImageDescription',\n  0x0101: 'ImageLength',\n  0x0100: 'ImageWidth',\n  0x010F: 'Make',\n  0x0119: 'MaxSampleValue',\n  0x0118: 'MinSampleValue',\n  0x0110: 'Model',\n  0x00FE: 'NewSubfileType',\n  0x0112: 'Orientation',\n  0x0106: 'PhotometricInterpretation',\n  0x011C: 'PlanarConfiguration',\n  0x0128: 'ResolutionUnit',\n  0x0116: 'RowsPerStrip',\n  0x0115: 'SamplesPerPixel',\n  0x0131: 'Software',\n  0x0117: 'StripByteCounts',\n  0x0111: 'StripOffsets',\n  0x00FF: 'SubfileType',\n  0x0107: 'Threshholding',\n  0x011A: 'XResolution',\n  0x011B: 'YResolution',\n  // TIFF Extended\n  0x0146: 'BadFaxLines',\n  0x0147: 'CleanFaxData',\n  0x0157: 'ClipPath',\n  0x0148: 'ConsecutiveBadFaxLines',\n  0x01B1: 'Decode',\n  0x01B2: 'DefaultImageColor',\n  0x010D: 'DocumentName',\n  0x0150: 'DotRange',\n  0x0141: 'HalftoneHints',\n  0x015A: 'Indexed',\n  0x015B: 'JPEGTables',\n  0x011D: 'PageName',\n  0x0129: 'PageNumber',\n  0x013D: 'Predictor',\n  0x013F: 'PrimaryChromaticities',\n  0x0214: 'ReferenceBlackWhite',\n  0x0153: 'SampleFormat',\n  0x0154: 'SMinSampleValue',\n  0x0155: 'SMaxSampleValue',\n  0x022F: 'StripRowCounts',\n  0x014A: 'SubIFDs',\n  0x0124: 'T4Options',\n  0x0125: 'T6Options',\n  0x0145: 'TileByteCounts',\n  0x0143: 'TileLength',\n  0x0144: 'TileOffsets',\n  0x0142: 'TileWidth',\n  0x012D: 'TransferFunction',\n  0x013E: 'WhitePoint',\n  0x0158: 'XClipPathUnits',\n  0x011E: 'XPosition',\n  0x0211: 'YCbCrCoefficients',\n  0x0213: 'YCbCrPositioning',\n  0x0212: 'YCbCrSubSampling',\n  0x0159: 'YClipPathUnits',\n  0x011F: 'YPosition',\n  // EXIF\n  0x9202: 'ApertureValue',\n  0xA001: 'ColorSpace',\n  0x9004: 'DateTimeDigitized',\n  0x9003: 'DateTimeOriginal',\n  0x8769: 'Exif IFD',\n  0x9000: 'ExifVersion',\n  0x829A: 'ExposureTime',\n  0xA300: 'FileSource',\n  0x9209: 'Flash',\n  0xA000: 'FlashpixVersion',\n  0x829D: 'FNumber',\n  0xA420: 'ImageUniqueID',\n  0x9208: 'LightSource',\n  0x927C: 'MakerNote',\n  0x9201: 'ShutterSpeedValue',\n  0x9286: 'UserComment',\n  // IPTC\n  0x83BB: 'IPTC',\n  // ICC\n  0x8773: 'ICC Profile',\n  // XMP\n  0x02BC: 'XMP',\n  // GDAL\n  0xA480: 'GDAL_METADATA',\n  0xA481: 'GDAL_NODATA',\n  // Photoshop\n  0x8649: 'Photoshop',\n  // GeoTiff\n  0x830E: 'ModelPixelScale',\n  0x8482: 'ModelTiepoint',\n  0x85D8: 'ModelTransformation',\n  0x87AF: 'GeoKeyDirectory',\n  0x87B0: 'GeoDoubleParams',\n  0x87B1: 'GeoAsciiParams',\n  // LERC\n  0xC5F2: 'LercParameters'\n};\nexport var fieldTags = {};\nfor (var key in fieldTagNames) {\n  if (fieldTagNames.hasOwnProperty(key)) {\n    fieldTags[fieldTagNames[key]] = parseInt(key, 10);\n  }\n}\nexport var fieldTagTypes = {\n  256: 'SHORT',\n  257: 'SHORT',\n  258: 'SHORT',\n  259: 'SHORT',\n  262: 'SHORT',\n  273: 'LONG',\n  274: 'SHORT',\n  277: 'SHORT',\n  278: 'LONG',\n  279: 'LONG',\n  282: 'RATIONAL',\n  283: 'RATIONAL',\n  284: 'SHORT',\n  286: 'SHORT',\n  287: 'RATIONAL',\n  296: 'SHORT',\n  297: 'SHORT',\n  305: 'ASCII',\n  306: 'ASCII',\n  338: 'SHORT',\n  339: 'SHORT',\n  513: 'LONG',\n  514: 'LONG',\n  1024: 'SHORT',\n  1025: 'SHORT',\n  2048: 'SHORT',\n  2049: 'ASCII',\n  3072: 'SHORT',\n  3073: 'ASCII',\n  33550: 'DOUBLE',\n  33922: 'DOUBLE',\n  34665: 'LONG',\n  34735: 'SHORT',\n  34737: 'ASCII',\n  42113: 'ASCII'\n};\nexport var arrayFields = [fieldTags.BitsPerSample, fieldTags.ExtraSamples, fieldTags.SampleFormat, fieldTags.StripByteCounts, fieldTags.StripOffsets, fieldTags.StripRowCounts, fieldTags.TileByteCounts, fieldTags.TileOffsets, fieldTags.SubIFDs];\nexport var fieldTypeNames = {\n  0x0001: 'BYTE',\n  0x0002: 'ASCII',\n  0x0003: 'SHORT',\n  0x0004: 'LONG',\n  0x0005: 'RATIONAL',\n  0x0006: 'SBYTE',\n  0x0007: 'UNDEFINED',\n  0x0008: 'SSHORT',\n  0x0009: 'SLONG',\n  0x000A: 'SRATIONAL',\n  0x000B: 'FLOAT',\n  0x000C: 'DOUBLE',\n  // IFD offset, suggested by https://owl.phy.queensu.ca/~phil/exiftool/standards.html\n  0x000D: 'IFD',\n  // introduced by BigTIFF\n  0x0010: 'LONG8',\n  0x0011: 'SLONG8',\n  0x0012: 'IFD8'\n};\nexport var fieldTypes = {};\nfor (var _key in fieldTypeNames) {\n  if (fieldTypeNames.hasOwnProperty(_key)) {\n    fieldTypes[fieldTypeNames[_key]] = parseInt(_key, 10);\n  }\n}\nexport var photometricInterpretations = {\n  WhiteIsZero: 0,\n  BlackIsZero: 1,\n  RGB: 2,\n  Palette: 3,\n  TransparencyMask: 4,\n  CMYK: 5,\n  YCbCr: 6,\n  CIELab: 8,\n  ICCLab: 9\n};\nexport var ExtraSamplesValues = {\n  Unspecified: 0,\n  Assocalpha: 1,\n  Unassalpha: 2\n};\nexport var LercParameters = {\n  Version: 0,\n  AddCompression: 1\n};\nexport var LercAddCompression = {\n  None: 0,\n  Deflate: 1\n};\nexport var geoKeyNames = {\n  1024: 'GTModelTypeGeoKey',\n  1025: 'GTRasterTypeGeoKey',\n  1026: 'GTCitationGeoKey',\n  2048: 'GeographicTypeGeoKey',\n  2049: 'GeogCitationGeoKey',\n  2050: 'GeogGeodeticDatumGeoKey',\n  2051: 'GeogPrimeMeridianGeoKey',\n  2052: 'GeogLinearUnitsGeoKey',\n  2053: 'GeogLinearUnitSizeGeoKey',\n  2054: 'GeogAngularUnitsGeoKey',\n  2055: 'GeogAngularUnitSizeGeoKey',\n  2056: 'GeogEllipsoidGeoKey',\n  2057: 'GeogSemiMajorAxisGeoKey',\n  2058: 'GeogSemiMinorAxisGeoKey',\n  2059: 'GeogInvFlatteningGeoKey',\n  2060: 'GeogAzimuthUnitsGeoKey',\n  2061: 'GeogPrimeMeridianLongGeoKey',\n  2062: 'GeogTOWGS84GeoKey',\n  3072: 'ProjectedCSTypeGeoKey',\n  3073: 'PCSCitationGeoKey',\n  3074: 'ProjectionGeoKey',\n  3075: 'ProjCoordTransGeoKey',\n  3076: 'ProjLinearUnitsGeoKey',\n  3077: 'ProjLinearUnitSizeGeoKey',\n  3078: 'ProjStdParallel1GeoKey',\n  3079: 'ProjStdParallel2GeoKey',\n  3080: 'ProjNatOriginLongGeoKey',\n  3081: 'ProjNatOriginLatGeoKey',\n  3082: 'ProjFalseEastingGeoKey',\n  3083: 'ProjFalseNorthingGeoKey',\n  3084: 'ProjFalseOriginLongGeoKey',\n  3085: 'ProjFalseOriginLatGeoKey',\n  3086: 'ProjFalseOriginEastingGeoKey',\n  3087: 'ProjFalseOriginNorthingGeoKey',\n  3088: 'ProjCenterLongGeoKey',\n  3089: 'ProjCenterLatGeoKey',\n  3090: 'ProjCenterEastingGeoKey',\n  3091: 'ProjCenterNorthingGeoKey',\n  3092: 'ProjScaleAtNatOriginGeoKey',\n  3093: 'ProjScaleAtCenterGeoKey',\n  3094: 'ProjAzimuthAngleGeoKey',\n  3095: 'ProjStraightVertPoleLongGeoKey',\n  3096: 'ProjRectifiedGridAngleGeoKey',\n  4096: 'VerticalCSTypeGeoKey',\n  4097: 'VerticalCitationGeoKey',\n  4098: 'VerticalDatumGeoKey',\n  4099: 'VerticalUnitsGeoKey'\n};\nexport var geoKeys = {};\nfor (var _key2 in geoKeyNames) {\n  if (geoKeyNames.hasOwnProperty(_key2)) {\n    geoKeys[geoKeyNames[_key2]] = parseInt(_key2, 10);\n  }\n}","function lerp(v0, v1, t) {\n  return v0 * (1 - t) + v1 * t;\n}\nmodule.exports = lerp;","function countSubstring(string, substring) {\n  var pattern = new RegExp(substring, \"g\");\n  var match = string.match(pattern);\n  return match ? match.length : 0;\n}\nmodule.exports = countSubstring;\nmodule.exports.default = countSubstring;","var indexOfMatch = require(\"./index-of-match.js\");\nvar indexOfMatchEnd = require(\"./index-of-match-end.js\");\nvar countSubstring = require(\"./count-substring.js\");\nfunction findTagByName(xml, tagName, options) {\n  var debug = options && options.debug || false;\n  var nested = !(options && typeof options.nested === false);\n  var startIndex = options && options.startIndex || 0;\n  if (debug) console.log(\"[xml-utils] starting findTagByName with\", tagName, \" and \", options);\n  var start = indexOfMatch(xml, \"<\".concat(tagName, \"[ >/]\"), startIndex);\n  if (debug) console.log(\"[xml-utils] start:\", start);\n  if (start === -1) return undefined;\n  var afterStart = xml.slice(start + tagName.length);\n  var relativeEnd = indexOfMatchEnd(afterStart, \"^[^<]*[ /]>\", 0);\n  var selfClosing = relativeEnd !== -1 && afterStart[relativeEnd - 1] === \"/\";\n  if (debug) console.log(\"[xml-utils] selfClosing:\", selfClosing);\n  if (selfClosing === false) {\n    // check if tag has subtags with the same name\n    if (nested) {\n      var _startIndex = 0;\n      var openings = 1;\n      var closings = 0;\n      while ((relativeEnd = indexOfMatchEnd(afterStart, \"[ /]\" + tagName + \">\", _startIndex)) !== -1) {\n        var clip = afterStart.substring(_startIndex, relativeEnd + 1);\n        openings += countSubstring(clip, \"<\" + tagName);\n        closings += countSubstring(clip, \"/\" + tagName + \">\");\n        // we can't have more openings than closings\n        if (closings >= openings) break;\n        _startIndex = relativeEnd;\n      }\n    } else {\n      relativeEnd = indexOfMatchEnd(afterStart, \"[ /]\" + tagName + \">\", 0);\n    }\n  }\n  var end = start + tagName.length + relativeEnd + 1;\n  if (debug) console.log(\"[xml-utils] end:\", end);\n  if (end === -1) return undefined;\n  var outer = xml.slice(start, end);\n  // tag is like <gml:identifier codeSpace=\"OGP\">urn:ogc:def:crs:EPSG::32617</gml:identifier>\n\n  var inner;\n  if (selfClosing) {\n    inner = null;\n  } else {\n    inner = outer.slice(outer.indexOf(\">\") + 1, outer.lastIndexOf(\"<\"));\n  }\n  return {\n    inner: inner,\n    outer: outer,\n    start: start,\n    end: end\n  };\n}\nmodule.exports = findTagByName;\nmodule.exports.default = findTagByName;","var findTagByName = require(\"./find-tag-by-name.js\");\nfunction findTagsByName(xml, tagName, options) {\n  var tags = [];\n  var debug = options && options.debug || false;\n  var nested = options && typeof options.nested === \"boolean\" ? options.nested : true;\n  var startIndex = options && options.startIndex || 0;\n  var tag;\n  while (tag = findTagByName(xml, tagName, {\n    debug: debug,\n    startIndex: startIndex\n  })) {\n    if (nested) {\n      startIndex = tag.start + 1 + tagName.length;\n    } else {\n      startIndex = tag.end;\n    }\n    tags.push(tag);\n  }\n  if (debug) console.log(\"findTagsByName found\", tags.length, \"tags\");\n  return tags;\n}\nmodule.exports = findTagsByName;\nmodule.exports.default = findTagsByName;","function getAttribute(tag, attributeName, options) {\n  var debug = options && options.debug || false;\n  if (debug) console.log(\"getting \" + attributeName + \" in \" + tag);\n  var xml = typeof tag === \"object\" ? tag.outer : tag;\n  var pattern = \"\".concat(attributeName, \"\\\\=\\\"([^\\\"]*)\\\"\");\n  if (debug) console.log(\"pattern:\", pattern);\n  var re = new RegExp(pattern);\n  var match = re.exec(xml);\n  if (debug) console.log(\"match:\", match);\n  if (match) return match[1];\n}\nmodule.exports = getAttribute;\nmodule.exports.default = getAttribute;","function indexOfMatchEnd(xml, pattern, startIndex) {\n  var re = new RegExp(pattern);\n  var match = re.exec(xml.slice(startIndex));\n  if (match) return startIndex + match.index + match[0].length - 1;else return -1;\n}\nmodule.exports = indexOfMatchEnd;\nmodule.exports.default = indexOfMatchEnd;","function indexOfMatch(xml, pattern, startIndex) {\n  var re = new RegExp(pattern);\n  var match = re.exec(xml.slice(startIndex));\n  if (match) return startIndex + match.index;else return -1;\n}\nmodule.exports = indexOfMatch;\nmodule.exports.default = indexOfMatch;","'use strict';\nvar toPropertyKey = require('../internals/to-property-key');\nvar definePropertyModule = require('../internals/object-define-property');\nvar createPropertyDescriptor = require('../internals/create-property-descriptor');\n\nmodule.exports = function (object, key, value) {\n  var propertyKey = toPropertyKey(key);\n  if (propertyKey in object) definePropertyModule.f(object, propertyKey, createPropertyDescriptor(0, value));\n  else object[propertyKey] = value;\n};\n","var classof = require('../internals/classof');\nvar getMethod = require('../internals/get-method');\nvar isNullOrUndefined = require('../internals/is-null-or-undefined');\nvar Iterators = require('../internals/iterators');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar ITERATOR = wellKnownSymbol('iterator');\n\nmodule.exports = function (it) {\n  if (!isNullOrUndefined(it)) return getMethod(it, ITERATOR)\n    || getMethod(it, '@@iterator')\n    || Iterators[classof(it)];\n};\n","var call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar getIteratorMethod = require('../internals/get-iterator-method');\n\nvar $TypeError = TypeError;\n\nmodule.exports = function (argument, usingIterator) {\n  var iteratorMethod = arguments.length < 2 ? getIteratorMethod(argument) : usingIterator;\n  if (aCallable(iteratorMethod)) return anObject(call(iteratorMethod, argument));\n  throw $TypeError(tryToString(argument) + ' is not iterable');\n};\n","var wellKnownSymbol = require('../internals/well-known-symbol');\nvar Iterators = require('../internals/iterators');\n\nvar ITERATOR = wellKnownSymbol('iterator');\nvar ArrayPrototype = Array.prototype;\n\n// check on default Array iterator\nmodule.exports = function (it) {\n  return it !== undefined && (Iterators.Array === it || ArrayPrototype[ITERATOR] === it);\n};\n","var bind = require('../internals/function-bind-context');\nvar call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar tryToString = require('../internals/try-to-string');\nvar isArrayIteratorMethod = require('../internals/is-array-iterator-method');\nvar lengthOfArrayLike = require('../internals/length-of-array-like');\nvar isPrototypeOf = require('../internals/object-is-prototype-of');\nvar getIterator = require('../internals/get-iterator');\nvar getIteratorMethod = require('../internals/get-iterator-method');\nvar iteratorClose = require('../internals/iterator-close');\n\nvar $TypeError = TypeError;\n\nvar Result = function (stopped, result) {\n  this.stopped = stopped;\n  this.result = result;\n};\n\nvar ResultPrototype = Result.prototype;\n\nmodule.exports = function (iterable, unboundFunction, options) {\n  var that = options && options.that;\n  var AS_ENTRIES = !!(options && options.AS_ENTRIES);\n  var IS_RECORD = !!(options && options.IS_RECORD);\n  var IS_ITERATOR = !!(options && options.IS_ITERATOR);\n  var INTERRUPTED = !!(options && options.INTERRUPTED);\n  var fn = bind(unboundFunction, that);\n  var iterator, iterFn, index, length, result, next, step;\n\n  var stop = function (condition) {\n    if (iterator) iteratorClose(iterator, 'normal', condition);\n    return new Result(true, condition);\n  };\n\n  var callFn = function (value) {\n    if (AS_ENTRIES) {\n      anObject(value);\n      return INTERRUPTED ? fn(value[0], value[1], stop) : fn(value[0], value[1]);\n    } return INTERRUPTED ? fn(value, stop) : fn(value);\n  };\n\n  if (IS_RECORD) {\n    iterator = iterable.iterator;\n  } else if (IS_ITERATOR) {\n    iterator = iterable;\n  } else {\n    iterFn = getIteratorMethod(iterable);\n    if (!iterFn) throw $TypeError(tryToString(iterable) + ' is not iterable');\n    // optimisation for array iterators\n    if (isArrayIteratorMethod(iterFn)) {\n      for (index = 0, length = lengthOfArrayLike(iterable); length > index; index++) {\n        result = callFn(iterable[index]);\n        if (result && isPrototypeOf(ResultPrototype, result)) return result;\n      } return new Result(false);\n    }\n    iterator = getIterator(iterable, iterFn);\n  }\n\n  next = IS_RECORD ? iterable.next : iterator.next;\n  while (!(step = call(next, iterator)).done) {\n    try {\n      result = callFn(step.value);\n    } catch (error) {\n      iteratorClose(iterator, 'throw', error);\n    }\n    if (typeof result == 'object' && result && isPrototypeOf(ResultPrototype, result)) return result;\n  } return new Result(false);\n};\n","var call = require('../internals/function-call');\nvar anObject = require('../internals/an-object');\nvar getMethod = require('../internals/get-method');\n\nmodule.exports = function (iterator, kind, value) {\n  var innerResult, innerError;\n  anObject(iterator);\n  try {\n    innerResult = getMethod(iterator, 'return');\n    if (!innerResult) {\n      if (kind === 'throw') throw value;\n      return value;\n    }\n    innerResult = call(innerResult, iterator);\n  } catch (error) {\n    innerError = true;\n    innerResult = error;\n  }\n  if (kind === 'throw') throw value;\n  if (innerError) throw innerResult;\n  anObject(innerResult);\n  return value;\n};\n","module.exports = {};\n","'use strict';\nvar aCallable = require('../internals/a-callable');\n\nvar $TypeError = TypeError;\n\nvar PromiseCapability = function (C) {\n  var resolve, reject;\n  this.promise = new C(function ($$resolve, $$reject) {\n    if (resolve !== undefined || reject !== undefined) throw $TypeError('Bad Promise constructor');\n    resolve = $$resolve;\n    reject = $$reject;\n  });\n  this.resolve = aCallable(resolve);\n  this.reject = aCallable(reject);\n};\n\n// `NewPromiseCapability` abstract operation\n// https://tc39.es/ecma262/#sec-newpromisecapability\nmodule.exports.f = function (C) {\n  return new PromiseCapability(C);\n};\n","module.exports = function (exec) {\n  try {\n    return { error: false, value: exec() };\n  } catch (error) {\n    return { error: true, value: error };\n  }\n};\n","var $ = require('../internals/export');\nvar iterate = require('../internals/iterate');\nvar createProperty = require('../internals/create-property');\n\n// `Object.fromEntries` method\n// https://github.com/tc39/proposal-object-from-entries\n$({ target: 'Object', stat: true }, {\n  fromEntries: function fromEntries(iterable) {\n    var obj = {};\n    iterate(iterable, function (k, v) {\n      createProperty(obj, k, v);\n    }, { AS_ENTRIES: true });\n    return obj;\n  }\n});\n","'use strict';\nvar $ = require('../internals/export');\nvar call = require('../internals/function-call');\nvar aCallable = require('../internals/a-callable');\nvar newPromiseCapabilityModule = require('../internals/new-promise-capability');\nvar perform = require('../internals/perform');\nvar iterate = require('../internals/iterate');\n\n// `Promise.allSettled` method\n// https://tc39.es/ecma262/#sec-promise.allsettled\n$({ target: 'Promise', stat: true }, {\n  allSettled: function allSettled(iterable) {\n    var C = this;\n    var capability = newPromiseCapabilityModule.f(C);\n    var resolve = capability.resolve;\n    var reject = capability.reject;\n    var result = perform(function () {\n      var promiseResolve = aCallable(C.resolve);\n      var values = [];\n      var counter = 0;\n      var remaining = 1;\n      iterate(iterable, function (promise) {\n        var index = counter++;\n        var alreadyCalled = false;\n        remaining++;\n        call(promiseResolve, C, promise).then(function (value) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'fulfilled', value: value };\n          --remaining || resolve(values);\n        }, function (error) {\n          if (alreadyCalled) return;\n          alreadyCalled = true;\n          values[index] = { status: 'rejected', reason: error };\n          --remaining || resolve(values);\n        });\n      });\n      --remaining || resolve(values);\n    });\n    if (result.error) reject(result.value);\n    return capability.promise;\n  }\n});\n","// TODO: Remove from `core-js@4`\nrequire('../modules/es.promise.all-settled.js');\n","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getCircularProgressUtilityClass(slot) {\n  return generateUtilityClass('MuiCircularProgress', slot);\n}\nvar circularProgressClasses = generateUtilityClasses('MuiCircularProgress', ['root', 'determinate', 'indeterminate', 'colorPrimary', 'colorSecondary', 'svg', 'circle', 'circleDeterminate', 'circleIndeterminate', 'circleDisableShrink']);\nexport default circularProgressClasses;","import _taggedTemplateLiteral from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral.js\";\nvar _templateObject, _templateObject2, _templateObject3, _templateObject4;\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"className\", \"color\", \"disableShrink\", \"size\", \"style\", \"thickness\", \"value\", \"variant\"];\nvar _ = function _(t) {\n    return t;\n  },\n  _t,\n  _t2,\n  _t3,\n  _t4;\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { chainPropTypes } from '@mui/utils';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { keyframes, css } from '@mui/system';\nimport capitalize from '../utils/capitalize';\nimport useThemeProps from '../styles/useThemeProps';\nimport styled from '../styles/styled';\nimport { getCircularProgressUtilityClass } from './circularProgressClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar SIZE = 44;\nvar circularRotateKeyframe = keyframes(_t || (_t = _(_templateObject || (_templateObject = _taggedTemplateLiteral([\"\\n  0% {\\n    transform: rotate(0deg);\\n  }\\n\\n  100% {\\n    transform: rotate(360deg);\\n  }\\n\"])))));\nvar circularDashKeyframe = keyframes(_t2 || (_t2 = _(_templateObject2 || (_templateObject2 = _taggedTemplateLiteral([\"\\n  0% {\\n    stroke-dasharray: 1px, 200px;\\n    stroke-dashoffset: 0;\\n  }\\n\\n  50% {\\n    stroke-dasharray: 100px, 200px;\\n    stroke-dashoffset: -15px;\\n  }\\n\\n  100% {\\n    stroke-dasharray: 100px, 200px;\\n    stroke-dashoffset: -125px;\\n  }\\n\"])))));\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var classes = ownerState.classes,\n    variant = ownerState.variant,\n    color = ownerState.color,\n    disableShrink = ownerState.disableShrink;\n  var slots = {\n    root: ['root', variant, \"color\".concat(capitalize(color))],\n    svg: ['svg'],\n    circle: ['circle', \"circle\".concat(capitalize(variant)), disableShrink && 'circleDisableShrink']\n  };\n  return composeClasses(slots, getCircularProgressUtilityClass, classes);\n};\nvar CircularProgressRoot = styled('span', {\n  name: 'MuiCircularProgress',\n  slot: 'Root',\n  overridesResolver: function overridesResolver(props, styles) {\n    var ownerState = props.ownerState;\n    return [styles.root, styles[ownerState.variant], styles[\"color\".concat(capitalize(ownerState.color))]];\n  }\n})(function (_ref) {\n  var ownerState = _ref.ownerState,\n    theme = _ref.theme;\n  return _extends({\n    display: 'inline-block'\n  }, ownerState.variant === 'determinate' && {\n    transition: theme.transitions.create('transform')\n  }, ownerState.color !== 'inherit' && {\n    color: (theme.vars || theme).palette[ownerState.color].main\n  });\n}, function (_ref2) {\n  var ownerState = _ref2.ownerState;\n  return ownerState.variant === 'indeterminate' && css(_t3 || (_t3 = _(_templateObject3 || (_templateObject3 = _taggedTemplateLiteral([\"\\n      animation: \", \" 1.4s linear infinite;\\n    \"])), 0)), circularRotateKeyframe);\n});\nvar CircularProgressSVG = styled('svg', {\n  name: 'MuiCircularProgress',\n  slot: 'Svg',\n  overridesResolver: function overridesResolver(props, styles) {\n    return styles.svg;\n  }\n})({\n  display: 'block' // Keeps the progress centered\n});\n\nvar CircularProgressCircle = styled('circle', {\n  name: 'MuiCircularProgress',\n  slot: 'Circle',\n  overridesResolver: function overridesResolver(props, styles) {\n    var ownerState = props.ownerState;\n    return [styles.circle, styles[\"circle\".concat(capitalize(ownerState.variant))], ownerState.disableShrink && styles.circleDisableShrink];\n  }\n})(function (_ref3) {\n  var ownerState = _ref3.ownerState,\n    theme = _ref3.theme;\n  return _extends({\n    stroke: 'currentColor'\n  }, ownerState.variant === 'determinate' && {\n    transition: theme.transitions.create('stroke-dashoffset')\n  }, ownerState.variant === 'indeterminate' && {\n    // Some default value that looks fine waiting for the animation to kicks in.\n    strokeDasharray: '80px, 200px',\n    strokeDashoffset: 0 // Add the unit to fix a Edge 16 and below bug.\n  });\n}, function (_ref4) {\n  var ownerState = _ref4.ownerState;\n  return ownerState.variant === 'indeterminate' && !ownerState.disableShrink && css(_t4 || (_t4 = _(_templateObject4 || (_templateObject4 = _taggedTemplateLiteral([\"\\n      animation: \", \" 1.4s ease-in-out infinite;\\n    \"])), 0)), circularDashKeyframe);\n});\n/**\n * ## ARIA\n *\n * If the progress bar is describing the loading progress of a particular region of a page,\n * you should use `aria-describedby` to point to the progress bar, and set the `aria-busy`\n * attribute to `true` on that region until it has finished loading.\n */\n\nvar CircularProgress = /*#__PURE__*/React.forwardRef(function CircularProgress(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiCircularProgress'\n  });\n  var className = props.className,\n    _props$color = props.color,\n    color = _props$color === void 0 ? 'primary' : _props$color,\n    _props$disableShrink = props.disableShrink,\n    disableShrink = _props$disableShrink === void 0 ? false : _props$disableShrink,\n    _props$size = props.size,\n    size = _props$size === void 0 ? 40 : _props$size,\n    style = props.style,\n    _props$thickness = props.thickness,\n    thickness = _props$thickness === void 0 ? 3.6 : _props$thickness,\n    _props$value = props.value,\n    value = _props$value === void 0 ? 0 : _props$value,\n    _props$variant = props.variant,\n    variant = _props$variant === void 0 ? 'indeterminate' : _props$variant,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  var ownerState = _extends({}, props, {\n    color: color,\n    disableShrink: disableShrink,\n    size: size,\n    thickness: thickness,\n    value: value,\n    variant: variant\n  });\n  var classes = useUtilityClasses(ownerState);\n  var circleStyle = {};\n  var rootStyle = {};\n  var rootProps = {};\n  if (variant === 'determinate') {\n    var circumference = 2 * Math.PI * ((SIZE - thickness) / 2);\n    circleStyle.strokeDasharray = circumference.toFixed(3);\n    rootProps['aria-valuenow'] = Math.round(value);\n    circleStyle.strokeDashoffset = \"\".concat(((100 - value) / 100 * circumference).toFixed(3), \"px\");\n    rootStyle.transform = 'rotate(-90deg)';\n  }\n  return /*#__PURE__*/_jsx(CircularProgressRoot, _extends({\n    className: clsx(classes.root, className),\n    style: _extends({\n      width: size,\n      height: size\n    }, rootStyle, style),\n    ownerState: ownerState,\n    ref: ref,\n    role: \"progressbar\"\n  }, rootProps, other, {\n    children: /*#__PURE__*/_jsx(CircularProgressSVG, {\n      className: classes.svg,\n      ownerState: ownerState,\n      viewBox: \"\".concat(SIZE / 2, \" \").concat(SIZE / 2, \" \").concat(SIZE, \" \").concat(SIZE),\n      children: /*#__PURE__*/_jsx(CircularProgressCircle, {\n        className: classes.circle,\n        style: circleStyle,\n        ownerState: ownerState,\n        cx: SIZE,\n        cy: SIZE,\n        r: (SIZE - thickness) / 2,\n        fill: \"none\",\n        strokeWidth: thickness\n      })\n    })\n  }));\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default CircularProgress;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getDividerUtilityClass(slot) {\n  return generateUtilityClass('MuiDivider', slot);\n}\nvar dividerClasses = generateUtilityClasses('MuiDivider', ['root', 'absolute', 'fullWidth', 'inset', 'middle', 'flexItem', 'light', 'vertical', 'withChildren', 'withChildrenVertical', 'textAlignRight', 'textAlignLeft', 'wrapper', 'wrapperVertical']);\nexport default dividerClasses;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getListItemIconUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemIcon', slot);\n}\nvar listItemIconClasses = generateUtilityClasses('MuiListItemIcon', ['root', 'alignItemsFlexStart']);\nexport default listItemIconClasses;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getListItemTextUtilityClass(slot) {\n  return generateUtilityClass('MuiListItemText', slot);\n}\nvar listItemTextClasses = generateUtilityClasses('MuiListItemText', ['root', 'multiline', 'dense', 'inset', 'primary', 'secondary']);\nexport default listItemTextClasses;","import { generateUtilityClass, generateUtilityClasses } from '@mui/base';\nexport function getMenuItemUtilityClass(slot) {\n  return generateUtilityClass('MuiMenuItem', slot);\n}\nvar menuItemClasses = generateUtilityClasses('MuiMenuItem', ['root', 'focusVisible', 'dense', 'disabled', 'divider', 'gutters', 'selected']);\nexport default menuItemClasses;","import _defineProperty from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\nvar _excluded = [\"autoFocus\", \"component\", \"dense\", \"divider\", \"disableGutters\", \"focusVisibleClassName\", \"role\", \"tabIndex\", \"className\"];\nimport * as React from 'react';\nimport clsx from 'clsx';\nimport { unstable_composeClasses as composeClasses } from '@mui/base';\nimport { alpha } from '@mui/system';\nimport styled, { rootShouldForwardProp } from '../styles/styled';\nimport useThemeProps from '../styles/useThemeProps';\nimport ListContext from '../List/ListContext';\nimport ButtonBase from '../ButtonBase';\nimport useEnhancedEffect from '../utils/useEnhancedEffect';\nimport useForkRef from '../utils/useForkRef';\nimport { dividerClasses } from '../Divider';\nimport { listItemIconClasses } from '../ListItemIcon';\nimport { listItemTextClasses } from '../ListItemText';\nimport menuItemClasses, { getMenuItemUtilityClass } from './menuItemClasses';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nexport var overridesResolver = function overridesResolver(props, styles) {\n  var ownerState = props.ownerState;\n  return [styles.root, ownerState.dense && styles.dense, ownerState.divider && styles.divider, !ownerState.disableGutters && styles.gutters];\n};\nvar useUtilityClasses = function useUtilityClasses(ownerState) {\n  var disabled = ownerState.disabled,\n    dense = ownerState.dense,\n    divider = ownerState.divider,\n    disableGutters = ownerState.disableGutters,\n    selected = ownerState.selected,\n    classes = ownerState.classes;\n  var slots = {\n    root: ['root', dense && 'dense', disabled && 'disabled', !disableGutters && 'gutters', divider && 'divider', selected && 'selected']\n  };\n  var composedClasses = composeClasses(slots, getMenuItemUtilityClass, classes);\n  return _extends({}, classes, composedClasses);\n};\nvar MenuItemRoot = styled(ButtonBase, {\n  shouldForwardProp: function shouldForwardProp(prop) {\n    return rootShouldForwardProp(prop) || prop === 'classes';\n  },\n  name: 'MuiMenuItem',\n  slot: 'Root',\n  overridesResolver: overridesResolver\n})(function (_ref) {\n  var _extends2;\n  var theme = _ref.theme,\n    ownerState = _ref.ownerState;\n  return _extends({}, theme.typography.body1, {\n    display: 'flex',\n    justifyContent: 'flex-start',\n    alignItems: 'center',\n    position: 'relative',\n    textDecoration: 'none',\n    minHeight: 48,\n    paddingTop: 6,\n    paddingBottom: 6,\n    boxSizing: 'border-box',\n    whiteSpace: 'nowrap'\n  }, !ownerState.disableGutters && {\n    paddingLeft: 16,\n    paddingRight: 16\n  }, ownerState.divider && {\n    borderBottom: \"1px solid \".concat((theme.vars || theme).palette.divider),\n    backgroundClip: 'padding-box'\n  }, (_extends2 = {\n    '&:hover': {\n      textDecoration: 'none',\n      backgroundColor: (theme.vars || theme).palette.action.hover,\n      // Reset on touch devices, it doesn't add specificity\n      '@media (hover: none)': {\n        backgroundColor: 'transparent'\n      }\n    }\n  }, _defineProperty(_extends2, \"&.\".concat(menuItemClasses.selected), _defineProperty({\n    backgroundColor: theme.vars ? \"rgba(\".concat(theme.vars.palette.primary.mainChannel, \" / \").concat(theme.vars.palette.action.selectedOpacity, \")\") : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n  }, \"&.\".concat(menuItemClasses.focusVisible), {\n    backgroundColor: theme.vars ? \"rgba(\".concat(theme.vars.palette.primary.mainChannel, \" / calc(\").concat(theme.vars.palette.action.selectedOpacity, \" + \").concat(theme.vars.palette.action.focusOpacity, \"))\") : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.focusOpacity)\n  })), _defineProperty(_extends2, \"&.\".concat(menuItemClasses.selected, \":hover\"), {\n    backgroundColor: theme.vars ? \"rgba(\".concat(theme.vars.palette.primary.mainChannel, \" / calc(\").concat(theme.vars.palette.action.selectedOpacity, \" + \").concat(theme.vars.palette.action.hoverOpacity, \"))\") : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity + theme.palette.action.hoverOpacity),\n    // Reset on touch devices, it doesn't add specificity\n    '@media (hover: none)': {\n      backgroundColor: theme.vars ? \"rgba(\".concat(theme.vars.palette.primary.mainChannel, \" / \").concat(theme.vars.palette.action.selectedOpacity, \")\") : alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\n    }\n  }), _defineProperty(_extends2, \"&.\".concat(menuItemClasses.focusVisible), {\n    backgroundColor: (theme.vars || theme).palette.action.focus\n  }), _defineProperty(_extends2, \"&.\".concat(menuItemClasses.disabled), {\n    opacity: (theme.vars || theme).palette.action.disabledOpacity\n  }), _defineProperty(_extends2, \"& + .\".concat(dividerClasses.root), {\n    marginTop: theme.spacing(1),\n    marginBottom: theme.spacing(1)\n  }), _defineProperty(_extends2, \"& + .\".concat(dividerClasses.inset), {\n    marginLeft: 52\n  }), _defineProperty(_extends2, \"& .\".concat(listItemTextClasses.root), {\n    marginTop: 0,\n    marginBottom: 0\n  }), _defineProperty(_extends2, \"& .\".concat(listItemTextClasses.inset), {\n    paddingLeft: 36\n  }), _defineProperty(_extends2, \"& .\".concat(listItemIconClasses.root), {\n    minWidth: 36\n  }), _extends2), !ownerState.dense && _defineProperty({}, theme.breakpoints.up('sm'), {\n    minHeight: 'auto'\n  }), ownerState.dense && _extends({\n    minHeight: 32,\n    // https://material.io/components/menus#specs > Dense\n    paddingTop: 4,\n    paddingBottom: 4\n  }, theme.typography.body2, _defineProperty({}, \"& .\".concat(listItemIconClasses.root, \" svg\"), {\n    fontSize: '1.25rem'\n  })));\n});\nvar MenuItem = /*#__PURE__*/React.forwardRef(function MenuItem(inProps, ref) {\n  var props = useThemeProps({\n    props: inProps,\n    name: 'MuiMenuItem'\n  });\n  var _props$autoFocus = props.autoFocus,\n    autoFocus = _props$autoFocus === void 0 ? false : _props$autoFocus,\n    _props$component = props.component,\n    component = _props$component === void 0 ? 'li' : _props$component,\n    _props$dense = props.dense,\n    dense = _props$dense === void 0 ? false : _props$dense,\n    _props$divider = props.divider,\n    divider = _props$divider === void 0 ? false : _props$divider,\n    _props$disableGutters = props.disableGutters,\n    disableGutters = _props$disableGutters === void 0 ? false : _props$disableGutters,\n    focusVisibleClassName = props.focusVisibleClassName,\n    _props$role = props.role,\n    role = _props$role === void 0 ? 'menuitem' : _props$role,\n    tabIndexProp = props.tabIndex,\n    className = props.className,\n    other = _objectWithoutPropertiesLoose(props, _excluded);\n  var context = React.useContext(ListContext);\n  var childContext = {\n    dense: dense || context.dense || false,\n    disableGutters: disableGutters\n  };\n  var menuItemRef = React.useRef(null);\n  useEnhancedEffect(function () {\n    if (autoFocus) {\n      if (menuItemRef.current) {\n        menuItemRef.current.focus();\n      } else if (process.env.NODE_ENV !== 'production') {\n        console.error('MUI: Unable to set focus to a MenuItem whose component has not been rendered.');\n      }\n    }\n  }, [autoFocus]);\n  var ownerState = _extends({}, props, {\n    dense: childContext.dense,\n    divider: divider,\n    disableGutters: disableGutters\n  });\n  var classes = useUtilityClasses(props);\n  var handleRef = useForkRef(menuItemRef, ref);\n  var tabIndex;\n  if (!props.disabled) {\n    tabIndex = tabIndexProp !== undefined ? tabIndexProp : -1;\n  }\n  return /*#__PURE__*/_jsx(ListContext.Provider, {\n    value: childContext,\n    children: /*#__PURE__*/_jsx(MenuItemRoot, _extends({\n      ref: handleRef,\n      role: role,\n      tabIndex: tabIndex,\n      component: component,\n      focusVisibleClassName: clsx(classes.focusVisible, focusVisibleClassName),\n      className: clsx(classes.root, className)\n    }, other, {\n      ownerState: ownerState,\n      classes: classes\n    }))\n  });\n});\nprocess.env.NODE_ENV !== \"production\" ? void 0 : void 0;\nexport default MenuItem;","export default function _isNativeReflectConstruct() {\n  if (typeof Reflect === \"undefined\" || !Reflect.construct) return false;\n  if (Reflect.construct.sham) return false;\n  if (typeof Proxy === \"function\") return true;\n  try {\n    Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {}));\n    return true;\n  } catch (e) {\n    return false;\n  }\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeReflectConstruct from \"./isNativeReflectConstruct.js\";\nexport default function _construct(Parent, args, Class) {\n  if (isNativeReflectConstruct()) {\n    _construct = Reflect.construct.bind();\n  } else {\n    _construct = function _construct(Parent, args, Class) {\n      var a = [null];\n      a.push.apply(a, args);\n      var Constructor = Function.bind.apply(Parent, a);\n      var instance = new Constructor();\n      if (Class) setPrototypeOf(instance, Class.prototype);\n      return instance;\n    };\n  }\n  return _construct.apply(null, arguments);\n}","import getPrototypeOf from \"./getPrototypeOf.js\";\nimport setPrototypeOf from \"./setPrototypeOf.js\";\nimport isNativeFunction from \"./isNativeFunction.js\";\nimport construct from \"./construct.js\";\nexport default function _wrapNativeSuper(Class) {\n  var _cache = typeof Map === \"function\" ? new Map() : undefined;\n  _wrapNativeSuper = function _wrapNativeSuper(Class) {\n    if (Class === null || !isNativeFunction(Class)) return Class;\n    if (typeof Class !== \"function\") {\n      throw new TypeError(\"Super expression must either be null or a function\");\n    }\n    if (typeof _cache !== \"undefined\") {\n      if (_cache.has(Class)) return _cache.get(Class);\n      _cache.set(Class, Wrapper);\n    }\n    function Wrapper() {\n      return construct(Class, arguments, getPrototypeOf(this).constructor);\n    }\n    Wrapper.prototype = Object.create(Class.prototype, {\n      constructor: {\n        value: Wrapper,\n        enumerable: false,\n        writable: true,\n        configurable: true\n      }\n    });\n    return setPrototypeOf(Wrapper, Class);\n  };\n  return _wrapNativeSuper(Class);\n}","export default function _isNativeFunction(fn) {\n  return Function.toString.call(fn).indexOf(\"[native code]\") !== -1;\n}","import _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\n/* eslint-disable no-restricted-globals, no-restricted-syntax */\n/* global SharedArrayBuffer */\n\nimport { CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT } from \"./messages.mjs\";\n\n/** @type {<T extends (...args: any) => any>(target: T) => (thisArg: ThisType<T>, ...args: any[]) => any} */\nfunction uncurryThis(target) {\n  return function (thisArg) {\n    for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n      args[_key - 1] = arguments[_key];\n    }\n    return ReflectApply(target, thisArg, args);\n  };\n}\n\n/** @type {(target: any, key: string | symbol) => (thisArg: any, ...args: any[]) => any} */\nfunction uncurryThisGetter(target, key) {\n  return uncurryThis(ReflectGetOwnPropertyDescriptor(target, key).get);\n}\n\n// Reflect\nvar ReflectApply = Reflect.apply,\n  ReflectConstruct = Reflect.construct,\n  ReflectDefineProperty = Reflect.defineProperty,\n  ReflectGet = Reflect.get,\n  ReflectGetOwnPropertyDescriptor = Reflect.getOwnPropertyDescriptor,\n  ReflectGetPrototypeOf = Reflect.getPrototypeOf,\n  ReflectHas = Reflect.has,\n  ReflectOwnKeys = Reflect.ownKeys,\n  ReflectSet = Reflect.set,\n  ReflectSetPrototypeOf = Reflect.setPrototypeOf;\n\n// Proxy\nexport { ReflectApply, ReflectConstruct, ReflectDefineProperty, ReflectGet, ReflectGetOwnPropertyDescriptor, ReflectGetPrototypeOf, ReflectHas, ReflectOwnKeys, ReflectSet, ReflectSetPrototypeOf };\nexport var NativeProxy = Proxy;\n\n// Number\nvar MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER,\n  NumberIsFinite = Number.isFinite,\n  NumberIsNaN = Number.isNaN;\n\n// Symbol\nexport { MAX_SAFE_INTEGER, NumberIsFinite, NumberIsNaN };\nvar SymbolIterator = Symbol.iterator,\n  SymbolSpecies = Symbol.species,\n  SymbolToStringTag = Symbol.toStringTag,\n  SymbolFor = Symbol.for;\n\n// Object\nexport { SymbolIterator, SymbolSpecies, SymbolToStringTag, SymbolFor };\nexport var NativeObject = Object;\nvar ObjectCreate = NativeObject.create,\n  ObjectDefineProperty = NativeObject.defineProperty,\n  ObjectFreeze = NativeObject.freeze,\n  ObjectIs = NativeObject.is;\nexport { ObjectCreate, ObjectDefineProperty, ObjectFreeze, ObjectIs };\nvar ObjectPrototype = NativeObject.prototype;\n/** @type {(object: object, key: PropertyKey) => Function | undefined} */\nexport var ObjectPrototype__lookupGetter__ = /** @type {any} */ObjectPrototype.__lookupGetter__ ? uncurryThis( /** @type {any} */ObjectPrototype.__lookupGetter__) : function (object, key) {\n  if (object == null) {\n    throw NativeTypeError(CANNOT_CONVERT_UNDEFINED_OR_NULL_TO_OBJECT);\n  }\n  var target = NativeObject(object);\n  do {\n    var descriptor = ReflectGetOwnPropertyDescriptor(target, key);\n    if (descriptor !== undefined) {\n      if (ObjectHasOwn(descriptor, \"get\")) {\n        return descriptor.get;\n      }\n      return;\n    }\n  } while ((target = ReflectGetPrototypeOf(target)) !== null);\n};\n/** @type {(object: object, key: PropertyKey) => boolean} */\nexport var ObjectHasOwn = /** @type {any} */NativeObject.hasOwn || uncurryThis(ObjectPrototype.hasOwnProperty);\n\n// Array\nvar NativeArray = Array;\nexport var ArrayIsArray = NativeArray.isArray;\nvar ArrayPrototype = NativeArray.prototype;\n/** @type {(array: ArrayLike<unknown>, separator?: string) => string} */\nexport var ArrayPrototypeJoin = uncurryThis(ArrayPrototype.join);\n/** @type {<T>(array: T[], ...items: T[]) => number} */\nexport var ArrayPrototypePush = uncurryThis(ArrayPrototype.push);\n/** @type {(array: ArrayLike<unknown>, ...opts: any[]) => string} */\nexport var ArrayPrototypeToLocaleString = uncurryThis(ArrayPrototype.toLocaleString);\nexport var NativeArrayPrototypeSymbolIterator = ArrayPrototype[SymbolIterator];\n/** @type {<T>(array: T[]) => IterableIterator<T>} */\nexport var ArrayPrototypeSymbolIterator = uncurryThis(NativeArrayPrototypeSymbolIterator);\n\n// Math\nexport var MathTrunc = Math.trunc;\n\n// ArrayBuffer\nexport var NativeArrayBuffer = ArrayBuffer;\nexport var ArrayBufferIsView = NativeArrayBuffer.isView;\nvar ArrayBufferPrototype = NativeArrayBuffer.prototype;\n/** @type {(buffer: ArrayBuffer, begin?: number, end?: number) => number} */\nexport var ArrayBufferPrototypeSlice = uncurryThis(ArrayBufferPrototype.slice);\n/** @type {(buffer: ArrayBuffer) => ArrayBuffer} */\nexport var ArrayBufferPrototypeGetByteLength = uncurryThisGetter(ArrayBufferPrototype, \"byteLength\");\n\n// SharedArrayBuffer\nexport var NativeSharedArrayBuffer = typeof SharedArrayBuffer !== \"undefined\" ? SharedArrayBuffer : null;\n/** @type {(buffer: SharedArrayBuffer) => SharedArrayBuffer} */\nexport var SharedArrayBufferPrototypeGetByteLength = NativeSharedArrayBuffer && uncurryThisGetter(NativeSharedArrayBuffer.prototype, \"byteLength\");\n\n// TypedArray\n/** @typedef {Uint8Array|Uint8ClampedArray|Uint16Array|Uint32Array|Int8Array|Int16Array|Int32Array|Float32Array|Float64Array|BigUint64Array|BigInt64Array} TypedArray */\n/** @type {any} */\nexport var TypedArray = ReflectGetPrototypeOf(Uint8Array);\nvar TypedArrayFrom = TypedArray.from;\nexport var TypedArrayPrototype = TypedArray.prototype;\nexport var NativeTypedArrayPrototypeSymbolIterator = TypedArrayPrototype[SymbolIterator];\n/** @type {(typedArray: TypedArray) => IterableIterator<number>} */\nexport var TypedArrayPrototypeKeys = uncurryThis(TypedArrayPrototype.keys);\n/** @type {(typedArray: TypedArray) => IterableIterator<number>} */\nexport var TypedArrayPrototypeValues = uncurryThis(TypedArrayPrototype.values);\n/** @type {(typedArray: TypedArray) => IterableIterator<[number, number]>} */\nexport var TypedArrayPrototypeEntries = uncurryThis(TypedArrayPrototype.entries);\n/** @type {(typedArray: TypedArray, array: ArrayLike<number>, offset?: number) => void} */\nexport var TypedArrayPrototypeSet = uncurryThis(TypedArrayPrototype.set);\n/** @type {<T extends TypedArray>(typedArray: T) => T} */\nexport var TypedArrayPrototypeReverse = uncurryThis(TypedArrayPrototype.reverse);\n/** @type {<T extends TypedArray>(typedArray: T, value: number, start?: number, end?: number) => T} */\nexport var TypedArrayPrototypeFill = uncurryThis(TypedArrayPrototype.fill);\n/** @type {<T extends TypedArray>(typedArray: T, target: number, start: number, end?: number) => T} */\nexport var TypedArrayPrototypeCopyWithin = uncurryThis(TypedArrayPrototype.copyWithin);\n/** @type {<T extends TypedArray>(typedArray: T, compareFn?: (a: number, b: number) => number) => T} */\nexport var TypedArrayPrototypeSort = uncurryThis(TypedArrayPrototype.sort);\n/** @type {<T extends TypedArray>(typedArray: T, start?: number, end?: number) => T} */\nexport var TypedArrayPrototypeSlice = uncurryThis(TypedArrayPrototype.slice);\n/** @type {<T extends TypedArray>(typedArray: T, start?: number, end?: number) => T} */\nexport var TypedArrayPrototypeSubarray = uncurryThis(TypedArrayPrototype.subarray);\n/** @type {((typedArray: TypedArray) => ArrayBuffer)} */\nexport var TypedArrayPrototypeGetBuffer = uncurryThisGetter(TypedArrayPrototype, \"buffer\");\n/** @type {((typedArray: TypedArray) => number)} */\nexport var TypedArrayPrototypeGetByteOffset = uncurryThisGetter(TypedArrayPrototype, \"byteOffset\");\n/** @type {((typedArray: TypedArray) => number)} */\nexport var TypedArrayPrototypeGetLength = uncurryThisGetter(TypedArrayPrototype, \"length\");\n/** @type {(target: unknown) => string} */\nexport var TypedArrayPrototypeGetSymbolToStringTag = uncurryThisGetter(TypedArrayPrototype, SymbolToStringTag);\n\n// Uint16Array\nexport var NativeUint16Array = Uint16Array;\n/** @type {Uint16ArrayConstructor[\"from\"]} */\nexport var Uint16ArrayFrom = function Uint16ArrayFrom() {\n  for (var _len2 = arguments.length, args = new Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n  return ReflectApply(TypedArrayFrom, NativeUint16Array, args);\n};\n\n// Uint32Array\nexport var NativeUint32Array = Uint32Array;\n\n// Float32Array\nexport var NativeFloat32Array = Float32Array;\n\n// ArrayIterator\n/** @type {any} */\nexport var ArrayIteratorPrototype = ReflectGetPrototypeOf([][SymbolIterator]());\n/** @type {<T>(arrayIterator: IterableIterator<T>) => IteratorResult<T>} */\nexport var ArrayIteratorPrototypeNext = uncurryThis(ArrayIteratorPrototype.next);\n\n// Generator\n/** @type {<T = unknown, TReturn = any, TNext = unknown>(generator: Generator<T, TReturn, TNext>, value?: TNext) => T} */\nexport var GeneratorPrototypeNext = uncurryThis( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n  return _regeneratorRuntime.wrap(function _callee$(_context) {\n    while (1) {\n      switch (_context.prev = _context.next) {\n        case 0:\n        case \"end\":\n          return _context.stop();\n      }\n    }\n  }, _callee);\n})().next);\n\n// Iterator\nexport var IteratorPrototype = ReflectGetPrototypeOf(ArrayIteratorPrototype);\n\n// DataView\nvar DataViewPrototype = DataView.prototype;\n/** @type {(dataView: DataView, byteOffset: number, littleEndian?: boolean) => number} */\nexport var DataViewPrototypeGetUint16 = uncurryThis(DataViewPrototype.getUint16);\n/** @type {(dataView: DataView, byteOffset: number, value: number, littleEndian?: boolean) => void} */\nexport var DataViewPrototypeSetUint16 = uncurryThis(DataViewPrototype.setUint16);\n\n// Error\nexport var NativeTypeError = TypeError;\nexport var NativeRangeError = RangeError;\n\n// WeakSet\n/**\n * Do not construct with arguments to avoid calling the \"add\" method\n *\n * @type {{new <T extends {}>(): WeakSet<T>}}\n */\nexport var NativeWeakSet = WeakSet;\nvar WeakSetPrototype = NativeWeakSet.prototype;\n/** @type {<T extends {}>(set: WeakSet<T>, value: T) => Set<T>} */\nexport var WeakSetPrototypeAdd = uncurryThis(WeakSetPrototype.add);\n/** @type {<T extends {}>(set: WeakSet<T>, value: T) => boolean} */\nexport var WeakSetPrototypeHas = uncurryThis(WeakSetPrototype.has);\n\n// WeakMap\n/**\n * Do not construct with arguments to avoid calling the \"set\" method\n *\n * @type {{new <K extends {}, V>(): WeakMap<K, V>}}\n */\nexport var NativeWeakMap = WeakMap;\nvar WeakMapPrototype = NativeWeakMap.prototype;\n/** @type {<K extends {}, V>(weakMap: WeakMap<K, V>, key: K) => V} */\nexport var WeakMapPrototypeGet = uncurryThis(WeakMapPrototype.get);\n/** @type {<K extends {}, V>(weakMap: WeakMap<K, V>, key: K) => boolean} */\nexport var WeakMapPrototypeHas = uncurryThis(WeakMapPrototype.has);\n/** @type {<K extends {}, V>(weakMap: WeakMap<K, V>, key: K, value: V) => WeakMap} */\nexport var WeakMapPrototypeSet = uncurryThis(WeakMapPrototype.set);","import _defineProperty from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport { ArrayIteratorPrototype, ArrayIteratorPrototypeNext, ArrayPrototypeSymbolIterator, GeneratorPrototypeNext, IteratorPrototype, NativeArrayPrototypeSymbolIterator, NativeWeakMap, ObjectCreate, ObjectDefineProperty, ReflectGetOwnPropertyDescriptor, ReflectOwnKeys, SymbolIterator, WeakMapPrototypeGet, WeakMapPrototypeSet } from \"./primordials.mjs\";\n\n/** @type {WeakMap<{}, IterableIterator<any>>} */\nvar arrayIterators = new NativeWeakMap();\nvar SafeIteratorPrototype = ObjectCreate(null, _defineProperty({\n  next: {\n    value: function next() {\n      var arrayIterator = WeakMapPrototypeGet(arrayIterators, this);\n      return ArrayIteratorPrototypeNext(arrayIterator);\n    }\n  }\n}, SymbolIterator, {\n  value: function values() {\n    return this;\n  }\n}));\n\n/**\n * Wrap the Array around the SafeIterator If Array.prototype [@@iterator] has been modified\n *\n * @type {<T>(array: T[]) => Iterable<T>}\n */\nexport function safeIfNeeded(array) {\n  if (array[SymbolIterator] === NativeArrayPrototypeSymbolIterator) {\n    return array;\n  }\n  var safe = ObjectCreate(SafeIteratorPrototype);\n  WeakMapPrototypeSet(arrayIterators, safe, ArrayPrototypeSymbolIterator(array));\n  return safe;\n}\n\n/** @type {WeakMap<{}, Generator<any>>} */\nvar generators = new NativeWeakMap();\n\n/** @see https://tc39.es/ecma262/#sec-%arrayiteratorprototype%-object */\nvar DummyArrayIteratorPrototype = ObjectCreate(IteratorPrototype, {\n  next: {\n    value: function next() {\n      var generator = WeakMapPrototypeGet(generators, this);\n      return GeneratorPrototypeNext(generator);\n    },\n    writable: true,\n    configurable: true\n  }\n});\nvar _iterator = _createForOfIteratorHelper(ReflectOwnKeys(ArrayIteratorPrototype)),\n  _step;\ntry {\n  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n    var key = _step.value;\n    // next method has already defined\n    if (key === \"next\") {\n      continue;\n    }\n\n    // Copy ArrayIteratorPrototype descriptors to DummyArrayIteratorPrototype\n    ObjectDefineProperty(DummyArrayIteratorPrototype, key, ReflectGetOwnPropertyDescriptor(ArrayIteratorPrototype, key));\n  }\n\n  /**\n   * Wrap the Generator around the dummy ArrayIterator\n   *\n   * @type {<T>(generator: Generator<T>) => IterableIterator<T>}\n   */\n} catch (err) {\n  _iterator.e(err);\n} finally {\n  _iterator.f();\n}\nexport function wrap(generator) {\n  var dummy = ObjectCreate(DummyArrayIteratorPrototype);\n  WeakMapPrototypeSet(generators, dummy, generator);\n  return dummy;\n}","// algorithm: http://fox-toolkit.org/ftp/fasthalffloatconversion.pdf\n\nimport { NativeArrayBuffer, NativeFloat32Array, NativeUint32Array } from \"./primordials.mjs\";\nvar buffer = new NativeArrayBuffer(4);\nvar floatView = new NativeFloat32Array(buffer);\nvar uint32View = new NativeUint32Array(buffer);\nvar baseTable = new NativeUint32Array(512);\nvar shiftTable = new NativeUint32Array(512);\nfor (var i = 0; i < 256; ++i) {\n  var e = i - 127;\n\n  // very small number (0, -0)\n  if (e < -27) {\n    baseTable[i] = 0x0000;\n    baseTable[i | 0x100] = 0x8000;\n    shiftTable[i] = 24;\n    shiftTable[i | 0x100] = 24;\n\n    // small number (denorm)\n  } else if (e < -14) {\n    baseTable[i] = 0x0400 >> -e - 14;\n    baseTable[i | 0x100] = 0x0400 >> -e - 14 | 0x8000;\n    shiftTable[i] = -e - 1;\n    shiftTable[i | 0x100] = -e - 1;\n\n    // normal number\n  } else if (e <= 15) {\n    baseTable[i] = e + 15 << 10;\n    baseTable[i | 0x100] = e + 15 << 10 | 0x8000;\n    shiftTable[i] = 13;\n    shiftTable[i | 0x100] = 13;\n\n    // large number (Infinity, -Infinity)\n  } else if (e < 128) {\n    baseTable[i] = 0x7c00;\n    baseTable[i | 0x100] = 0xfc00;\n    shiftTable[i] = 24;\n    shiftTable[i | 0x100] = 24;\n\n    // stay (NaN, Infinity, -Infinity)\n  } else {\n    baseTable[i] = 0x7c00;\n    baseTable[i | 0x100] = 0xfc00;\n    shiftTable[i] = 13;\n    shiftTable[i | 0x100] = 13;\n  }\n}\n\n/**\n * round a number to a half float number bits\n *\n * @param {unknown} num - double float\n * @returns {number} half float number bits\n */\nexport function roundToFloat16Bits(num) {\n  floatView[0] = /** @type {any} */num;\n  var f = uint32View[0];\n  var e = f >> 23 & 0x1ff;\n  return baseTable[e] + ((f & 0x007fffff) >> shiftTable[e]);\n}\nvar mantissaTable = new NativeUint32Array(2048);\nvar exponentTable = new NativeUint32Array(64);\nvar offsetTable = new NativeUint32Array(64);\nfor (var _i = 1; _i < 1024; ++_i) {\n  var m = _i << 13; // zero pad mantissa bits\n  var _e = 0; // zero exponent\n\n  // normalized\n  while ((m & 0x00800000) === 0) {\n    m <<= 1;\n    _e -= 0x00800000; // decrement exponent\n  }\n\n  m &= ~0x00800000; // clear leading 1 bit\n  _e += 0x38800000; // adjust bias\n\n  mantissaTable[_i] = m | _e;\n}\nfor (var _i2 = 1024; _i2 < 2048; ++_i2) {\n  mantissaTable[_i2] = 0x38000000 + (_i2 - 1024 << 13);\n}\nfor (var _i3 = 1; _i3 < 31; ++_i3) {\n  exponentTable[_i3] = _i3 << 23;\n}\nexponentTable[31] = 0x47800000;\nexponentTable[32] = 0x80000000;\nfor (var _i4 = 33; _i4 < 63; ++_i4) {\n  exponentTable[_i4] = 0x80000000 + (_i4 - 32 << 23);\n}\nexponentTable[63] = 0xc7800000;\nfor (var _i5 = 1; _i5 < 64; ++_i5) {\n  if (_i5 !== 32) {\n    offsetTable[_i5] = 1024;\n  }\n}\n\n/**\n * convert a half float number bits to a number\n *\n * @param {number} float16bits - half float number bits\n * @returns {number} double float\n */\nexport function convertToNumber(float16bits) {\n  var m = float16bits >> 10;\n  uint32View[0] = mantissaTable[offsetTable[m] + (float16bits & 0x3ff)] + exponentTable[m];\n  return floatView[0];\n}","import _toConsumableArray from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport { safeIfNeeded } from \"./_util/arrayIterator.mjs\";\nimport { convertToNumber, roundToFloat16Bits } from \"./_util/converter.mjs\";\nimport { DataViewPrototypeGetUint16, DataViewPrototypeSetUint16 } from \"./_util/primordials.mjs\";\n\n/**\n * returns an unsigned 16-bit float at the specified byte offset from the start of the DataView\n *\n * @param {DataView} dataView\n * @param {number} byteOffset\n * @param {[boolean]} opts\n * @returns {number}\n */\nexport function getFloat16(dataView, byteOffset) {\n  for (var _len = arguments.length, opts = new Array(_len > 2 ? _len - 2 : 0), _key = 2; _key < _len; _key++) {\n    opts[_key - 2] = arguments[_key];\n  }\n  return convertToNumber(DataViewPrototypeGetUint16.apply(void 0, [dataView, byteOffset].concat(_toConsumableArray(safeIfNeeded(opts)))));\n}\n\n/**\n * stores an unsigned 16-bit float value at the specified byte offset from the start of the DataView\n *\n * @param {DataView} dataView\n * @param {number} byteOffset\n * @param {number} value\n * @param {[boolean]} opts\n */\nexport function setFloat16(dataView, byteOffset, value) {\n  for (var _len2 = arguments.length, opts = new Array(_len2 > 3 ? _len2 - 3 : 0), _key2 = 3; _key2 < _len2; _key2++) {\n    opts[_key2 - 3] = arguments[_key2];\n  }\n  return DataViewPrototypeSetUint16.apply(void 0, [dataView, byteOffset, roundToFloat16Bits(value)].concat(_toConsumableArray(safeIfNeeded(opts))));\n}","export function fromWhiteIsZero(raster, max) {\n  var width = raster.width,\n    height = raster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n  var value;\n  for (var i = 0, j = 0; i < raster.length; ++i, j += 3) {\n    value = 256 - raster[i] / max * 256;\n    rgbRaster[j] = value;\n    rgbRaster[j + 1] = value;\n    rgbRaster[j + 2] = value;\n  }\n  return rgbRaster;\n}\nexport function fromBlackIsZero(raster, max) {\n  var width = raster.width,\n    height = raster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n  var value;\n  for (var i = 0, j = 0; i < raster.length; ++i, j += 3) {\n    value = raster[i] / max * 256;\n    rgbRaster[j] = value;\n    rgbRaster[j + 1] = value;\n    rgbRaster[j + 2] = value;\n  }\n  return rgbRaster;\n}\nexport function fromPalette(raster, colorMap) {\n  var width = raster.width,\n    height = raster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n  var greenOffset = colorMap.length / 3;\n  var blueOffset = colorMap.length / 3 * 2;\n  for (var i = 0, j = 0; i < raster.length; ++i, j += 3) {\n    var mapIndex = raster[i];\n    rgbRaster[j] = colorMap[mapIndex] / 65536 * 256;\n    rgbRaster[j + 1] = colorMap[mapIndex + greenOffset] / 65536 * 256;\n    rgbRaster[j + 2] = colorMap[mapIndex + blueOffset] / 65536 * 256;\n  }\n  return rgbRaster;\n}\nexport function fromCMYK(cmykRaster) {\n  var width = cmykRaster.width,\n    height = cmykRaster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n  for (var i = 0, j = 0; i < cmykRaster.length; i += 4, j += 3) {\n    var c = cmykRaster[i];\n    var m = cmykRaster[i + 1];\n    var y = cmykRaster[i + 2];\n    var k = cmykRaster[i + 3];\n    rgbRaster[j] = 255 * ((255 - c) / 256) * ((255 - k) / 256);\n    rgbRaster[j + 1] = 255 * ((255 - m) / 256) * ((255 - k) / 256);\n    rgbRaster[j + 2] = 255 * ((255 - y) / 256) * ((255 - k) / 256);\n  }\n  return rgbRaster;\n}\nexport function fromYCbCr(yCbCrRaster) {\n  var width = yCbCrRaster.width,\n    height = yCbCrRaster.height;\n  var rgbRaster = new Uint8ClampedArray(width * height * 3);\n  for (var i = 0, j = 0; i < yCbCrRaster.length; i += 3, j += 3) {\n    var y = yCbCrRaster[i];\n    var cb = yCbCrRaster[i + 1];\n    var cr = yCbCrRaster[i + 2];\n    rgbRaster[j] = y + 1.40200 * (cr - 0x80);\n    rgbRaster[j + 1] = y - 0.34414 * (cb - 0x80) - 0.71414 * (cr - 0x80);\n    rgbRaster[j + 2] = y + 1.77200 * (cb - 0x80);\n  }\n  return rgbRaster;\n}\nvar Xn = 0.95047;\nvar Yn = 1.00000;\nvar Zn = 1.08883;\n\n// from https://github.com/antimatter15/rgb-lab/blob/master/color.js\n\nexport function fromCIELab(cieLabRaster) {\n  var width = cieLabRaster.width,\n    height = cieLabRaster.height;\n  var rgbRaster = new Uint8Array(width * height * 3);\n  for (var i = 0, j = 0; i < cieLabRaster.length; i += 3, j += 3) {\n    var L = cieLabRaster[i + 0];\n    var a_ = cieLabRaster[i + 1] << 24 >> 24; // conversion from uint8 to int8\n    var b_ = cieLabRaster[i + 2] << 24 >> 24; // same\n\n    var y = (L + 16) / 116;\n    var x = a_ / 500 + y;\n    var z = y - b_ / 200;\n    var r = void 0;\n    var g = void 0;\n    var b = void 0;\n    x = Xn * (x * x * x > 0.008856 ? x * x * x : (x - 16 / 116) / 7.787);\n    y = Yn * (y * y * y > 0.008856 ? y * y * y : (y - 16 / 116) / 7.787);\n    z = Zn * (z * z * z > 0.008856 ? z * z * z : (z - 16 / 116) / 7.787);\n    r = x * 3.2406 + y * -1.5372 + z * -0.4986;\n    g = x * -0.9689 + y * 1.8758 + z * 0.0415;\n    b = x * 0.0557 + y * -0.2040 + z * 1.0570;\n    r = r > 0.0031308 ? 1.055 * Math.pow(r, 1 / 2.4) - 0.055 : 12.92 * r;\n    g = g > 0.0031308 ? 1.055 * Math.pow(g, 1 / 2.4) - 0.055 : 12.92 * g;\n    b = b > 0.0031308 ? 1.055 * Math.pow(b, 1 / 2.4) - 0.055 : 12.92 * b;\n    rgbRaster[j] = Math.max(0, Math.min(1, r)) * 255;\n    rgbRaster[j + 1] = Math.max(0, Math.min(1, g)) * 255;\n    rgbRaster[j + 2] = Math.max(0, Math.min(1, b)) * 255;\n  }\n  return rgbRaster;\n}","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nvar registry = new Map();\nexport function addDecoder(cases, importFn) {\n  if (!Array.isArray(cases)) {\n    cases = [cases]; // eslint-disable-line no-param-reassign\n  }\n\n  cases.forEach(function (c) {\n    return registry.set(c, importFn);\n  });\n}\nexport function getDecoder(_x) {\n  return _getDecoder.apply(this, arguments);\n}\n\n// Add default decoders to registry (end-user may override with other implementations)\nfunction _getDecoder() {\n  _getDecoder = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(fileDirectory) {\n    var importFn, Decoder;\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            importFn = registry.get(fileDirectory.Compression);\n            if (importFn) {\n              _context.next = 3;\n              break;\n            }\n            throw new Error(\"Unknown compression method identifier: \".concat(fileDirectory.Compression));\n          case 3:\n            _context.next = 5;\n            return importFn();\n          case 5:\n            Decoder = _context.sent;\n            return _context.abrupt(\"return\", new Decoder(fileDirectory));\n          case 7:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _getDecoder.apply(this, arguments);\n}\naddDecoder([undefined, 1], function () {\n  return import('./raw.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(5, function () {\n  return import('./lzw.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(6, function () {\n  throw new Error('old style JPEG compression is not supported.');\n});\naddDecoder(7, function () {\n  return import('./jpeg.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder([8, 32946], function () {\n  return import('./deflate.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(32773, function () {\n  return import('./packbits.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(34887, function () {\n  return import('./lerc.js').then(function (m) {\n    return m.default;\n  });\n});\naddDecoder(50001, function () {\n  return import('./webimage.js').then(function (m) {\n    return m.default;\n  });\n});","/**\n * @module resample\n */\n\nfunction copyNewSize(array, width, height) {\n  var samplesPerPixel = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : 1;\n  return new (Object.getPrototypeOf(array).constructor)(width * height * samplesPerPixel);\n}\n\n/**\n * Resample the input arrays using nearest neighbor value selection.\n * @param {TypedArray[]} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @returns {TypedArray[]} The resampled rasters\n */\nexport function resampleNearest(valueArrays, inWidth, inHeight, outWidth, outHeight) {\n  var relX = inWidth / outWidth;\n  var relY = inHeight / outHeight;\n  return valueArrays.map(function (array) {\n    var newArray = copyNewSize(array, outWidth, outHeight);\n    for (var y = 0; y < outHeight; ++y) {\n      var cy = Math.min(Math.round(relY * y), inHeight - 1);\n      for (var x = 0; x < outWidth; ++x) {\n        var cx = Math.min(Math.round(relX * x), inWidth - 1);\n        var value = array[cy * inWidth + cx];\n        newArray[y * outWidth + x] = value;\n      }\n    }\n    return newArray;\n  });\n}\n\n// simple linear interpolation, code from:\n// https://en.wikipedia.org/wiki/Linear_interpolation#Programming_language_support\nfunction lerp(v0, v1, t) {\n  return (1 - t) * v0 + t * v1;\n}\n\n/**\n * Resample the input arrays using bilinear interpolation.\n * @param {TypedArray[]} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @returns {TypedArray[]} The resampled rasters\n */\nexport function resampleBilinear(valueArrays, inWidth, inHeight, outWidth, outHeight) {\n  var relX = inWidth / outWidth;\n  var relY = inHeight / outHeight;\n  return valueArrays.map(function (array) {\n    var newArray = copyNewSize(array, outWidth, outHeight);\n    for (var y = 0; y < outHeight; ++y) {\n      var rawY = relY * y;\n      var yl = Math.floor(rawY);\n      var yh = Math.min(Math.ceil(rawY), inHeight - 1);\n      for (var x = 0; x < outWidth; ++x) {\n        var rawX = relX * x;\n        var tx = rawX % 1;\n        var xl = Math.floor(rawX);\n        var xh = Math.min(Math.ceil(rawX), inWidth - 1);\n        var ll = array[yl * inWidth + xl];\n        var hl = array[yl * inWidth + xh];\n        var lh = array[yh * inWidth + xl];\n        var hh = array[yh * inWidth + xh];\n        var value = lerp(lerp(ll, hl, tx), lerp(lh, hh, tx), rawY % 1);\n        newArray[y * outWidth + x] = value;\n      }\n    }\n    return newArray;\n  });\n}\n\n/**\n * Resample the input arrays using the selected resampling method.\n * @param {TypedArray[]} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @param {string} [method = 'nearest'] The desired resampling method\n * @returns {TypedArray[]} The resampled rasters\n */\nexport function resample(valueArrays, inWidth, inHeight, outWidth, outHeight) {\n  var method = arguments.length > 5 && arguments[5] !== undefined ? arguments[5] : 'nearest';\n  switch (method.toLowerCase()) {\n    case 'nearest':\n      return resampleNearest(valueArrays, inWidth, inHeight, outWidth, outHeight);\n    case 'bilinear':\n    case 'linear':\n      return resampleBilinear(valueArrays, inWidth, inHeight, outWidth, outHeight);\n    default:\n      throw new Error(\"Unsupported resampling method: '\".concat(method, \"'\"));\n  }\n}\n\n/**\n * Resample the pixel interleaved input array using nearest neighbor value selection.\n * @param {TypedArray} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @param {number} samples The number of samples per pixel for pixel\n *                         interleaved data\n * @returns {TypedArray} The resampled raster\n */\nexport function resampleNearestInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples) {\n  var relX = inWidth / outWidth;\n  var relY = inHeight / outHeight;\n  var newArray = copyNewSize(valueArray, outWidth, outHeight, samples);\n  for (var y = 0; y < outHeight; ++y) {\n    var cy = Math.min(Math.round(relY * y), inHeight - 1);\n    for (var x = 0; x < outWidth; ++x) {\n      var cx = Math.min(Math.round(relX * x), inWidth - 1);\n      for (var i = 0; i < samples; ++i) {\n        var value = valueArray[cy * inWidth * samples + cx * samples + i];\n        newArray[y * outWidth * samples + x * samples + i] = value;\n      }\n    }\n  }\n  return newArray;\n}\n\n/**\n * Resample the pixel interleaved input array using bilinear interpolation.\n * @param {TypedArray} valueArrays The input arrays to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @param {number} samples The number of samples per pixel for pixel\n *                         interleaved data\n * @returns {TypedArray} The resampled raster\n */\nexport function resampleBilinearInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples) {\n  var relX = inWidth / outWidth;\n  var relY = inHeight / outHeight;\n  var newArray = copyNewSize(valueArray, outWidth, outHeight, samples);\n  for (var y = 0; y < outHeight; ++y) {\n    var rawY = relY * y;\n    var yl = Math.floor(rawY);\n    var yh = Math.min(Math.ceil(rawY), inHeight - 1);\n    for (var x = 0; x < outWidth; ++x) {\n      var rawX = relX * x;\n      var tx = rawX % 1;\n      var xl = Math.floor(rawX);\n      var xh = Math.min(Math.ceil(rawX), inWidth - 1);\n      for (var i = 0; i < samples; ++i) {\n        var ll = valueArray[yl * inWidth * samples + xl * samples + i];\n        var hl = valueArray[yl * inWidth * samples + xh * samples + i];\n        var lh = valueArray[yh * inWidth * samples + xl * samples + i];\n        var hh = valueArray[yh * inWidth * samples + xh * samples + i];\n        var value = lerp(lerp(ll, hl, tx), lerp(lh, hh, tx), rawY % 1);\n        newArray[y * outWidth * samples + x * samples + i] = value;\n      }\n    }\n  }\n  return newArray;\n}\n\n/**\n * Resample the pixel interleaved input array using the selected resampling method.\n * @param {TypedArray} valueArray The input array to resample\n * @param {number} inWidth The width of the input rasters\n * @param {number} inHeight The height of the input rasters\n * @param {number} outWidth The desired width of the output rasters\n * @param {number} outHeight The desired height of the output rasters\n * @param {number} samples The number of samples per pixel for pixel\n *                                 interleaved data\n * @param {string} [method = 'nearest'] The desired resampling method\n * @returns {TypedArray} The resampled rasters\n */\nexport function resampleInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples) {\n  var method = arguments.length > 6 && arguments[6] !== undefined ? arguments[6] : 'nearest';\n  switch (method.toLowerCase()) {\n    case 'nearest':\n      return resampleNearestInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples);\n    case 'bilinear':\n    case 'linear':\n      return resampleBilinearInterleaved(valueArray, inWidth, inHeight, outWidth, outHeight, samples);\n    default:\n      throw new Error(\"Unsupported resampling method: '\".concat(method, \"'\"));\n  }\n}","import _slicedToArray from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\n/** @module geotiffimage */\nimport { getFloat16 } from '@petamoriken/float16';\nimport getAttribute from 'xml-utils/get-attribute.js';\nimport findTagsByName from 'xml-utils/find-tags-by-name.js';\nimport { photometricInterpretations, ExtraSamplesValues } from './globals.js';\nimport { fromWhiteIsZero, fromBlackIsZero, fromPalette, fromCMYK, fromYCbCr, fromCIELab } from './rgb.js';\nimport { getDecoder } from './compression/index.js';\nimport { resample, resampleInterleaved } from './resample.js';\n\n/**\n * @typedef {Object} ReadRasterOptions\n * @property {Array<number>} [window=whole window] the subset to read data from in pixels.\n * @property {Array<number>} [bbox=whole image] the subset to read data from in\n *                                           geographical coordinates.\n * @property {Array<number>} [samples=all samples] the selection of samples to read from. Default is all samples.\n * @property {boolean} [interleave=false] whether the data shall be read\n *                                             in one single array or separate\n *                                             arrays.\n * @property {Pool} [pool=null] The optional decoder pool to use.\n * @property {number} [width] The desired width of the output. When the width is not the\n *                                 same as the images, resampling will be performed.\n * @property {number} [height] The desired height of the output. When the width is not the\n *                                  same as the images, resampling will be performed.\n * @property {string} [resampleMethod='nearest'] The desired resampling method.\n * @property {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                                       to be aborted\n * @property {number|number[]} [fillValue] The value to use for parts of the image\n *                                              outside of the images extent. When multiple\n *                                              samples are requested, an array of fill values\n *                                              can be passed.\n */\n\n/** @typedef {import(\"./geotiff.js\").TypedArray} TypedArray */\n\nfunction sum(array, start, end) {\n  var s = 0;\n  for (var i = start; i < end; ++i) {\n    s += array[i];\n  }\n  return s;\n}\nfunction arrayForType(format, bitsPerSample, size) {\n  switch (format) {\n    case 1:\n      // unsigned integer data\n      if (bitsPerSample <= 8) {\n        return new Uint8Array(size);\n      } else if (bitsPerSample <= 16) {\n        return new Uint16Array(size);\n      } else if (bitsPerSample <= 32) {\n        return new Uint32Array(size);\n      }\n      break;\n    case 2:\n      // twos complement signed integer data\n      if (bitsPerSample === 8) {\n        return new Int8Array(size);\n      } else if (bitsPerSample === 16) {\n        return new Int16Array(size);\n      } else if (bitsPerSample === 32) {\n        return new Int32Array(size);\n      }\n      break;\n    case 3:\n      // floating point data\n      switch (bitsPerSample) {\n        case 16:\n        case 32:\n          return new Float32Array(size);\n        case 64:\n          return new Float64Array(size);\n        default:\n          break;\n      }\n      break;\n    default:\n      break;\n  }\n  throw Error('Unsupported data format/bitsPerSample');\n}\nfunction needsNormalization(format, bitsPerSample) {\n  if ((format === 1 || format === 2) && bitsPerSample <= 32 && bitsPerSample % 8 === 0) {\n    return false;\n  } else if (format === 3 && (bitsPerSample === 16 || bitsPerSample === 32 || bitsPerSample === 64)) {\n    return false;\n  }\n  return true;\n}\nfunction normalizeArray(inBuffer, format, planarConfiguration, samplesPerPixel, bitsPerSample, tileWidth, tileHeight) {\n  // const inByteArray = new Uint8Array(inBuffer);\n  var view = new DataView(inBuffer);\n  var outSize = planarConfiguration === 2 ? tileHeight * tileWidth : tileHeight * tileWidth * samplesPerPixel;\n  var samplesToTransfer = planarConfiguration === 2 ? 1 : samplesPerPixel;\n  var outArray = arrayForType(format, bitsPerSample, outSize);\n  // let pixel = 0;\n\n  var bitMask = parseInt('1'.repeat(bitsPerSample), 2);\n  if (format === 1) {\n    // unsigned integer\n    // translation of https://github.com/OSGeo/gdal/blob/master/gdal/frmts/gtiff/geotiff.cpp#L7337\n    var pixelBitSkip;\n    // let sampleBitOffset = 0;\n    if (planarConfiguration === 1) {\n      pixelBitSkip = samplesPerPixel * bitsPerSample;\n      // sampleBitOffset = (samplesPerPixel - 1) * bitsPerSample;\n    } else {\n      pixelBitSkip = bitsPerSample;\n    }\n\n    // Bits per line rounds up to next byte boundary.\n    var bitsPerLine = tileWidth * pixelBitSkip;\n    if ((bitsPerLine & 7) !== 0) {\n      bitsPerLine = bitsPerLine + 7 & ~7;\n    }\n    for (var y = 0; y < tileHeight; ++y) {\n      var lineBitOffset = y * bitsPerLine;\n      for (var x = 0; x < tileWidth; ++x) {\n        var pixelBitOffset = lineBitOffset + x * samplesToTransfer * bitsPerSample;\n        for (var i = 0; i < samplesToTransfer; ++i) {\n          var bitOffset = pixelBitOffset + i * bitsPerSample;\n          var outIndex = (y * tileWidth + x) * samplesToTransfer + i;\n          var byteOffset = Math.floor(bitOffset / 8);\n          var innerBitOffset = bitOffset % 8;\n          if (innerBitOffset + bitsPerSample <= 8) {\n            outArray[outIndex] = view.getUint8(byteOffset) >> 8 - bitsPerSample - innerBitOffset & bitMask;\n          } else if (innerBitOffset + bitsPerSample <= 16) {\n            outArray[outIndex] = view.getUint16(byteOffset) >> 16 - bitsPerSample - innerBitOffset & bitMask;\n          } else if (innerBitOffset + bitsPerSample <= 24) {\n            var raw = view.getUint16(byteOffset) << 8 | view.getUint8(byteOffset + 2);\n            outArray[outIndex] = raw >> 24 - bitsPerSample - innerBitOffset & bitMask;\n          } else {\n            outArray[outIndex] = view.getUint32(byteOffset) >> 32 - bitsPerSample - innerBitOffset & bitMask;\n          }\n\n          // let outWord = 0;\n          // for (let bit = 0; bit < bitsPerSample; ++bit) {\n          //   if (inByteArray[bitOffset >> 3]\n          //     & (0x80 >> (bitOffset & 7))) {\n          //     outWord |= (1 << (bitsPerSample - 1 - bit));\n          //   }\n          //   ++bitOffset;\n          // }\n\n          // outArray[outIndex] = outWord;\n          // outArray[pixel] = outWord;\n          // pixel += 1;\n        }\n        // bitOffset = bitOffset + pixelBitSkip - bitsPerSample;\n      }\n    }\n  } else if (format === 3) {// floating point\n    // Float16 is handled elsewhere\n    // normalize 16/24 bit floats to 32 bit floats in the array\n    // console.time();\n    // if (bitsPerSample === 16) {\n    //   for (let byte = 0, outIndex = 0; byte < inBuffer.byteLength; byte += 2, ++outIndex) {\n    //     outArray[outIndex] = getFloat16(view, byte);\n    //   }\n    // }\n    // console.timeEnd()\n  }\n  return outArray.buffer;\n}\n\n/**\n * GeoTIFF sub-file image.\n */\nvar GeoTIFFImage = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   * @param {Object} fileDirectory The parsed file directory\n   * @param {Object} geoKeys The parsed geo-keys\n   * @param {DataView} dataView The DataView for the underlying file.\n   * @param {Boolean} littleEndian Whether the file is encoded in little or big endian\n   * @param {Boolean} cache Whether or not decoded tiles shall be cached\n   * @param {Source} source The datasource to read from\n   */\n  function GeoTIFFImage(fileDirectory, geoKeys, dataView, littleEndian, cache, source) {\n    _classCallCheck(this, GeoTIFFImage);\n    this.fileDirectory = fileDirectory;\n    this.geoKeys = geoKeys;\n    this.dataView = dataView;\n    this.littleEndian = littleEndian;\n    this.tiles = cache ? {} : null;\n    this.isTiled = !fileDirectory.StripOffsets;\n    var planarConfiguration = fileDirectory.PlanarConfiguration;\n    this.planarConfiguration = typeof planarConfiguration === 'undefined' ? 1 : planarConfiguration;\n    if (this.planarConfiguration !== 1 && this.planarConfiguration !== 2) {\n      throw new Error('Invalid planar configuration.');\n    }\n    this.source = source;\n  }\n\n  /**\n   * Returns the associated parsed file directory.\n   * @returns {Object} the parsed file directory\n   */\n  _createClass(GeoTIFFImage, [{\n    key: \"getFileDirectory\",\n    value: function getFileDirectory() {\n      return this.fileDirectory;\n    }\n\n    /**\n     * Returns the associated parsed geo keys.\n     * @returns {Object} the parsed geo keys\n     */\n  }, {\n    key: \"getGeoKeys\",\n    value: function getGeoKeys() {\n      return this.geoKeys;\n    }\n\n    /**\n     * Returns the width of the image.\n     * @returns {Number} the width of the image\n     */\n  }, {\n    key: \"getWidth\",\n    value: function getWidth() {\n      return this.fileDirectory.ImageWidth;\n    }\n\n    /**\n     * Returns the height of the image.\n     * @returns {Number} the height of the image\n     */\n  }, {\n    key: \"getHeight\",\n    value: function getHeight() {\n      return this.fileDirectory.ImageLength;\n    }\n\n    /**\n     * Returns the number of samples per pixel.\n     * @returns {Number} the number of samples per pixel\n     */\n  }, {\n    key: \"getSamplesPerPixel\",\n    value: function getSamplesPerPixel() {\n      return typeof this.fileDirectory.SamplesPerPixel !== 'undefined' ? this.fileDirectory.SamplesPerPixel : 1;\n    }\n\n    /**\n     * Returns the width of each tile.\n     * @returns {Number} the width of each tile\n     */\n  }, {\n    key: \"getTileWidth\",\n    value: function getTileWidth() {\n      return this.isTiled ? this.fileDirectory.TileWidth : this.getWidth();\n    }\n\n    /**\n     * Returns the height of each tile.\n     * @returns {Number} the height of each tile\n     */\n  }, {\n    key: \"getTileHeight\",\n    value: function getTileHeight() {\n      if (this.isTiled) {\n        return this.fileDirectory.TileLength;\n      }\n      if (typeof this.fileDirectory.RowsPerStrip !== 'undefined') {\n        return Math.min(this.fileDirectory.RowsPerStrip, this.getHeight());\n      }\n      return this.getHeight();\n    }\n  }, {\n    key: \"getBlockWidth\",\n    value: function getBlockWidth() {\n      return this.getTileWidth();\n    }\n  }, {\n    key: \"getBlockHeight\",\n    value: function getBlockHeight(y) {\n      if (this.isTiled || (y + 1) * this.getTileHeight() <= this.getHeight()) {\n        return this.getTileHeight();\n      } else {\n        return this.getHeight() - y * this.getTileHeight();\n      }\n    }\n\n    /**\n     * Calculates the number of bytes for each pixel across all samples. Only full\n     * bytes are supported, an exception is thrown when this is not the case.\n     * @returns {Number} the bytes per pixel\n     */\n  }, {\n    key: \"getBytesPerPixel\",\n    value: function getBytesPerPixel() {\n      var bytes = 0;\n      for (var i = 0; i < this.fileDirectory.BitsPerSample.length; ++i) {\n        bytes += this.getSampleByteSize(i);\n      }\n      return bytes;\n    }\n  }, {\n    key: \"getSampleByteSize\",\n    value: function getSampleByteSize(i) {\n      if (i >= this.fileDirectory.BitsPerSample.length) {\n        throw new RangeError(\"Sample index \".concat(i, \" is out of range.\"));\n      }\n      return Math.ceil(this.fileDirectory.BitsPerSample[i] / 8);\n    }\n  }, {\n    key: \"getReaderForSample\",\n    value: function getReaderForSample(sampleIndex) {\n      var format = this.fileDirectory.SampleFormat ? this.fileDirectory.SampleFormat[sampleIndex] : 1;\n      var bitsPerSample = this.fileDirectory.BitsPerSample[sampleIndex];\n      switch (format) {\n        case 1:\n          // unsigned integer data\n          if (bitsPerSample <= 8) {\n            return DataView.prototype.getUint8;\n          } else if (bitsPerSample <= 16) {\n            return DataView.prototype.getUint16;\n          } else if (bitsPerSample <= 32) {\n            return DataView.prototype.getUint32;\n          }\n          break;\n        case 2:\n          // twos complement signed integer data\n          if (bitsPerSample <= 8) {\n            return DataView.prototype.getInt8;\n          } else if (bitsPerSample <= 16) {\n            return DataView.prototype.getInt16;\n          } else if (bitsPerSample <= 32) {\n            return DataView.prototype.getInt32;\n          }\n          break;\n        case 3:\n          switch (bitsPerSample) {\n            case 16:\n              return function (offset, littleEndian) {\n                return getFloat16(this, offset, littleEndian);\n              };\n            case 32:\n              return DataView.prototype.getFloat32;\n            case 64:\n              return DataView.prototype.getFloat64;\n            default:\n              break;\n          }\n          break;\n        default:\n          break;\n      }\n      throw Error('Unsupported data format/bitsPerSample');\n    }\n  }, {\n    key: \"getSampleFormat\",\n    value: function getSampleFormat() {\n      var sampleIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      return this.fileDirectory.SampleFormat ? this.fileDirectory.SampleFormat[sampleIndex] : 1;\n    }\n  }, {\n    key: \"getBitsPerSample\",\n    value: function getBitsPerSample() {\n      var sampleIndex = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 0;\n      return this.fileDirectory.BitsPerSample[sampleIndex];\n    }\n  }, {\n    key: \"getArrayForSample\",\n    value: function getArrayForSample(sampleIndex, size) {\n      var format = this.getSampleFormat(sampleIndex);\n      var bitsPerSample = this.getBitsPerSample(sampleIndex);\n      return arrayForType(format, bitsPerSample, size);\n    }\n\n    /**\n     * Returns the decoded strip or tile.\n     * @param {Number} x the strip or tile x-offset\n     * @param {Number} y the tile y-offset (0 for stripped images)\n     * @param {Number} sample the sample to get for separated samples\n     * @param {import(\"./geotiff\").Pool|AbstractDecoder} poolOrDecoder the decoder or decoder pool\n     * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n     *                               to be aborted\n     * @returns {Promise.<ArrayBuffer>}\n     */\n  }, {\n    key: \"getTileOrStrip\",\n    value: function () {\n      var _getTileOrStrip = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(x, y, sample, poolOrDecoder, signal) {\n        var _this = this;\n        var numTilesPerRow, numTilesPerCol, index, tiles, offset, byteCount, slice, request;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                numTilesPerRow = Math.ceil(this.getWidth() / this.getTileWidth());\n                numTilesPerCol = Math.ceil(this.getHeight() / this.getTileHeight());\n                tiles = this.tiles;\n                if (this.planarConfiguration === 1) {\n                  index = y * numTilesPerRow + x;\n                } else if (this.planarConfiguration === 2) {\n                  index = sample * numTilesPerRow * numTilesPerCol + y * numTilesPerRow + x;\n                }\n                if (this.isTiled) {\n                  offset = this.fileDirectory.TileOffsets[index];\n                  byteCount = this.fileDirectory.TileByteCounts[index];\n                } else {\n                  offset = this.fileDirectory.StripOffsets[index];\n                  byteCount = this.fileDirectory.StripByteCounts[index];\n                }\n                _context2.next = 7;\n                return this.source.fetch([{\n                  offset: offset,\n                  length: byteCount\n                }], signal);\n              case 7:\n                slice = _context2.sent[0];\n                if (tiles === null || !tiles[index]) {\n                  // resolve each request by potentially applying array normalization\n                  request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n                    var data, sampleFormat, bitsPerSample;\n                    return _regeneratorRuntime.wrap(function _callee$(_context) {\n                      while (1) {\n                        switch (_context.prev = _context.next) {\n                          case 0:\n                            _context.next = 2;\n                            return poolOrDecoder.decode(_this.fileDirectory, slice);\n                          case 2:\n                            data = _context.sent;\n                            sampleFormat = _this.getSampleFormat();\n                            bitsPerSample = _this.getBitsPerSample();\n                            if (needsNormalization(sampleFormat, bitsPerSample)) {\n                              data = normalizeArray(data, sampleFormat, _this.planarConfiguration, _this.getSamplesPerPixel(), bitsPerSample, _this.getTileWidth(), _this.getBlockHeight(y));\n                            }\n                            return _context.abrupt(\"return\", data);\n                          case 7:\n                          case \"end\":\n                            return _context.stop();\n                        }\n                      }\n                    }, _callee);\n                  }))();\n\n                  // set the cache\n                  if (tiles !== null) {\n                    tiles[index] = request;\n                  }\n                } else {\n                  // get from the cache\n                  request = tiles[index];\n                }\n\n                // cache the tile request\n                _context2.t0 = x;\n                _context2.t1 = y;\n                _context2.t2 = sample;\n                _context2.next = 14;\n                return request;\n              case 14:\n                _context2.t3 = _context2.sent;\n                return _context2.abrupt(\"return\", {\n                  x: _context2.t0,\n                  y: _context2.t1,\n                  sample: _context2.t2,\n                  data: _context2.t3\n                });\n              case 16:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function getTileOrStrip(_x, _x2, _x3, _x4, _x5) {\n        return _getTileOrStrip.apply(this, arguments);\n      }\n      return getTileOrStrip;\n    }() /**\n         * Internal read function.\n         * @private\n         * @param {Array} imageWindow The image window in pixel coordinates\n         * @param {Array} samples The selected samples (0-based indices)\n         * @param {TypedArray[]|TypedArray} valueArrays The array(s) to write into\n         * @param {Boolean} interleave Whether or not to write in an interleaved manner\n         * @param {import(\"./geotiff\").Pool|AbstractDecoder} poolOrDecoder the decoder or decoder pool\n         * @param {number} width the width of window to be read into\n         * @param {number} height the height of window to be read into\n         * @param {number} resampleMethod the resampling method to be used when interpolating\n         * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n         *                               to be aborted\n         * @returns {Promise<TypedArray[]>|Promise<TypedArray>}\n         */\n  }, {\n    key: \"_readRaster\",\n    value: function () {\n      var _readRaster2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(imageWindow, samples, valueArrays, interleave, poolOrDecoder, width, height, resampleMethod, signal) {\n        var _this2 = this;\n        var tileWidth, tileHeight, imageWidth, imageHeight, minXTile, maxXTile, minYTile, maxYTile, windowWidth, bytesPerPixel, srcSampleOffsets, sampleReaders, i, promises, littleEndian, yTile, xTile, _loop, sampleIndex, resampled;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                tileWidth = this.getTileWidth();\n                tileHeight = this.getTileHeight();\n                imageWidth = this.getWidth();\n                imageHeight = this.getHeight();\n                minXTile = Math.max(Math.floor(imageWindow[0] / tileWidth), 0);\n                maxXTile = Math.min(Math.ceil(imageWindow[2] / tileWidth), Math.ceil(imageWidth / tileWidth));\n                minYTile = Math.max(Math.floor(imageWindow[1] / tileHeight), 0);\n                maxYTile = Math.min(Math.ceil(imageWindow[3] / tileHeight), Math.ceil(imageHeight / tileHeight));\n                windowWidth = imageWindow[2] - imageWindow[0];\n                bytesPerPixel = this.getBytesPerPixel();\n                srcSampleOffsets = [];\n                sampleReaders = [];\n                for (i = 0; i < samples.length; ++i) {\n                  if (this.planarConfiguration === 1) {\n                    srcSampleOffsets.push(sum(this.fileDirectory.BitsPerSample, 0, samples[i]) / 8);\n                  } else {\n                    srcSampleOffsets.push(0);\n                  }\n                  sampleReaders.push(this.getReaderForSample(samples[i]));\n                }\n                promises = [];\n                littleEndian = this.littleEndian;\n                for (yTile = minYTile; yTile < maxYTile; ++yTile) {\n                  for (xTile = minXTile; xTile < maxXTile; ++xTile) {\n                    _loop = function _loop(sampleIndex) {\n                      var si = sampleIndex;\n                      var sample = samples[sampleIndex];\n                      if (_this2.planarConfiguration === 2) {\n                        bytesPerPixel = _this2.getSampleByteSize(sampleIndex);\n                      }\n                      var promise = _this2.getTileOrStrip(xTile, yTile, sample, poolOrDecoder, signal).then(function (tile) {\n                        var buffer = tile.data;\n                        var dataView = new DataView(buffer);\n                        var blockHeight = _this2.getBlockHeight(tile.y);\n                        var firstLine = tile.y * tileHeight;\n                        var firstCol = tile.x * tileWidth;\n                        var lastLine = firstLine + blockHeight;\n                        var lastCol = (tile.x + 1) * tileWidth;\n                        var reader = sampleReaders[si];\n                        var ymax = Math.min(blockHeight, blockHeight - (lastLine - imageWindow[3]), imageHeight - firstLine);\n                        var xmax = Math.min(tileWidth, tileWidth - (lastCol - imageWindow[2]), imageWidth - firstCol);\n                        for (var y = Math.max(0, imageWindow[1] - firstLine); y < ymax; ++y) {\n                          for (var x = Math.max(0, imageWindow[0] - firstCol); x < xmax; ++x) {\n                            var pixelOffset = (y * tileWidth + x) * bytesPerPixel;\n                            var value = reader.call(dataView, pixelOffset + srcSampleOffsets[si], littleEndian);\n                            var windowCoordinate = void 0;\n                            if (interleave) {\n                              windowCoordinate = (y + firstLine - imageWindow[1]) * windowWidth * samples.length + (x + firstCol - imageWindow[0]) * samples.length + si;\n                              valueArrays[windowCoordinate] = value;\n                            } else {\n                              windowCoordinate = (y + firstLine - imageWindow[1]) * windowWidth + x + firstCol - imageWindow[0];\n                              valueArrays[si][windowCoordinate] = value;\n                            }\n                          }\n                        }\n                      });\n                      promises.push(promise);\n                    };\n                    for (sampleIndex = 0; sampleIndex < samples.length; ++sampleIndex) {\n                      _loop(sampleIndex);\n                    }\n                  }\n                }\n                _context3.next = 18;\n                return Promise.all(promises);\n              case 18:\n                if (!(width && imageWindow[2] - imageWindow[0] !== width || height && imageWindow[3] - imageWindow[1] !== height)) {\n                  _context3.next = 23;\n                  break;\n                }\n                if (interleave) {\n                  resampled = resampleInterleaved(valueArrays, imageWindow[2] - imageWindow[0], imageWindow[3] - imageWindow[1], width, height, samples.length, resampleMethod);\n                } else {\n                  resampled = resample(valueArrays, imageWindow[2] - imageWindow[0], imageWindow[3] - imageWindow[1], width, height, resampleMethod);\n                }\n                resampled.width = width;\n                resampled.height = height;\n                return _context3.abrupt(\"return\", resampled);\n              case 23:\n                valueArrays.width = width || imageWindow[2] - imageWindow[0];\n                valueArrays.height = height || imageWindow[3] - imageWindow[1];\n                return _context3.abrupt(\"return\", valueArrays);\n              case 26:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function _readRaster(_x6, _x7, _x8, _x9, _x10, _x11, _x12, _x13, _x14) {\n        return _readRaster2.apply(this, arguments);\n      }\n      return _readRaster;\n    }() /**\n         * Reads raster data from the image. This function reads all selected samples\n         * into separate arrays of the correct type for that sample or into a single\n         * combined array when `interleave` is set. When provided, only a subset\n         * of the raster is read for each sample.\n         *\n         * @param {ReadRasterOptions} [options={}] optional parameters\n         * @returns {Promise.<(TypedArray|TypedArray[])>} the decoded arrays as a promise\n         */\n  }, {\n    key: \"readRasters\",\n    value: function () {\n      var _readRasters = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n        var _ref2,\n          wnd,\n          _ref2$samples,\n          samples,\n          interleave,\n          _ref2$pool,\n          pool,\n          width,\n          height,\n          resampleMethod,\n          fillValue,\n          signal,\n          imageWindow,\n          imageWindowWidth,\n          imageWindowHeight,\n          numPixels,\n          samplesPerPixel,\n          i,\n          _i,\n          valueArrays,\n          format,\n          bitsPerSample,\n          _i2,\n          valueArray,\n          poolOrDecoder,\n          result,\n          _args4 = arguments;\n        return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n          while (1) {\n            switch (_context4.prev = _context4.next) {\n              case 0:\n                _ref2 = _args4.length > 0 && _args4[0] !== undefined ? _args4[0] : {}, wnd = _ref2.window, _ref2$samples = _ref2.samples, samples = _ref2$samples === void 0 ? [] : _ref2$samples, interleave = _ref2.interleave, _ref2$pool = _ref2.pool, pool = _ref2$pool === void 0 ? null : _ref2$pool, width = _ref2.width, height = _ref2.height, resampleMethod = _ref2.resampleMethod, fillValue = _ref2.fillValue, signal = _ref2.signal;\n                imageWindow = wnd || [0, 0, this.getWidth(), this.getHeight()]; // check parameters\n                if (!(imageWindow[0] > imageWindow[2] || imageWindow[1] > imageWindow[3])) {\n                  _context4.next = 4;\n                  break;\n                }\n                throw new Error('Invalid subsets');\n              case 4:\n                imageWindowWidth = imageWindow[2] - imageWindow[0];\n                imageWindowHeight = imageWindow[3] - imageWindow[1];\n                numPixels = imageWindowWidth * imageWindowHeight;\n                samplesPerPixel = this.getSamplesPerPixel();\n                if (!(!samples || !samples.length)) {\n                  _context4.next = 12;\n                  break;\n                }\n                for (i = 0; i < samplesPerPixel; ++i) {\n                  samples.push(i);\n                }\n                _context4.next = 19;\n                break;\n              case 12:\n                _i = 0;\n              case 13:\n                if (!(_i < samples.length)) {\n                  _context4.next = 19;\n                  break;\n                }\n                if (!(samples[_i] >= samplesPerPixel)) {\n                  _context4.next = 16;\n                  break;\n                }\n                return _context4.abrupt(\"return\", Promise.reject(new RangeError(\"Invalid sample index '\".concat(samples[_i], \"'.\"))));\n              case 16:\n                ++_i;\n                _context4.next = 13;\n                break;\n              case 19:\n                if (interleave) {\n                  format = this.fileDirectory.SampleFormat ? Math.max.apply(null, this.fileDirectory.SampleFormat) : 1;\n                  bitsPerSample = Math.max.apply(null, this.fileDirectory.BitsPerSample);\n                  valueArrays = arrayForType(format, bitsPerSample, numPixels * samples.length);\n                  if (fillValue) {\n                    valueArrays.fill(fillValue);\n                  }\n                } else {\n                  valueArrays = [];\n                  for (_i2 = 0; _i2 < samples.length; ++_i2) {\n                    valueArray = this.getArrayForSample(samples[_i2], numPixels);\n                    if (Array.isArray(fillValue) && _i2 < fillValue.length) {\n                      valueArray.fill(fillValue[_i2]);\n                    } else if (fillValue && !Array.isArray(fillValue)) {\n                      valueArray.fill(fillValue);\n                    }\n                    valueArrays.push(valueArray);\n                  }\n                }\n                _context4.t0 = pool;\n                if (_context4.t0) {\n                  _context4.next = 25;\n                  break;\n                }\n                _context4.next = 24;\n                return getDecoder(this.fileDirectory);\n              case 24:\n                _context4.t0 = _context4.sent;\n              case 25:\n                poolOrDecoder = _context4.t0;\n                _context4.next = 28;\n                return this._readRaster(imageWindow, samples, valueArrays, interleave, poolOrDecoder, width, height, resampleMethod, signal);\n              case 28:\n                result = _context4.sent;\n                return _context4.abrupt(\"return\", result);\n              case 30:\n              case \"end\":\n                return _context4.stop();\n            }\n          }\n        }, _callee4, this);\n      }));\n      function readRasters() {\n        return _readRasters.apply(this, arguments);\n      }\n      return readRasters;\n    }() /**\n         * Reads raster data from the image as RGB. The result is always an\n         * interleaved typed array.\n         * Colorspaces other than RGB will be transformed to RGB, color maps expanded.\n         * When no other method is applicable, the first sample is used to produce a\n         * greayscale image.\n         * When provided, only a subset of the raster is read for each sample.\n         *\n         * @param {Object} [options] optional parameters\n         * @param {Array<number>} [options.window] the subset to read data from in pixels.\n         * @param {boolean} [options.interleave=true] whether the data shall be read\n         *                                             in one single array or separate\n         *                                             arrays.\n         * @param {import(\"./geotiff\").Pool} [options.pool=null] The optional decoder pool to use.\n         * @param {number} [options.width] The desired width of the output. When the width is no the\n         *                                 same as the images, resampling will be performed.\n         * @param {number} [options.height] The desired height of the output. When the width is no the\n         *                                  same as the images, resampling will be performed.\n         * @param {string} [options.resampleMethod='nearest'] The desired resampling method.\n         * @param {boolean} [options.enableAlpha=false] Enable reading alpha channel if present.\n         * @param {AbortSignal} [options.signal] An AbortSignal that may be signalled if the request is\n         *                                       to be aborted\n         * @returns {Promise<TypedArray|TypedArray[]>} the RGB array as a Promise\n         */\n  }, {\n    key: \"readRGB\",\n    value: function () {\n      var _readRGB = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5() {\n        var _ref3,\n          window,\n          _ref3$interleave,\n          interleave,\n          _ref3$pool,\n          pool,\n          width,\n          height,\n          resampleMethod,\n          _ref3$enableAlpha,\n          enableAlpha,\n          signal,\n          imageWindow,\n          pi,\n          s,\n          i,\n          samples,\n          subOptions,\n          fileDirectory,\n          raster,\n          max,\n          data,\n          red,\n          green,\n          blue,\n          j,\n          _args5 = arguments;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                _ref3 = _args5.length > 0 && _args5[0] !== undefined ? _args5[0] : {}, window = _ref3.window, _ref3$interleave = _ref3.interleave, interleave = _ref3$interleave === void 0 ? true : _ref3$interleave, _ref3$pool = _ref3.pool, pool = _ref3$pool === void 0 ? null : _ref3$pool, width = _ref3.width, height = _ref3.height, resampleMethod = _ref3.resampleMethod, _ref3$enableAlpha = _ref3.enableAlpha, enableAlpha = _ref3$enableAlpha === void 0 ? false : _ref3$enableAlpha, signal = _ref3.signal;\n                imageWindow = window || [0, 0, this.getWidth(), this.getHeight()]; // check parameters\n                if (!(imageWindow[0] > imageWindow[2] || imageWindow[1] > imageWindow[3])) {\n                  _context5.next = 4;\n                  break;\n                }\n                throw new Error('Invalid subsets');\n              case 4:\n                pi = this.fileDirectory.PhotometricInterpretation;\n                if (!(pi === photometricInterpretations.RGB)) {\n                  _context5.next = 9;\n                  break;\n                }\n                s = [0, 1, 2];\n                if (!(this.fileDirectory.ExtraSamples === ExtraSamplesValues.Unspecified) && enableAlpha) {\n                  s = [];\n                  for (i = 0; i < this.fileDirectory.BitsPerSample.length; i += 1) {\n                    s.push(i);\n                  }\n                }\n                return _context5.abrupt(\"return\", this.readRasters({\n                  window: window,\n                  interleave: interleave,\n                  samples: s,\n                  pool: pool,\n                  width: width,\n                  height: height,\n                  resampleMethod: resampleMethod,\n                  signal: signal\n                }));\n              case 9:\n                _context5.t0 = pi;\n                _context5.next = _context5.t0 === photometricInterpretations.WhiteIsZero ? 12 : _context5.t0 === photometricInterpretations.BlackIsZero ? 12 : _context5.t0 === photometricInterpretations.Palette ? 12 : _context5.t0 === photometricInterpretations.CMYK ? 14 : _context5.t0 === photometricInterpretations.YCbCr ? 16 : _context5.t0 === photometricInterpretations.CIELab ? 16 : 18;\n                break;\n              case 12:\n                samples = [0];\n                return _context5.abrupt(\"break\", 19);\n              case 14:\n                samples = [0, 1, 2, 3];\n                return _context5.abrupt(\"break\", 19);\n              case 16:\n                samples = [0, 1, 2];\n                return _context5.abrupt(\"break\", 19);\n              case 18:\n                throw new Error('Invalid or unsupported photometric interpretation.');\n              case 19:\n                subOptions = {\n                  window: imageWindow,\n                  interleave: true,\n                  samples: samples,\n                  pool: pool,\n                  width: width,\n                  height: height,\n                  resampleMethod: resampleMethod,\n                  signal: signal\n                };\n                fileDirectory = this.fileDirectory;\n                _context5.next = 23;\n                return this.readRasters(subOptions);\n              case 23:\n                raster = _context5.sent;\n                max = Math.pow(2, this.fileDirectory.BitsPerSample[0]);\n                _context5.t1 = pi;\n                _context5.next = _context5.t1 === photometricInterpretations.WhiteIsZero ? 28 : _context5.t1 === photometricInterpretations.BlackIsZero ? 30 : _context5.t1 === photometricInterpretations.Palette ? 32 : _context5.t1 === photometricInterpretations.CMYK ? 34 : _context5.t1 === photometricInterpretations.YCbCr ? 36 : _context5.t1 === photometricInterpretations.CIELab ? 38 : 40;\n                break;\n              case 28:\n                data = fromWhiteIsZero(raster, max);\n                return _context5.abrupt(\"break\", 41);\n              case 30:\n                data = fromBlackIsZero(raster, max);\n                return _context5.abrupt(\"break\", 41);\n              case 32:\n                data = fromPalette(raster, fileDirectory.ColorMap);\n                return _context5.abrupt(\"break\", 41);\n              case 34:\n                data = fromCMYK(raster);\n                return _context5.abrupt(\"break\", 41);\n              case 36:\n                data = fromYCbCr(raster);\n                return _context5.abrupt(\"break\", 41);\n              case 38:\n                data = fromCIELab(raster);\n                return _context5.abrupt(\"break\", 41);\n              case 40:\n                throw new Error('Unsupported photometric interpretation.');\n              case 41:\n                // if non-interleaved data is requested, we must split the channels\n                // into their respective arrays\n                if (!interleave) {\n                  red = new Uint8Array(data.length / 3);\n                  green = new Uint8Array(data.length / 3);\n                  blue = new Uint8Array(data.length / 3);\n                  for (i = 0, j = 0; i < data.length; i += 3, ++j) {\n                    red[j] = data[i];\n                    green[j] = data[i + 1];\n                    blue[j] = data[i + 2];\n                  }\n                  data = [red, green, blue];\n                }\n                data.width = raster.width;\n                data.height = raster.height;\n                return _context5.abrupt(\"return\", data);\n              case 45:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this);\n      }));\n      function readRGB() {\n        return _readRGB.apply(this, arguments);\n      }\n      return readRGB;\n    }() /**\n         * Returns an array of tiepoints.\n         * @returns {Object[]}\n         */\n  }, {\n    key: \"getTiePoints\",\n    value: function getTiePoints() {\n      if (!this.fileDirectory.ModelTiepoint) {\n        return [];\n      }\n      var tiePoints = [];\n      for (var i = 0; i < this.fileDirectory.ModelTiepoint.length; i += 6) {\n        tiePoints.push({\n          i: this.fileDirectory.ModelTiepoint[i],\n          j: this.fileDirectory.ModelTiepoint[i + 1],\n          k: this.fileDirectory.ModelTiepoint[i + 2],\n          x: this.fileDirectory.ModelTiepoint[i + 3],\n          y: this.fileDirectory.ModelTiepoint[i + 4],\n          z: this.fileDirectory.ModelTiepoint[i + 5]\n        });\n      }\n      return tiePoints;\n    }\n\n    /**\n     * Returns the parsed GDAL metadata items.\n     *\n     * If sample is passed to null, dataset-level metadata will be returned.\n     * Otherwise only metadata specific to the provided sample will be returned.\n     *\n     * @param {number} [sample=null] The sample index.\n     * @returns {Object}\n     */\n  }, {\n    key: \"getGDALMetadata\",\n    value: function getGDALMetadata() {\n      var sample = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var metadata = {};\n      if (!this.fileDirectory.GDAL_METADATA) {\n        return null;\n      }\n      var string = this.fileDirectory.GDAL_METADATA;\n      var items = findTagsByName(string, 'Item');\n      if (sample === null) {\n        items = items.filter(function (item) {\n          return getAttribute(item, 'sample') === undefined;\n        });\n      } else {\n        items = items.filter(function (item) {\n          return Number(getAttribute(item, 'sample')) === sample;\n        });\n      }\n      for (var i = 0; i < items.length; ++i) {\n        var item = items[i];\n        metadata[getAttribute(item, 'name')] = item.inner;\n      }\n      return metadata;\n    }\n\n    /**\n     * Returns the GDAL nodata value\n     * @returns {number|null}\n     */\n  }, {\n    key: \"getGDALNoData\",\n    value: function getGDALNoData() {\n      if (!this.fileDirectory.GDAL_NODATA) {\n        return null;\n      }\n      var string = this.fileDirectory.GDAL_NODATA;\n      return Number(string.substring(0, string.length - 1));\n    }\n\n    /**\n     * Returns the image origin as a XYZ-vector. When the image has no affine\n     * transformation, then an exception is thrown.\n     * @returns {Array<number>} The origin as a vector\n     */\n  }, {\n    key: \"getOrigin\",\n    value: function getOrigin() {\n      var tiePoints = this.fileDirectory.ModelTiepoint;\n      var modelTransformation = this.fileDirectory.ModelTransformation;\n      if (tiePoints && tiePoints.length === 6) {\n        return [tiePoints[3], tiePoints[4], tiePoints[5]];\n      }\n      if (modelTransformation) {\n        return [modelTransformation[3], modelTransformation[7], modelTransformation[11]];\n      }\n      throw new Error('The image does not have an affine transformation.');\n    }\n\n    /**\n     * Returns the image resolution as a XYZ-vector. When the image has no affine\n     * transformation, then an exception is thrown.\n     * @param {GeoTIFFImage} [referenceImage=null] A reference image to calculate the resolution from\n     *                                             in cases when the current image does not have the\n     *                                             required tags on its own.\n     * @returns {Array<number>} The resolution as a vector\n     */\n  }, {\n    key: \"getResolution\",\n    value: function getResolution() {\n      var referenceImage = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : null;\n      var modelPixelScale = this.fileDirectory.ModelPixelScale;\n      var modelTransformation = this.fileDirectory.ModelTransformation;\n      if (modelPixelScale) {\n        return [modelPixelScale[0], -modelPixelScale[1], modelPixelScale[2]];\n      }\n      if (modelTransformation) {\n        return [modelTransformation[0], modelTransformation[5], modelTransformation[10]];\n      }\n      if (referenceImage) {\n        var _referenceImage$getRe = referenceImage.getResolution(),\n          _referenceImage$getRe2 = _slicedToArray(_referenceImage$getRe, 3),\n          refResX = _referenceImage$getRe2[0],\n          refResY = _referenceImage$getRe2[1],\n          refResZ = _referenceImage$getRe2[2];\n        return [refResX * referenceImage.getWidth() / this.getWidth(), refResY * referenceImage.getHeight() / this.getHeight(), refResZ * referenceImage.getWidth() / this.getWidth()];\n      }\n      throw new Error('The image does not have an affine transformation.');\n    }\n\n    /**\n     * Returns whether or not the pixels of the image depict an area (or point).\n     * @returns {Boolean} Whether the pixels are a point\n     */\n  }, {\n    key: \"pixelIsArea\",\n    value: function pixelIsArea() {\n      return this.geoKeys.GTRasterTypeGeoKey === 1;\n    }\n\n    /**\n     * Returns the image bounding box as an array of 4 values: min-x, min-y,\n     * max-x and max-y. When the image has no affine transformation, then an\n     * exception is thrown.\n     * @returns {Array<number>} The bounding box\n     */\n  }, {\n    key: \"getBoundingBox\",\n    value: function getBoundingBox() {\n      var origin = this.getOrigin();\n      var resolution = this.getResolution();\n      var x1 = origin[0];\n      var y1 = origin[1];\n      var x2 = x1 + resolution[0] * this.getWidth();\n      var y2 = y1 + resolution[1] * this.getHeight();\n      return [Math.min(x1, x2), Math.min(y1, y2), Math.max(x1, x2), Math.max(y1, y2)];\n    }\n  }]);\n  return GeoTIFFImage;\n}();\nexport default GeoTIFFImage;","import _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport { getFloat16 as _getFloat } from '@petamoriken/float16';\nvar DataView64 = /*#__PURE__*/function () {\n  function DataView64(arrayBuffer) {\n    _classCallCheck(this, DataView64);\n    this._dataView = new DataView(arrayBuffer);\n  }\n  _createClass(DataView64, [{\n    key: \"buffer\",\n    get: function get() {\n      return this._dataView.buffer;\n    }\n  }, {\n    key: \"getUint64\",\n    value: function getUint64(offset, littleEndian) {\n      var left = this.getUint32(offset, littleEndian);\n      var right = this.getUint32(offset + 4, littleEndian);\n      var combined;\n      if (littleEndian) {\n        combined = left + Math.pow(2, 32) * right;\n        if (!Number.isSafeInteger(combined)) {\n          throw new Error(\"\".concat(combined, \" exceeds MAX_SAFE_INTEGER. \") + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\n        }\n        return combined;\n      }\n      combined = Math.pow(2, 32) * left + right;\n      if (!Number.isSafeInteger(combined)) {\n        throw new Error(\"\".concat(combined, \" exceeds MAX_SAFE_INTEGER. \") + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\n      }\n      return combined;\n    }\n\n    // adapted from https://stackoverflow.com/a/55338384/8060591\n  }, {\n    key: \"getInt64\",\n    value: function getInt64(offset, littleEndian) {\n      var value = 0;\n      var isNegative = (this._dataView.getUint8(offset + (littleEndian ? 7 : 0)) & 0x80) > 0;\n      var carrying = true;\n      for (var i = 0; i < 8; i++) {\n        var byte = this._dataView.getUint8(offset + (littleEndian ? i : 7 - i));\n        if (isNegative) {\n          if (carrying) {\n            if (byte !== 0x00) {\n              byte = ~(byte - 1) & 0xff;\n              carrying = false;\n            }\n          } else {\n            byte = ~byte & 0xff;\n          }\n        }\n        value += byte * Math.pow(256, i);\n      }\n      if (isNegative) {\n        value = -value;\n      }\n      return value;\n    }\n  }, {\n    key: \"getUint8\",\n    value: function getUint8(offset, littleEndian) {\n      return this._dataView.getUint8(offset, littleEndian);\n    }\n  }, {\n    key: \"getInt8\",\n    value: function getInt8(offset, littleEndian) {\n      return this._dataView.getInt8(offset, littleEndian);\n    }\n  }, {\n    key: \"getUint16\",\n    value: function getUint16(offset, littleEndian) {\n      return this._dataView.getUint16(offset, littleEndian);\n    }\n  }, {\n    key: \"getInt16\",\n    value: function getInt16(offset, littleEndian) {\n      return this._dataView.getInt16(offset, littleEndian);\n    }\n  }, {\n    key: \"getUint32\",\n    value: function getUint32(offset, littleEndian) {\n      return this._dataView.getUint32(offset, littleEndian);\n    }\n  }, {\n    key: \"getInt32\",\n    value: function getInt32(offset, littleEndian) {\n      return this._dataView.getInt32(offset, littleEndian);\n    }\n  }, {\n    key: \"getFloat16\",\n    value: function getFloat16(offset, littleEndian) {\n      return _getFloat(this._dataView, offset, littleEndian);\n    }\n  }, {\n    key: \"getFloat32\",\n    value: function getFloat32(offset, littleEndian) {\n      return this._dataView.getFloat32(offset, littleEndian);\n    }\n  }, {\n    key: \"getFloat64\",\n    value: function getFloat64(offset, littleEndian) {\n      return this._dataView.getFloat64(offset, littleEndian);\n    }\n  }]);\n  return DataView64;\n}();\nexport { DataView64 as default };","import _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nvar DataSlice = /*#__PURE__*/function () {\n  function DataSlice(arrayBuffer, sliceOffset, littleEndian, bigTiff) {\n    _classCallCheck(this, DataSlice);\n    this._dataView = new DataView(arrayBuffer);\n    this._sliceOffset = sliceOffset;\n    this._littleEndian = littleEndian;\n    this._bigTiff = bigTiff;\n  }\n  _createClass(DataSlice, [{\n    key: \"sliceOffset\",\n    get: function get() {\n      return this._sliceOffset;\n    }\n  }, {\n    key: \"sliceTop\",\n    get: function get() {\n      return this._sliceOffset + this.buffer.byteLength;\n    }\n  }, {\n    key: \"littleEndian\",\n    get: function get() {\n      return this._littleEndian;\n    }\n  }, {\n    key: \"bigTiff\",\n    get: function get() {\n      return this._bigTiff;\n    }\n  }, {\n    key: \"buffer\",\n    get: function get() {\n      return this._dataView.buffer;\n    }\n  }, {\n    key: \"covers\",\n    value: function covers(offset, length) {\n      return this.sliceOffset <= offset && this.sliceTop >= offset + length;\n    }\n  }, {\n    key: \"readUint8\",\n    value: function readUint8(offset) {\n      return this._dataView.getUint8(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readInt8\",\n    value: function readInt8(offset) {\n      return this._dataView.getInt8(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readUint16\",\n    value: function readUint16(offset) {\n      return this._dataView.getUint16(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readInt16\",\n    value: function readInt16(offset) {\n      return this._dataView.getInt16(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readUint32\",\n    value: function readUint32(offset) {\n      return this._dataView.getUint32(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readInt32\",\n    value: function readInt32(offset) {\n      return this._dataView.getInt32(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readFloat32\",\n    value: function readFloat32(offset) {\n      return this._dataView.getFloat32(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readFloat64\",\n    value: function readFloat64(offset) {\n      return this._dataView.getFloat64(offset - this._sliceOffset, this._littleEndian);\n    }\n  }, {\n    key: \"readUint64\",\n    value: function readUint64(offset) {\n      var left = this.readUint32(offset);\n      var right = this.readUint32(offset + 4);\n      var combined;\n      if (this._littleEndian) {\n        combined = left + Math.pow(2, 32) * right;\n        if (!Number.isSafeInteger(combined)) {\n          throw new Error(\"\".concat(combined, \" exceeds MAX_SAFE_INTEGER. \") + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\n        }\n        return combined;\n      }\n      combined = Math.pow(2, 32) * left + right;\n      if (!Number.isSafeInteger(combined)) {\n        throw new Error(\"\".concat(combined, \" exceeds MAX_SAFE_INTEGER. \") + 'Precision may be lost. Please report if you get this message to https://github.com/geotiffjs/geotiff.js/issues');\n      }\n      return combined;\n    }\n\n    // adapted from https://stackoverflow.com/a/55338384/8060591\n  }, {\n    key: \"readInt64\",\n    value: function readInt64(offset) {\n      var value = 0;\n      var isNegative = (this._dataView.getUint8(offset + (this._littleEndian ? 7 : 0)) & 0x80) > 0;\n      var carrying = true;\n      for (var i = 0; i < 8; i++) {\n        var byte = this._dataView.getUint8(offset + (this._littleEndian ? i : 7 - i));\n        if (isNegative) {\n          if (carrying) {\n            if (byte !== 0x00) {\n              byte = ~(byte - 1) & 0xff;\n              carrying = false;\n            }\n          } else {\n            byte = ~byte & 0xff;\n          }\n        }\n        value += byte * Math.pow(256, i);\n      }\n      if (isNegative) {\n        value = -value;\n      }\n      return value;\n    }\n  }, {\n    key: \"readOffset\",\n    value: function readOffset(offset) {\n      if (this._bigTiff) {\n        return this.readUint64(offset);\n      }\n      return this.readUint32(offset);\n    }\n  }]);\n  return DataSlice;\n}();\nexport { DataSlice as default };","import _toArray from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/toArray.js\";\nimport _slicedToArray from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nimport \"core-js/modules/es.object.from-entries.js\";\nvar CRLFCRLF = '\\r\\n\\r\\n';\n\n/*\n * Shim for 'Object.fromEntries'\n */\nfunction itemsToObject(items) {\n  if (typeof Object.fromEntries !== 'undefined') {\n    return Object.fromEntries(items);\n  }\n  var obj = {};\n  var _iterator = _createForOfIteratorHelper(items),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _step$value = _slicedToArray(_step.value, 2),\n        key = _step$value[0],\n        value = _step$value[1];\n      obj[key.toLowerCase()] = value;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n  return obj;\n}\n\n/**\n * Parse HTTP headers from a given string.\n * @param {String} text the text to parse the headers from\n * @returns {Object} the parsed headers with lowercase keys\n */\nfunction parseHeaders(text) {\n  var items = text.split('\\r\\n').map(function (line) {\n    var kv = line.split(':').map(function (str) {\n      return str.trim();\n    });\n    kv[0] = kv[0].toLowerCase();\n    return kv;\n  });\n  return itemsToObject(items);\n}\n\n/**\n * Parse a 'Content-Type' header value to the content-type and parameters\n * @param {String} rawContentType the raw string to parse from\n * @returns {Object} the parsed content type with the fields: type and params\n */\nexport function parseContentType(rawContentType) {\n  var _rawContentType$split = rawContentType.split(';').map(function (s) {\n      return s.trim();\n    }),\n    _rawContentType$split2 = _toArray(_rawContentType$split),\n    type = _rawContentType$split2[0],\n    rawParams = _rawContentType$split2.slice(1);\n  var paramsItems = rawParams.map(function (param) {\n    return param.split('=');\n  });\n  return {\n    type: type,\n    params: itemsToObject(paramsItems)\n  };\n}\n\n/**\n * Parse a 'Content-Range' header value to its start, end, and total parts\n * @param {String} rawContentRange the raw string to parse from\n * @returns {Object} the parsed parts\n */\nexport function parseContentRange(rawContentRange) {\n  var start;\n  var end;\n  var total;\n  if (rawContentRange) {\n    var _rawContentRange$matc = rawContentRange.match(/bytes (\\d+)-(\\d+)\\/(\\d+)/);\n    var _rawContentRange$matc2 = _slicedToArray(_rawContentRange$matc, 4);\n    start = _rawContentRange$matc2[1];\n    end = _rawContentRange$matc2[2];\n    total = _rawContentRange$matc2[3];\n    start = parseInt(start, 10);\n    end = parseInt(end, 10);\n    total = parseInt(total, 10);\n  }\n  return {\n    start: start,\n    end: end,\n    total: total\n  };\n}\n\n/**\n * Parses a list of byteranges from the given 'multipart/byteranges' HTTP response.\n * Each item in the list has the following properties:\n * - headers: the HTTP headers\n * - data: the sliced ArrayBuffer for that specific part\n * - offset: the offset of the byterange within its originating file\n * - length: the length of the byterange\n * @param {ArrayBuffer} responseArrayBuffer the response to be parsed and split\n * @param {String} boundary the boundary string used to split the sections\n * @returns {Object[]} the parsed byteranges\n */\nexport function parseByteRanges(responseArrayBuffer, boundary) {\n  var offset = null;\n  var decoder = new TextDecoder('ascii');\n  var out = [];\n  var startBoundary = \"--\".concat(boundary);\n  var endBoundary = \"\".concat(startBoundary, \"--\");\n\n  // search for the initial boundary, may be offset by some bytes\n  // TODO: more efficient to check for `--` in bytes directly\n  for (var i = 0; i < 10; ++i) {\n    var text = decoder.decode(new Uint8Array(responseArrayBuffer, i, startBoundary.length));\n    if (text === startBoundary) {\n      offset = i;\n    }\n  }\n  if (offset === null) {\n    throw new Error('Could not find initial boundary');\n  }\n  while (offset < responseArrayBuffer.byteLength) {\n    var _text = decoder.decode(new Uint8Array(responseArrayBuffer, offset, Math.min(startBoundary.length + 1024, responseArrayBuffer.byteLength - offset)));\n\n    // break if we arrived at the end\n    if (_text.length === 0 || _text.startsWith(endBoundary)) {\n      break;\n    }\n\n    // assert that we are actually dealing with a byterange and are at the correct offset\n    if (!_text.startsWith(startBoundary)) {\n      throw new Error('Part does not start with boundary');\n    }\n\n    // get a substring from where we read the headers\n    var innerText = _text.substr(startBoundary.length + 2);\n    if (innerText.length === 0) {\n      break;\n    }\n\n    // find the double linebreak that denotes the end of the headers\n    var endOfHeaders = innerText.indexOf(CRLFCRLF);\n\n    // parse the headers to get the content range size\n    var headers = parseHeaders(innerText.substr(0, endOfHeaders));\n    var _parseContentRange = parseContentRange(headers['content-range']),\n      start = _parseContentRange.start,\n      end = _parseContentRange.end,\n      total = _parseContentRange.total;\n\n    // calculate the length of the slice and the next offset\n    var startOfData = offset + startBoundary.length + endOfHeaders + CRLFCRLF.length;\n    var length = parseInt(end, 10) + 1 - parseInt(start, 10);\n    out.push({\n      headers: headers,\n      data: responseArrayBuffer.slice(startOfData, startOfData + length),\n      offset: start,\n      length: length,\n      fileSize: total\n    });\n    offset = startOfData + length + 4;\n  }\n  return out;\n}","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nexport default function _toArray(arr) {\n  return arrayWithHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableRest();\n}","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\n/**\n * @typedef Slice\n * @property {number} offset\n * @property {number} length\n */\n\nexport var BaseSource = /*#__PURE__*/function () {\n  function BaseSource() {\n    _classCallCheck(this, BaseSource);\n  }\n  _createClass(BaseSource, [{\n    key: \"fetch\",\n    value: /**\n            *\n            * @param {Slice[]} slices\n            * @returns {ArrayBuffer[]}\n            */function () {\n      var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(slices) {\n        var _this = this;\n        var signal,\n          _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                signal = _args.length > 1 && _args[1] !== undefined ? _args[1] : undefined;\n                return _context.abrupt(\"return\", Promise.all(slices.map(function (slice) {\n                  return _this.fetchSlice(slice, signal);\n                })));\n              case 2:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      function fetch(_x) {\n        return _fetch.apply(this, arguments);\n      }\n      return fetch;\n    }() /**\n         *\n         * @param {Slice} slice\n         * @returns {ArrayBuffer}\n         */\n  }, {\n    key: \"fetchSlice\",\n    value: function () {\n      var _fetchSlice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(slice) {\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                throw new Error(\"fetching of slice \".concat(slice, \" not possible, not implemented\"));\n              case 1:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      function fetchSlice(_x2) {\n        return _fetchSlice.apply(this, arguments);\n      }\n      return fetchSlice;\n    }() /**\n         * Returns the filesize if already determined and null otherwise\n         */\n  }, {\n    key: \"fileSize\",\n    get: function get() {\n      return null;\n    }\n  }, {\n    key: \"close\",\n    value: function () {\n      var _close = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3() {\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3);\n      }));\n      function close() {\n        return _close.apply(this, arguments);\n      }\n      return close;\n    }()\n  }]);\n  return BaseSource;\n}();","import _toConsumableArray from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";\nimport _slicedToArray from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _wrapNativeSuper from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nvar QuickLRU = /*#__PURE__*/function (_Map, _Symbol$iterator, _Symbol$toStringTag) {\n  _inherits(QuickLRU, _Map);\n  var _super = _createSuper(QuickLRU);\n  function QuickLRU() {\n    var _this;\n    var options = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    _classCallCheck(this, QuickLRU);\n    _this = _super.call(this);\n    if (!(options.maxSize && options.maxSize > 0)) {\n      throw new TypeError('`maxSize` must be a number greater than 0');\n    }\n    if (typeof options.maxAge === 'number' && options.maxAge === 0) {\n      throw new TypeError('`maxAge` must be a number greater than 0');\n    }\n\n    // TODO: Use private class fields when ESLint supports them.\n    _this.maxSize = options.maxSize;\n    _this.maxAge = options.maxAge || Number.POSITIVE_INFINITY;\n    _this.onEviction = options.onEviction;\n    _this.cache = new Map();\n    _this.oldCache = new Map();\n    _this._size = 0;\n    return _this;\n  }\n\n  // TODO: Use private class methods when targeting Node.js 16.\n  _createClass(QuickLRU, [{\n    key: \"_emitEvictions\",\n    value: function _emitEvictions(cache) {\n      if (typeof this.onEviction !== 'function') {\n        return;\n      }\n      var _iterator = _createForOfIteratorHelper(cache),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var _step$value = _slicedToArray(_step.value, 2),\n            key = _step$value[0],\n            item = _step$value[1];\n          this.onEviction(key, item.value);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n  }, {\n    key: \"_deleteIfExpired\",\n    value: function _deleteIfExpired(key, item) {\n      if (typeof item.expiry === 'number' && item.expiry <= Date.now()) {\n        if (typeof this.onEviction === 'function') {\n          this.onEviction(key, item.value);\n        }\n        return this.delete(key);\n      }\n      return false;\n    }\n  }, {\n    key: \"_getOrDeleteIfExpired\",\n    value: function _getOrDeleteIfExpired(key, item) {\n      var deleted = this._deleteIfExpired(key, item);\n      if (deleted === false) {\n        return item.value;\n      }\n    }\n  }, {\n    key: \"_getItemValue\",\n    value: function _getItemValue(key, item) {\n      return item.expiry ? this._getOrDeleteIfExpired(key, item) : item.value;\n    }\n  }, {\n    key: \"_peek\",\n    value: function _peek(key, cache) {\n      var item = cache.get(key);\n      return this._getItemValue(key, item);\n    }\n  }, {\n    key: \"_set\",\n    value: function _set(key, value) {\n      this.cache.set(key, value);\n      this._size++;\n      if (this._size >= this.maxSize) {\n        this._size = 0;\n        this._emitEvictions(this.oldCache);\n        this.oldCache = this.cache;\n        this.cache = new Map();\n      }\n    }\n  }, {\n    key: \"_moveToRecent\",\n    value: function _moveToRecent(key, item) {\n      this.oldCache.delete(key);\n      this._set(key, item);\n    }\n  }, {\n    key: \"_entriesAscending\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function _entriesAscending() {\n      var _iterator2, _step2, item, _item, key, value, deleted, _iterator3, _step3, _item2, _item3, _key, _value, _deleted;\n      return _regeneratorRuntime.wrap(function _entriesAscending$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _iterator2 = _createForOfIteratorHelper(this.oldCache);\n              _context.prev = 1;\n              _iterator2.s();\n            case 3:\n              if ((_step2 = _iterator2.n()).done) {\n                _context.next = 13;\n                break;\n              }\n              item = _step2.value;\n              _item = _slicedToArray(item, 2), key = _item[0], value = _item[1];\n              if (this.cache.has(key)) {\n                _context.next = 11;\n                break;\n              }\n              deleted = this._deleteIfExpired(key, value);\n              if (!(deleted === false)) {\n                _context.next = 11;\n                break;\n              }\n              _context.next = 11;\n              return item;\n            case 11:\n              _context.next = 3;\n              break;\n            case 13:\n              _context.next = 18;\n              break;\n            case 15:\n              _context.prev = 15;\n              _context.t0 = _context[\"catch\"](1);\n              _iterator2.e(_context.t0);\n            case 18:\n              _context.prev = 18;\n              _iterator2.f();\n              return _context.finish(18);\n            case 21:\n              _iterator3 = _createForOfIteratorHelper(this.cache);\n              _context.prev = 22;\n              _iterator3.s();\n            case 24:\n              if ((_step3 = _iterator3.n()).done) {\n                _context.next = 33;\n                break;\n              }\n              _item2 = _step3.value;\n              _item3 = _slicedToArray(_item2, 2), _key = _item3[0], _value = _item3[1];\n              _deleted = this._deleteIfExpired(_key, _value);\n              if (!(_deleted === false)) {\n                _context.next = 31;\n                break;\n              }\n              _context.next = 31;\n              return _item2;\n            case 31:\n              _context.next = 24;\n              break;\n            case 33:\n              _context.next = 38;\n              break;\n            case 35:\n              _context.prev = 35;\n              _context.t1 = _context[\"catch\"](22);\n              _iterator3.e(_context.t1);\n            case 38:\n              _context.prev = 38;\n              _iterator3.f();\n              return _context.finish(38);\n            case 41:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _entriesAscending, this, [[1, 15, 18, 21], [22, 35, 38, 41]]);\n    })\n  }, {\n    key: \"get\",\n    value: function get(key) {\n      if (this.cache.has(key)) {\n        var item = this.cache.get(key);\n        return this._getItemValue(key, item);\n      }\n      if (this.oldCache.has(key)) {\n        var _item4 = this.oldCache.get(key);\n        if (this._deleteIfExpired(key, _item4) === false) {\n          this._moveToRecent(key, _item4);\n          return _item4.value;\n        }\n      }\n    }\n  }, {\n    key: \"set\",\n    value: function set(key, value) {\n      var _ref = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : {},\n        _ref$maxAge = _ref.maxAge,\n        maxAge = _ref$maxAge === void 0 ? this.maxAge : _ref$maxAge;\n      var expiry = typeof maxAge === 'number' && maxAge !== Number.POSITIVE_INFINITY ? Date.now() + maxAge : undefined;\n      if (this.cache.has(key)) {\n        this.cache.set(key, {\n          value: value,\n          expiry: expiry\n        });\n      } else {\n        this._set(key, {\n          value: value,\n          expiry: expiry\n        });\n      }\n    }\n  }, {\n    key: \"has\",\n    value: function has(key) {\n      if (this.cache.has(key)) {\n        return !this._deleteIfExpired(key, this.cache.get(key));\n      }\n      if (this.oldCache.has(key)) {\n        return !this._deleteIfExpired(key, this.oldCache.get(key));\n      }\n      return false;\n    }\n  }, {\n    key: \"peek\",\n    value: function peek(key) {\n      if (this.cache.has(key)) {\n        return this._peek(key, this.cache);\n      }\n      if (this.oldCache.has(key)) {\n        return this._peek(key, this.oldCache);\n      }\n    }\n  }, {\n    key: \"delete\",\n    value: function _delete(key) {\n      var deleted = this.cache.delete(key);\n      if (deleted) {\n        this._size--;\n      }\n      return this.oldCache.delete(key) || deleted;\n    }\n  }, {\n    key: \"clear\",\n    value: function clear() {\n      this.cache.clear();\n      this.oldCache.clear();\n      this._size = 0;\n    }\n  }, {\n    key: \"resize\",\n    value: function resize(newSize) {\n      if (!(newSize && newSize > 0)) {\n        throw new TypeError('`maxSize` must be a number greater than 0');\n      }\n      var items = _toConsumableArray(this._entriesAscending());\n      var removeCount = items.length - newSize;\n      if (removeCount < 0) {\n        this.cache = new Map(items);\n        this.oldCache = new Map();\n        this._size = items.length;\n      } else {\n        if (removeCount > 0) {\n          this._emitEvictions(items.slice(0, removeCount));\n        }\n        this.oldCache = new Map(items.slice(removeCount));\n        this.cache = new Map();\n        this._size = 0;\n      }\n      this.maxSize = newSize;\n    }\n  }, {\n    key: \"keys\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function keys() {\n      var _iterator4, _step4, _step4$value, key;\n      return _regeneratorRuntime.wrap(function keys$(_context2) {\n        while (1) {\n          switch (_context2.prev = _context2.next) {\n            case 0:\n              _iterator4 = _createForOfIteratorHelper(this);\n              _context2.prev = 1;\n              _iterator4.s();\n            case 3:\n              if ((_step4 = _iterator4.n()).done) {\n                _context2.next = 9;\n                break;\n              }\n              _step4$value = _slicedToArray(_step4.value, 1), key = _step4$value[0];\n              _context2.next = 7;\n              return key;\n            case 7:\n              _context2.next = 3;\n              break;\n            case 9:\n              _context2.next = 14;\n              break;\n            case 11:\n              _context2.prev = 11;\n              _context2.t0 = _context2[\"catch\"](1);\n              _iterator4.e(_context2.t0);\n            case 14:\n              _context2.prev = 14;\n              _iterator4.f();\n              return _context2.finish(14);\n            case 17:\n            case \"end\":\n              return _context2.stop();\n          }\n        }\n      }, keys, this, [[1, 11, 14, 17]]);\n    })\n  }, {\n    key: \"values\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function values() {\n      var _iterator5, _step5, _step5$value, value;\n      return _regeneratorRuntime.wrap(function values$(_context3) {\n        while (1) {\n          switch (_context3.prev = _context3.next) {\n            case 0:\n              _iterator5 = _createForOfIteratorHelper(this);\n              _context3.prev = 1;\n              _iterator5.s();\n            case 3:\n              if ((_step5 = _iterator5.n()).done) {\n                _context3.next = 9;\n                break;\n              }\n              _step5$value = _slicedToArray(_step5.value, 2), value = _step5$value[1];\n              _context3.next = 7;\n              return value;\n            case 7:\n              _context3.next = 3;\n              break;\n            case 9:\n              _context3.next = 14;\n              break;\n            case 11:\n              _context3.prev = 11;\n              _context3.t0 = _context3[\"catch\"](1);\n              _iterator5.e(_context3.t0);\n            case 14:\n              _context3.prev = 14;\n              _iterator5.f();\n              return _context3.finish(14);\n            case 17:\n            case \"end\":\n              return _context3.stop();\n          }\n        }\n      }, values, this, [[1, 11, 14, 17]]);\n    })\n  }, {\n    key: _Symbol$iterator,\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function value() {\n      var _iterator6, _step6, item, _item5, key, value, deleted, _iterator7, _step7, _item6, _item7, _key2, _value2, _deleted2;\n      return _regeneratorRuntime.wrap(function value$(_context4) {\n        while (1) {\n          switch (_context4.prev = _context4.next) {\n            case 0:\n              _iterator6 = _createForOfIteratorHelper(this.cache);\n              _context4.prev = 1;\n              _iterator6.s();\n            case 3:\n              if ((_step6 = _iterator6.n()).done) {\n                _context4.next = 12;\n                break;\n              }\n              item = _step6.value;\n              _item5 = _slicedToArray(item, 2), key = _item5[0], value = _item5[1];\n              deleted = this._deleteIfExpired(key, value);\n              if (!(deleted === false)) {\n                _context4.next = 10;\n                break;\n              }\n              _context4.next = 10;\n              return [key, value.value];\n            case 10:\n              _context4.next = 3;\n              break;\n            case 12:\n              _context4.next = 17;\n              break;\n            case 14:\n              _context4.prev = 14;\n              _context4.t0 = _context4[\"catch\"](1);\n              _iterator6.e(_context4.t0);\n            case 17:\n              _context4.prev = 17;\n              _iterator6.f();\n              return _context4.finish(17);\n            case 20:\n              _iterator7 = _createForOfIteratorHelper(this.oldCache);\n              _context4.prev = 21;\n              _iterator7.s();\n            case 23:\n              if ((_step7 = _iterator7.n()).done) {\n                _context4.next = 33;\n                break;\n              }\n              _item6 = _step7.value;\n              _item7 = _slicedToArray(_item6, 2), _key2 = _item7[0], _value2 = _item7[1];\n              if (this.cache.has(_key2)) {\n                _context4.next = 31;\n                break;\n              }\n              _deleted2 = this._deleteIfExpired(_key2, _value2);\n              if (!(_deleted2 === false)) {\n                _context4.next = 31;\n                break;\n              }\n              _context4.next = 31;\n              return [_key2, _value2.value];\n            case 31:\n              _context4.next = 23;\n              break;\n            case 33:\n              _context4.next = 38;\n              break;\n            case 35:\n              _context4.prev = 35;\n              _context4.t1 = _context4[\"catch\"](21);\n              _iterator7.e(_context4.t1);\n            case 38:\n              _context4.prev = 38;\n              _iterator7.f();\n              return _context4.finish(38);\n            case 41:\n            case \"end\":\n              return _context4.stop();\n          }\n        }\n      }, value, this, [[1, 14, 17, 20], [21, 35, 38, 41]]);\n    })\n  }, {\n    key: \"entriesDescending\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function entriesDescending() {\n      var items, i, item, _item8, key, value, deleted, _i, _item9, _item10, _key3, _value3, _deleted3;\n      return _regeneratorRuntime.wrap(function entriesDescending$(_context5) {\n        while (1) {\n          switch (_context5.prev = _context5.next) {\n            case 0:\n              items = _toConsumableArray(this.cache);\n              i = items.length - 1;\n            case 2:\n              if (!(i >= 0)) {\n                _context5.next = 12;\n                break;\n              }\n              item = items[i];\n              _item8 = _slicedToArray(item, 2), key = _item8[0], value = _item8[1];\n              deleted = this._deleteIfExpired(key, value);\n              if (!(deleted === false)) {\n                _context5.next = 9;\n                break;\n              }\n              _context5.next = 9;\n              return [key, value.value];\n            case 9:\n              --i;\n              _context5.next = 2;\n              break;\n            case 12:\n              items = _toConsumableArray(this.oldCache);\n              _i = items.length - 1;\n            case 14:\n              if (!(_i >= 0)) {\n                _context5.next = 25;\n                break;\n              }\n              _item9 = items[_i];\n              _item10 = _slicedToArray(_item9, 2), _key3 = _item10[0], _value3 = _item10[1];\n              if (this.cache.has(_key3)) {\n                _context5.next = 22;\n                break;\n              }\n              _deleted3 = this._deleteIfExpired(_key3, _value3);\n              if (!(_deleted3 === false)) {\n                _context5.next = 22;\n                break;\n              }\n              _context5.next = 22;\n              return [_key3, _value3.value];\n            case 22:\n              --_i;\n              _context5.next = 14;\n              break;\n            case 25:\n            case \"end\":\n              return _context5.stop();\n          }\n        }\n      }, entriesDescending, this);\n    })\n  }, {\n    key: \"entriesAscending\",\n    value: /*#__PURE__*/_regeneratorRuntime.mark(function entriesAscending() {\n      var _iterator8, _step8, _step8$value, key, value;\n      return _regeneratorRuntime.wrap(function entriesAscending$(_context6) {\n        while (1) {\n          switch (_context6.prev = _context6.next) {\n            case 0:\n              _iterator8 = _createForOfIteratorHelper(this._entriesAscending());\n              _context6.prev = 1;\n              _iterator8.s();\n            case 3:\n              if ((_step8 = _iterator8.n()).done) {\n                _context6.next = 9;\n                break;\n              }\n              _step8$value = _slicedToArray(_step8.value, 2), key = _step8$value[0], value = _step8$value[1];\n              _context6.next = 7;\n              return [key, value.value];\n            case 7:\n              _context6.next = 3;\n              break;\n            case 9:\n              _context6.next = 14;\n              break;\n            case 11:\n              _context6.prev = 11;\n              _context6.t0 = _context6[\"catch\"](1);\n              _iterator8.e(_context6.t0);\n            case 14:\n              _context6.prev = 14;\n              _iterator8.f();\n              return _context6.finish(14);\n            case 17:\n            case \"end\":\n              return _context6.stop();\n          }\n        }\n      }, entriesAscending, this, [[1, 11, 14, 17]]);\n    })\n  }, {\n    key: \"size\",\n    get: function get() {\n      if (!this._size) {\n        return this.oldCache.size;\n      }\n      var oldCacheSize = 0;\n      var _iterator9 = _createForOfIteratorHelper(this.oldCache.keys()),\n        _step9;\n      try {\n        for (_iterator9.s(); !(_step9 = _iterator9.n()).done;) {\n          var key = _step9.value;\n          if (!this.cache.has(key)) {\n            oldCacheSize++;\n          }\n        }\n      } catch (err) {\n        _iterator9.e(err);\n      } finally {\n        _iterator9.f();\n      }\n      return Math.min(this._size + oldCacheSize, this.maxSize);\n    }\n  }, {\n    key: \"entries\",\n    value: function entries() {\n      return this.entriesAscending();\n    }\n  }, {\n    key: \"forEach\",\n    value: function forEach(callbackFunction) {\n      var thisArgument = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : this;\n      var _iterator10 = _createForOfIteratorHelper(this.entriesAscending()),\n        _step10;\n      try {\n        for (_iterator10.s(); !(_step10 = _iterator10.n()).done;) {\n          var _step10$value = _slicedToArray(_step10.value, 2),\n            key = _step10$value[0],\n            value = _step10$value[1];\n          callbackFunction.call(thisArgument, value, key, this);\n        }\n      } catch (err) {\n        _iterator10.e(err);\n      } finally {\n        _iterator10.f();\n      }\n    }\n  }, {\n    key: _Symbol$toStringTag,\n    get: function get() {\n      return JSON.stringify(_toConsumableArray(this.entriesAscending()));\n    }\n  }]);\n  return QuickLRU;\n}( /*#__PURE__*/_wrapNativeSuper(Map), Symbol.iterator, Symbol.toStringTag);\nexport { QuickLRU as default };","import _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _assertThisInitialized from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _wrapNativeSuper from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nexport function assign(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n}\nexport function chunk(iterable, length) {\n  var results = [];\n  var lengthOfIterable = iterable.length;\n  for (var i = 0; i < lengthOfIterable; i += length) {\n    var chunked = [];\n    for (var ci = i; ci < i + length; ci++) {\n      chunked.push(iterable[ci]);\n    }\n    results.push(chunked);\n  }\n  return results;\n}\nexport function endsWith(string, expectedEnding) {\n  if (string.length < expectedEnding.length) {\n    return false;\n  }\n  var actualEnding = string.substr(string.length - expectedEnding.length);\n  return actualEnding === expectedEnding;\n}\nexport function forEach(iterable, func) {\n  var length = iterable.length;\n  for (var i = 0; i < length; i++) {\n    func(iterable[i], i);\n  }\n}\nexport function invert(oldObj) {\n  var newObj = {};\n  for (var key in oldObj) {\n    if (oldObj.hasOwnProperty(key)) {\n      var value = oldObj[key];\n      newObj[value] = key;\n    }\n  }\n  return newObj;\n}\nexport function range(n) {\n  var results = [];\n  for (var i = 0; i < n; i++) {\n    results.push(i);\n  }\n  return results;\n}\nexport function times(numTimes, func) {\n  var results = [];\n  for (var i = 0; i < numTimes; i++) {\n    results.push(func(i));\n  }\n  return results;\n}\nexport function toArray(iterable) {\n  var results = [];\n  var length = iterable.length;\n  for (var i = 0; i < length; i++) {\n    results.push(iterable[i]);\n  }\n  return results;\n}\nexport function toArrayRecursively(input) {\n  if (input.length) {\n    return toArray(input).map(toArrayRecursively);\n  }\n  return input;\n}\n\n// copied from https://github.com/academia-de-codigo/parse-content-range-header/blob/master/index.js\nexport function parseContentRange(headerValue) {\n  if (!headerValue) {\n    return null;\n  }\n  if (typeof headerValue !== 'string') {\n    throw new Error('invalid argument');\n  }\n  var parseInt = function parseInt(number) {\n    return Number.parseInt(number, 10);\n  };\n\n  // Check for presence of unit\n  var matches = headerValue.match(/^(\\w*) /);\n  var unit = matches && matches[1];\n\n  // check for start-end/size header format\n  matches = headerValue.match(/(\\d+)-(\\d+)\\/(\\d+|\\*)/);\n  if (matches) {\n    return {\n      unit: unit,\n      first: parseInt(matches[1]),\n      last: parseInt(matches[2]),\n      length: matches[3] === '*' ? null : parseInt(matches[3])\n    };\n  }\n\n  // check for size header format\n  matches = headerValue.match(/(\\d+|\\*)/);\n  if (matches) {\n    return {\n      unit: unit,\n      first: null,\n      last: null,\n      length: matches[1] === '*' ? null : parseInt(matches[1])\n    };\n  }\n  return null;\n}\n\n/*\n * Promisified wrapper around 'setTimeout' to allow 'await'\n */\nexport function wait(_x) {\n  return _wait.apply(this, arguments);\n}\nfunction _wait() {\n  _wait = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(milliseconds) {\n    return _regeneratorRuntime.wrap(function _callee$(_context) {\n      while (1) {\n        switch (_context.prev = _context.next) {\n          case 0:\n            return _context.abrupt(\"return\", new Promise(function (resolve) {\n              return setTimeout(resolve, milliseconds);\n            }));\n          case 1:\n          case \"end\":\n            return _context.stop();\n        }\n      }\n    }, _callee);\n  }));\n  return _wait.apply(this, arguments);\n}\nexport function zip(a, b) {\n  var A = Array.isArray(a) ? a : Array.from(a);\n  var B = Array.isArray(b) ? b : Array.from(b);\n  return A.map(function (k, i) {\n    return [k, B[i]];\n  });\n}\n\n// Based on https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error\nexport var AbortError = /*#__PURE__*/function (_Error) {\n  _inherits(AbortError, _Error);\n  var _super = _createSuper(AbortError);\n  function AbortError(params) {\n    var _this;\n    _classCallCheck(this, AbortError);\n    // Pass remaining arguments (including vendor specific ones) to parent constructor\n    _this = _super.call(this, params);\n\n    // Maintains proper stack trace for where our error was thrown (only available on V8)\n    if (Error.captureStackTrace) {\n      Error.captureStackTrace(_assertThisInitialized(_this), AbortError);\n    }\n    _this.name = 'AbortError';\n    return _this;\n  }\n  return _createClass(AbortError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nexport var CustomAggregateError = /*#__PURE__*/function (_Error2) {\n  _inherits(CustomAggregateError, _Error2);\n  var _super2 = _createSuper(CustomAggregateError);\n  function CustomAggregateError(errors, message) {\n    var _this2;\n    _classCallCheck(this, CustomAggregateError);\n    _this2 = _super2.call(this, message);\n    _this2.errors = errors;\n    _this2.message = message;\n    _this2.name = 'AggregateError';\n    return _this2;\n  }\n  return _createClass(CustomAggregateError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nexport var AggregateError = CustomAggregateError;","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nimport \"core-js/modules/esnext.promise.all-settled.js\";\nfunction _createForOfIteratorHelper(o, allowArrayLike) { var it = typeof Symbol !== \"undefined\" && o[Symbol.iterator] || o[\"@@iterator\"]; if (!it) { if (Array.isArray(o) || (it = _unsupportedIterableToArray(o)) || allowArrayLike && o && typeof o.length === \"number\") { if (it) o = it; var i = 0; var F = function F() {}; return { s: F, n: function n() { if (i >= o.length) return { done: true }; return { done: false, value: o[i++] }; }, e: function e(_e) { throw _e; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var normalCompletion = true, didErr = false, err; return { s: function s() { it = it.call(o); }, n: function n() { var step = it.next(); normalCompletion = step.done; return step; }, e: function e(_e2) { didErr = true; err = _e2; }, f: function f() { try { if (!normalCompletion && it.return != null) it.return(); } finally { if (didErr) throw err; } } }; }\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport QuickLRU from 'quick-lru';\nimport { BaseSource } from './basesource.js';\nimport { AbortError, AggregateError, wait, zip } from '../utils.js';\nvar Block = /*#__PURE__*/function () {\n  /**\n   *\n   * @param {number} offset\n   * @param {number} length\n   * @param {ArrayBuffer} [data]\n   */\n  function Block(offset, length) {\n    var data = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : null;\n    _classCallCheck(this, Block);\n    this.offset = offset;\n    this.length = length;\n    this.data = data;\n  }\n\n  /**\n   * @returns {number} the top byte border\n   */\n  _createClass(Block, [{\n    key: \"top\",\n    get: function get() {\n      return this.offset + this.length;\n    }\n  }]);\n  return Block;\n}();\nvar BlockGroup = /*#__PURE__*/_createClass(\n/**\n *\n * @param {number} offset\n * @param {number} length\n * @param {number[]} blockIds\n */\nfunction BlockGroup(offset, length, blockIds) {\n  _classCallCheck(this, BlockGroup);\n  this.offset = offset;\n  this.length = length;\n  this.blockIds = blockIds;\n});\nexport var BlockedSource = /*#__PURE__*/function (_BaseSource) {\n  _inherits(BlockedSource, _BaseSource);\n  var _super = _createSuper(BlockedSource);\n  /**\n   *\n   * @param {Source} source The underlying source that shall be blocked and cached\n   * @param {object} options\n   */\n  function BlockedSource(source) {\n    var _this;\n    var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n      _ref$blockSize = _ref.blockSize,\n      blockSize = _ref$blockSize === void 0 ? 65536 : _ref$blockSize,\n      _ref$cacheSize = _ref.cacheSize,\n      cacheSize = _ref$cacheSize === void 0 ? 100 : _ref$cacheSize;\n    _classCallCheck(this, BlockedSource);\n    _this = _super.call(this);\n    _this.source = source;\n    _this.blockSize = blockSize;\n    _this.blockCache = new QuickLRU({\n      maxSize: cacheSize\n    });\n\n    // mapping blockId -> Block instance\n    _this.blockRequests = new Map();\n\n    // set of blockIds missing for the current requests\n    _this.blockIdsToFetch = new Set();\n    _this.abortedBlockIds = new Set();\n    return _this;\n  }\n  _createClass(BlockedSource, [{\n    key: \"fileSize\",\n    get: function get() {\n      return this.source.fileSize;\n    }\n\n    /**\n     *\n     * @param {basesource/Slice[]} slices\n     */\n  }, {\n    key: \"fetch\",\n    value: function () {\n      var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(slices, signal) {\n        var _this2 = this;\n        var blockRequests, missingBlockIds, allBlockIds, _iterator, _step, _step$value, offset, length, top, fileSize, firstBlockOffset, current, _blockId2, missingRequests, _i, _missingBlockIds, blockId, abortedBlockRequests, abortedBlockIds, _iterator2, _step2, _blockId, block, blocks, failedBlocks, requiredBlocks;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                blockRequests = [];\n                missingBlockIds = [];\n                allBlockIds = [];\n                _iterator = _createForOfIteratorHelper(slices);\n                try {\n                  for (_iterator.s(); !(_step = _iterator.n()).done;) {\n                    _step$value = _step.value, offset = _step$value.offset, length = _step$value.length;\n                    top = offset + length;\n                    fileSize = this.fileSize;\n                    if (fileSize !== null) {\n                      top = Math.min(top, fileSize);\n                    }\n                    firstBlockOffset = Math.floor(offset / this.blockSize) * this.blockSize;\n                    for (current = firstBlockOffset; current < top; current += this.blockSize) {\n                      _blockId2 = Math.floor(current / this.blockSize);\n                      if (!this.blockCache.has(_blockId2) && !this.blockRequests.has(_blockId2)) {\n                        this.blockIdsToFetch.add(_blockId2);\n                        missingBlockIds.push(_blockId2);\n                      }\n                      if (this.blockRequests.has(_blockId2)) {\n                        blockRequests.push(this.blockRequests.get(_blockId2));\n                      }\n                      allBlockIds.push(_blockId2);\n                    }\n                  }\n\n                  // allow additional block requests to accumulate\n                } catch (err) {\n                  _iterator.e(err);\n                } finally {\n                  _iterator.f();\n                }\n                _context.next = 7;\n                return wait();\n              case 7:\n                this.fetchBlocks(signal);\n\n                // Gather all of the new requests that this fetch call is contributing to `fetch`.\n                missingRequests = [];\n                for (_i = 0, _missingBlockIds = missingBlockIds; _i < _missingBlockIds.length; _i++) {\n                  blockId = _missingBlockIds[_i];\n                  // The requested missing block could already be in the cache\n                  // instead of having its request still be outstanding.\n                  if (this.blockRequests.has(blockId)) {\n                    missingRequests.push(this.blockRequests.get(blockId));\n                  }\n                }\n\n                // Actually await all pending requests that are needed for this `fetch`.\n                _context.next = 12;\n                return Promise.allSettled(blockRequests);\n              case 12:\n                _context.next = 14;\n                return Promise.allSettled(missingRequests);\n              case 14:\n                // Perform retries if a block was interrupted by a previous signal\n                abortedBlockRequests = [];\n                abortedBlockIds = allBlockIds.filter(function (id) {\n                  return _this2.abortedBlockIds.has(id) || !_this2.blockCache.has(id);\n                });\n                abortedBlockIds.forEach(function (id) {\n                  return _this2.blockIdsToFetch.add(id);\n                });\n                // start the retry of some blocks if required\n                if (!(abortedBlockIds.length > 0 && signal && !signal.aborted)) {\n                  _context.next = 40;\n                  break;\n                }\n                this.fetchBlocks(null);\n                _iterator2 = _createForOfIteratorHelper(abortedBlockIds);\n                _context.prev = 20;\n                _iterator2.s();\n              case 22:\n                if ((_step2 = _iterator2.n()).done) {\n                  _context.next = 30;\n                  break;\n                }\n                _blockId = _step2.value;\n                block = this.blockRequests.get(_blockId);\n                if (block) {\n                  _context.next = 27;\n                  break;\n                }\n                throw new Error(\"Block \".concat(_blockId, \" is not in the block requests\"));\n              case 27:\n                abortedBlockRequests.push(block);\n              case 28:\n                _context.next = 22;\n                break;\n              case 30:\n                _context.next = 35;\n                break;\n              case 32:\n                _context.prev = 32;\n                _context.t0 = _context[\"catch\"](20);\n                _iterator2.e(_context.t0);\n              case 35:\n                _context.prev = 35;\n                _iterator2.f();\n                return _context.finish(35);\n              case 38:\n                _context.next = 40;\n                return Promise.allSettled(abortedBlockRequests);\n              case 40:\n                if (!(signal && signal.aborted)) {\n                  _context.next = 42;\n                  break;\n                }\n                throw new AbortError('Request was aborted');\n              case 42:\n                blocks = allBlockIds.map(function (id) {\n                  return _this2.blockCache.get(id);\n                });\n                failedBlocks = blocks.filter(function (i) {\n                  return !i;\n                });\n                if (!failedBlocks.length) {\n                  _context.next = 46;\n                  break;\n                }\n                throw new AggregateError(failedBlocks, 'Request failed');\n              case 46:\n                // create a final Map, with all required blocks for this request to satisfy\n                requiredBlocks = new Map(zip(allBlockIds, blocks)); // TODO: satisfy each slice\n                return _context.abrupt(\"return\", this.readSliceData(slices, requiredBlocks));\n              case 48:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this, [[20, 32, 35, 38]]);\n      }));\n      function fetch(_x, _x2) {\n        return _fetch.apply(this, arguments);\n      }\n      return fetch;\n    }() /**\n         *\n         * @param {AbortSignal} signal\n         */\n  }, {\n    key: \"fetchBlocks\",\n    value: function fetchBlocks(signal) {\n      var _this3 = this;\n      // check if we still need to\n      if (this.blockIdsToFetch.size > 0) {\n        (function () {\n          var groups = _this3.groupBlocks(_this3.blockIdsToFetch);\n\n          // start requesting slices of data\n          var groupRequests = _this3.source.fetch(groups, signal);\n          var _loop = function _loop(groupIndex) {\n            var group = groups[groupIndex];\n            var _iterator3 = _createForOfIteratorHelper(group.blockIds),\n              _step3;\n            try {\n              var _loop2 = function _loop2() {\n                var blockId = _step3.value;\n                // make an async IIFE for each block\n                _this3.blockRequests.set(blockId, _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n                  var response, blockOffset, o, t, data, block;\n                  return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n                    while (1) {\n                      switch (_context2.prev = _context2.next) {\n                        case 0:\n                          _context2.prev = 0;\n                          _context2.next = 3;\n                          return groupRequests;\n                        case 3:\n                          _context2.t0 = groupIndex;\n                          response = _context2.sent[_context2.t0];\n                          blockOffset = blockId * _this3.blockSize;\n                          o = blockOffset - response.offset;\n                          t = Math.min(o + _this3.blockSize, response.data.byteLength);\n                          data = response.data.slice(o, t);\n                          block = new Block(blockOffset, data.byteLength, data, blockId);\n                          _this3.blockCache.set(blockId, block);\n                          _this3.abortedBlockIds.delete(blockId);\n                          _context2.next = 23;\n                          break;\n                        case 14:\n                          _context2.prev = 14;\n                          _context2.t1 = _context2[\"catch\"](0);\n                          if (!(_context2.t1.name === 'AbortError')) {\n                            _context2.next = 22;\n                            break;\n                          }\n                          // store the signal here, we need it to determine later if an\n                          // error was caused by this signal\n                          _context2.t1.signal = signal;\n                          _this3.blockCache.delete(blockId);\n                          _this3.abortedBlockIds.add(blockId);\n                          _context2.next = 23;\n                          break;\n                        case 22:\n                          throw _context2.t1;\n                        case 23:\n                          _context2.prev = 23;\n                          _this3.blockRequests.delete(blockId);\n                          return _context2.finish(23);\n                        case 26:\n                        case \"end\":\n                          return _context2.stop();\n                      }\n                    }\n                  }, _callee2, null, [[0, 14, 23, 26]]);\n                }))());\n              };\n              for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n                _loop2();\n              }\n            } catch (err) {\n              _iterator3.e(err);\n            } finally {\n              _iterator3.f();\n            }\n          };\n          for (var groupIndex = 0; groupIndex < groups.length; ++groupIndex) {\n            _loop(groupIndex);\n          }\n          _this3.blockIdsToFetch.clear();\n        })();\n      }\n    }\n\n    /**\n     *\n     * @param {Set} blockIds\n     * @returns {BlockGroup[]}\n     */\n  }, {\n    key: \"groupBlocks\",\n    value: function groupBlocks(blockIds) {\n      var sortedBlockIds = Array.from(blockIds).sort(function (a, b) {\n        return a - b;\n      });\n      if (sortedBlockIds.length === 0) {\n        return [];\n      }\n      var current = [];\n      var lastBlockId = null;\n      var groups = [];\n      var _iterator4 = _createForOfIteratorHelper(sortedBlockIds),\n        _step4;\n      try {\n        for (_iterator4.s(); !(_step4 = _iterator4.n()).done;) {\n          var blockId = _step4.value;\n          if (lastBlockId === null || lastBlockId + 1 === blockId) {\n            current.push(blockId);\n            lastBlockId = blockId;\n          } else {\n            groups.push(new BlockGroup(current[0] * this.blockSize, current.length * this.blockSize, current));\n            current = [blockId];\n            lastBlockId = blockId;\n          }\n        }\n      } catch (err) {\n        _iterator4.e(err);\n      } finally {\n        _iterator4.f();\n      }\n      groups.push(new BlockGroup(current[0] * this.blockSize, current.length * this.blockSize, current));\n      return groups;\n    }\n\n    /**\n     *\n     * @param {Slice[]} slices\n     * @param {Map} blocks\n     */\n  }, {\n    key: \"readSliceData\",\n    value: function readSliceData(slices, blocks) {\n      var _this4 = this;\n      return slices.map(function (slice) {\n        var top = slice.offset + slice.length;\n        if (_this4.fileSize !== null) {\n          top = Math.min(_this4.fileSize, top);\n        }\n        var blockIdLow = Math.floor(slice.offset / _this4.blockSize);\n        var blockIdHigh = Math.floor(top / _this4.blockSize);\n        var sliceData = new ArrayBuffer(slice.length);\n        var sliceView = new Uint8Array(sliceData);\n        for (var blockId = blockIdLow; blockId <= blockIdHigh; ++blockId) {\n          var block = blocks.get(blockId);\n          var delta = block.offset - slice.offset;\n          var topDelta = block.top - top;\n          var blockInnerOffset = 0;\n          var rangeInnerOffset = 0;\n          var usedBlockLength = void 0;\n          if (delta < 0) {\n            blockInnerOffset = -delta;\n          } else if (delta > 0) {\n            rangeInnerOffset = delta;\n          }\n          if (topDelta < 0) {\n            usedBlockLength = block.length - blockInnerOffset;\n          } else {\n            usedBlockLength = top - block.offset - blockInnerOffset;\n          }\n          var blockView = new Uint8Array(block.data, blockInnerOffset, usedBlockLength);\n          sliceView.set(blockView, rangeInnerOffset);\n        }\n        return sliceData;\n      });\n    }\n  }]);\n  return BlockedSource;\n}(BaseSource);","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nexport var BaseResponse = /*#__PURE__*/function () {\n  function BaseResponse() {\n    _classCallCheck(this, BaseResponse);\n  }\n  _createClass(BaseResponse, [{\n    key: \"ok\",\n    get:\n    /**\n     * Returns whether the response has an ok'ish status code\n     */\n    function get() {\n      return this.status >= 200 && this.status <= 299;\n    }\n\n    /**\n     * Returns the status code of the response\n     */\n  }, {\n    key: \"status\",\n    get: function get() {\n      throw new Error('not implemented');\n    }\n\n    /**\n     * Returns the value of the specified header\n     * @param {string} headerName the header name\n     * @returns {string} the header value\n     */\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(headerName) {\n      // eslint-disable-line no-unused-vars\n      throw new Error('not implemented');\n    }\n\n    /**\n     * @returns {ArrayBuffer} the response data of the request\n     */\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                throw new Error('not implemented');\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n      return getData;\n    }()\n  }]);\n  return BaseResponse;\n}();\nexport var BaseClient = /*#__PURE__*/function () {\n  function BaseClient(url) {\n    _classCallCheck(this, BaseClient);\n    this.url = url;\n  }\n\n  /**\n   * Send a request with the options\n   * @param {object} [options]\n   */\n  _createClass(BaseClient, [{\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _ref,\n          headers,\n          credentials,\n          signal,\n          _args2 = arguments;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, credentials = _ref.credentials, signal = _ref.signal;\n                throw new Error('request is not implemented');\n              case 2:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2);\n      }));\n      function request() {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }]);\n  return BaseClient;\n}();","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { BaseClient, BaseResponse } from './base.js';\nvar FetchResponse = /*#__PURE__*/function (_BaseResponse) {\n  _inherits(FetchResponse, _BaseResponse);\n  var _super = _createSuper(FetchResponse);\n  /**\n   * BaseResponse facade for fetch API Response\n   * @param {Response} response\n   */\n  function FetchResponse(response) {\n    var _this;\n    _classCallCheck(this, FetchResponse);\n    _this = _super.call(this);\n    _this.response = response;\n    return _this;\n  }\n  _createClass(FetchResponse, [{\n    key: \"status\",\n    get: function get() {\n      return this.response.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.response.headers.get(name);\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this.response.arrayBuffer) {\n                  _context.next = 6;\n                  break;\n                }\n                _context.next = 3;\n                return this.response.arrayBuffer();\n              case 3:\n                _context.t0 = _context.sent;\n                _context.next = 9;\n                break;\n              case 6:\n                _context.next = 8;\n                return this.response.buffer();\n              case 8:\n                _context.t0 = _context.sent.buffer;\n              case 9:\n                data = _context.t0;\n                return _context.abrupt(\"return\", data);\n              case 11:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n      return getData;\n    }()\n  }]);\n  return FetchResponse;\n}(BaseResponse);\nexport var FetchClient = /*#__PURE__*/function (_BaseClient) {\n  _inherits(FetchClient, _BaseClient);\n  var _super2 = _createSuper(FetchClient);\n  function FetchClient(url, credentials) {\n    var _this2;\n    _classCallCheck(this, FetchClient);\n    _this2 = _super2.call(this, url);\n    _this2.credentials = credentials;\n    return _this2;\n  }\n  _createClass(FetchClient, [{\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _ref,\n          headers,\n          credentials,\n          signal,\n          response,\n          _args2 = arguments;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, credentials = _ref.credentials, signal = _ref.signal;\n                _context2.next = 3;\n                return fetch(this.url, {\n                  headers: headers,\n                  credentials: credentials,\n                  signal: signal\n                });\n              case 3:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", new FetchResponse(response));\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function request() {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }]);\n  return FetchClient;\n}(BaseClient);","import _slicedToArray from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { BaseClient, BaseResponse } from './base.js';\nimport { AbortError } from '../../utils.js';\nvar XHRResponse = /*#__PURE__*/function (_BaseResponse) {\n  _inherits(XHRResponse, _BaseResponse);\n  var _super = _createSuper(XHRResponse);\n  /**\n   * BaseResponse facade for XMLHttpRequest\n   * @param {XMLHttpRequest} xhr\n   * @param {ArrayBuffer} data\n   */\n  function XHRResponse(xhr, data) {\n    var _this;\n    _classCallCheck(this, XHRResponse);\n    _this = _super.call(this);\n    _this.xhr = xhr;\n    _this.data = data;\n    return _this;\n  }\n  _createClass(XHRResponse, [{\n    key: \"status\",\n    get: function get() {\n      return this.xhr.status;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.xhr.getResponseHeader(name);\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", this.data);\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n      return getData;\n    }()\n  }]);\n  return XHRResponse;\n}(BaseResponse);\nexport var XHRClient = /*#__PURE__*/function (_BaseClient) {\n  _inherits(XHRClient, _BaseClient);\n  var _super2 = _createSuper(XHRClient);\n  function XHRClient() {\n    _classCallCheck(this, XHRClient);\n    return _super2.apply(this, arguments);\n  }\n  _createClass(XHRClient, [{\n    key: \"constructRequest\",\n    value: function constructRequest(headers, signal) {\n      var _this2 = this;\n      return new Promise(function (resolve, reject) {\n        var xhr = new XMLHttpRequest();\n        xhr.open('GET', _this2.url);\n        xhr.responseType = 'arraybuffer';\n        for (var _i = 0, _Object$entries = Object.entries(headers); _i < _Object$entries.length; _i++) {\n          var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n            key = _Object$entries$_i[0],\n            value = _Object$entries$_i[1];\n          xhr.setRequestHeader(key, value);\n        }\n\n        // hook signals\n        xhr.onload = function () {\n          var data = xhr.response;\n          resolve(new XHRResponse(xhr, data));\n        };\n        xhr.onerror = reject;\n        xhr.onabort = function () {\n          return reject(new AbortError('Request aborted'));\n        };\n        xhr.send();\n        if (signal) {\n          if (signal.aborted) {\n            xhr.abort();\n          }\n          signal.addEventListener('abort', function () {\n            return xhr.abort();\n          });\n        }\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _ref,\n          headers,\n          signal,\n          response,\n          _args2 = arguments;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, signal = _ref.signal;\n                _context2.next = 3;\n                return this.constructRequest(headers, signal);\n              case 3:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response);\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function request() {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }]);\n  return XHRClient;\n}(BaseClient);","import _defineProperty from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport http from 'http';\nimport https from 'https';\nimport urlMod from 'url';\nimport { BaseClient, BaseResponse } from './base.js';\nimport { AbortError } from '../../utils.js';\nvar HttpResponse = /*#__PURE__*/function (_BaseResponse) {\n  _inherits(HttpResponse, _BaseResponse);\n  var _super = _createSuper(HttpResponse);\n  /**\n   * BaseResponse facade for node HTTP/HTTPS API Response\n   * @param {http.ServerResponse} response\n   */\n  function HttpResponse(response, dataPromise) {\n    var _this;\n    _classCallCheck(this, HttpResponse);\n    _this = _super.call(this);\n    _this.response = response;\n    _this.dataPromise = dataPromise;\n    return _this;\n  }\n  _createClass(HttpResponse, [{\n    key: \"status\",\n    get: function get() {\n      return this.response.statusCode;\n    }\n  }, {\n    key: \"getHeader\",\n    value: function getHeader(name) {\n      return this.response.headers[name];\n    }\n  }, {\n    key: \"getData\",\n    value: function () {\n      var _getData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var data;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return this.dataPromise;\n              case 2:\n                data = _context.sent;\n                return _context.abrupt(\"return\", data);\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function getData() {\n        return _getData.apply(this, arguments);\n      }\n      return getData;\n    }()\n  }]);\n  return HttpResponse;\n}(BaseResponse);\nexport var HttpClient = /*#__PURE__*/function (_BaseClient) {\n  _inherits(HttpClient, _BaseClient);\n  var _super2 = _createSuper(HttpClient);\n  function HttpClient(url) {\n    var _this2;\n    _classCallCheck(this, HttpClient);\n    _this2 = _super2.call(this, url);\n    _this2.parsedUrl = urlMod.parse(_this2.url);\n    _this2.httpApi = _this2.parsedUrl.protocol === 'http:' ? http : https;\n    return _this2;\n  }\n  _createClass(HttpClient, [{\n    key: \"constructRequest\",\n    value: function constructRequest(headers, signal) {\n      var _this3 = this;\n      return new Promise(function (resolve, reject) {\n        var request = _this3.httpApi.get(_objectSpread(_objectSpread({}, _this3.parsedUrl), {}, {\n          headers: headers\n        }), function (response) {\n          var dataPromise = new Promise(function (resolveData) {\n            var chunks = [];\n\n            // collect chunks\n            response.on('data', function (chunk) {\n              chunks.push(chunk);\n            });\n\n            // concatenate all chunks and resolve the promise with the resulting buffer\n            response.on('end', function () {\n              var data = Buffer.concat(chunks).buffer;\n              resolveData(data);\n            });\n            response.on('error', reject);\n          });\n          resolve(new HttpResponse(response, dataPromise));\n        });\n        request.on('error', reject);\n        if (signal) {\n          if (signal.aborted) {\n            request.destroy(new AbortError('Request aborted'));\n          }\n          signal.addEventListener('abort', function () {\n            return request.destroy(new AbortError('Request aborted'));\n          });\n        }\n      });\n    }\n  }, {\n    key: \"request\",\n    value: function () {\n      var _request = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2() {\n        var _ref,\n          headers,\n          signal,\n          response,\n          _args2 = arguments;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _ref = _args2.length > 0 && _args2[0] !== undefined ? _args2[0] : {}, headers = _ref.headers, signal = _ref.signal;\n                _context2.next = 3;\n                return this.constructRequest(headers, signal);\n              case 3:\n                response = _context2.sent;\n                return _context2.abrupt(\"return\", response);\n              case 5:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function request() {\n        return _request.apply(this, arguments);\n      }\n      return request;\n    }()\n  }]);\n  return HttpClient;\n}(BaseClient);","import _objectWithoutProperties from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js\";\nimport _defineProperty from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nvar _excluded = [\"headers\", \"credentials\", \"maxRanges\", \"allowFullFile\"],\n  _excluded2 = [\"headers\", \"maxRanges\", \"allowFullFile\"],\n  _excluded3 = [\"headers\", \"maxRanges\", \"allowFullFile\"],\n  _excluded4 = [\"forceXHR\"];\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { parseByteRanges, parseContentRange, parseContentType } from './httputils.js';\nimport { BaseSource } from './basesource.js';\nimport { BlockedSource } from './blockedsource.js';\nimport { FetchClient } from './client/fetch.js';\nimport { XHRClient } from './client/xhr.js';\nimport { HttpClient } from './client/http.js';\nvar RemoteSource = /*#__PURE__*/function (_BaseSource) {\n  _inherits(RemoteSource, _BaseSource);\n  var _super = _createSuper(RemoteSource);\n  /**\n   *\n   * @param {BaseClient} client\n   * @param {object} headers\n   * @param {numbers} maxRanges\n   * @param {boolean} allowFullFile\n   */\n  function RemoteSource(client, headers, maxRanges, allowFullFile) {\n    var _this;\n    _classCallCheck(this, RemoteSource);\n    _this = _super.call(this);\n    _this.client = client;\n    _this.headers = headers;\n    _this.maxRanges = maxRanges;\n    _this.allowFullFile = allowFullFile;\n    _this._fileSize = null;\n    return _this;\n  }\n\n  /**\n   *\n   * @param {Slice[]} slices\n   */\n  _createClass(RemoteSource, [{\n    key: \"fetch\",\n    value: function () {\n      var _fetch = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(slices, signal) {\n        var _this2 = this;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!(this.maxRanges >= slices.length)) {\n                  _context.next = 4;\n                  break;\n                }\n                return _context.abrupt(\"return\", this.fetchSlices(slices, signal));\n              case 4:\n                if (this.maxRanges > 0 && slices.length > 1) {\n                  // TODO: split into multiple multi-range requests\n\n                  // const subSlicesRequests = [];\n                  // for (let i = 0; i < slices.length; i += this.maxRanges) {\n                  //   subSlicesRequests.push(\n                  //     this.fetchSlices(slices.slice(i, i + this.maxRanges), signal),\n                  //   );\n                  // }\n                  // return (await Promise.all(subSlicesRequests)).flat();\n                }\n              case 5:\n                return _context.abrupt(\"return\", Promise.all(slices.map(function (slice) {\n                  return _this2.fetchSlice(slice, signal);\n                })));\n              case 6:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function fetch(_x, _x2) {\n        return _fetch.apply(this, arguments);\n      }\n      return fetch;\n    }()\n  }, {\n    key: \"fetchSlices\",\n    value: function () {\n      var _fetchSlices = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(slices, signal) {\n        var _this3 = this;\n        var response, _parseContentType, type, params, byteRanges, data, _parseContentRange, start, end, total, first, others, _data;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                _context2.next = 2;\n                return this.client.request({\n                  headers: _objectSpread(_objectSpread({}, this.headers), {}, {\n                    Range: \"bytes=\".concat(slices.map(function (_ref) {\n                      var offset = _ref.offset,\n                        length = _ref.length;\n                      return \"\".concat(offset, \"-\").concat(offset + length);\n                    }).join(','))\n                  }),\n                  signal: signal\n                });\n              case 2:\n                response = _context2.sent;\n                if (response.ok) {\n                  _context2.next = 7;\n                  break;\n                }\n                throw new Error('Error fetching data.');\n              case 7:\n                if (!(response.status === 206)) {\n                  _context2.next = 32;\n                  break;\n                }\n                _parseContentType = parseContentType(response.getHeader('content-type')), type = _parseContentType.type, params = _parseContentType.params;\n                if (!(type === 'multipart/byteranges')) {\n                  _context2.next = 18;\n                  break;\n                }\n                _context2.t0 = parseByteRanges;\n                _context2.next = 13;\n                return response.getData();\n              case 13:\n                _context2.t1 = _context2.sent;\n                _context2.t2 = params.boundary;\n                byteRanges = (0, _context2.t0)(_context2.t1, _context2.t2);\n                this._fileSize = byteRanges[0].fileSize || null;\n                return _context2.abrupt(\"return\", byteRanges);\n              case 18:\n                _context2.next = 20;\n                return response.getData();\n              case 20:\n                data = _context2.sent;\n                _parseContentRange = parseContentRange(response.getHeader('content-range')), start = _parseContentRange.start, end = _parseContentRange.end, total = _parseContentRange.total;\n                this._fileSize = total || null;\n                first = [{\n                  data: data,\n                  offset: start,\n                  length: end - start\n                }];\n                if (!(slices.length > 1)) {\n                  _context2.next = 29;\n                  break;\n                }\n                _context2.next = 27;\n                return Promise.all(slices.slice(1).map(function (slice) {\n                  return _this3.fetchSlice(slice, signal);\n                }));\n              case 27:\n                others = _context2.sent;\n                return _context2.abrupt(\"return\", first.concat(others));\n              case 29:\n                return _context2.abrupt(\"return\", first);\n              case 32:\n                if (this.allowFullFile) {\n                  _context2.next = 34;\n                  break;\n                }\n                throw new Error('Server responded with full file');\n              case 34:\n                _context2.next = 36;\n                return response.getData();\n              case 36:\n                _data = _context2.sent;\n                this._fileSize = _data.byteLength;\n                return _context2.abrupt(\"return\", [{\n                  data: _data,\n                  offset: 0,\n                  length: _data.byteLength\n                }]);\n              case 39:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function fetchSlices(_x3, _x4) {\n        return _fetchSlices.apply(this, arguments);\n      }\n      return fetchSlices;\n    }()\n  }, {\n    key: \"fetchSlice\",\n    value: function () {\n      var _fetchSlice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(slice, signal) {\n        var offset, length, response, data, _parseContentRange2, total, _data2;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                offset = slice.offset, length = slice.length;\n                _context3.next = 3;\n                return this.client.request({\n                  headers: _objectSpread(_objectSpread({}, this.headers), {}, {\n                    Range: \"bytes=\".concat(offset, \"-\").concat(offset + length)\n                  }),\n                  signal: signal\n                });\n              case 3:\n                response = _context3.sent;\n                if (response.ok) {\n                  _context3.next = 8;\n                  break;\n                }\n                throw new Error('Error fetching data.');\n              case 8:\n                if (!(response.status === 206)) {\n                  _context3.next = 17;\n                  break;\n                }\n                _context3.next = 11;\n                return response.getData();\n              case 11:\n                data = _context3.sent;\n                _parseContentRange2 = parseContentRange(response.getHeader('content-range')), total = _parseContentRange2.total;\n                this._fileSize = total || null;\n                return _context3.abrupt(\"return\", {\n                  data: data,\n                  offset: offset,\n                  length: length\n                });\n              case 17:\n                if (this.allowFullFile) {\n                  _context3.next = 19;\n                  break;\n                }\n                throw new Error('Server responded with full file');\n              case 19:\n                _context3.next = 21;\n                return response.getData();\n              case 21:\n                _data2 = _context3.sent;\n                this._fileSize = _data2.byteLength;\n                return _context3.abrupt(\"return\", {\n                  data: _data2,\n                  offset: 0,\n                  length: _data2.byteLength\n                });\n              case 24:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function fetchSlice(_x5, _x6) {\n        return _fetchSlice.apply(this, arguments);\n      }\n      return fetchSlice;\n    }()\n  }, {\n    key: \"fileSize\",\n    get: function get() {\n      return this._fileSize;\n    }\n  }]);\n  return RemoteSource;\n}(BaseSource);\nfunction maybeWrapInBlockedSource(source, _ref2) {\n  var blockSize = _ref2.blockSize,\n    cacheSize = _ref2.cacheSize;\n  if (blockSize === null) {\n    return source;\n  }\n  return new BlockedSource(source, {\n    blockSize: blockSize,\n    cacheSize: cacheSize\n  });\n}\nexport function makeFetchSource(url) {\n  var _ref3 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref3$headers = _ref3.headers,\n    headers = _ref3$headers === void 0 ? {} : _ref3$headers,\n    credentials = _ref3.credentials,\n    _ref3$maxRanges = _ref3.maxRanges,\n    maxRanges = _ref3$maxRanges === void 0 ? 0 : _ref3$maxRanges,\n    _ref3$allowFullFile = _ref3.allowFullFile,\n    allowFullFile = _ref3$allowFullFile === void 0 ? false : _ref3$allowFullFile,\n    blockOptions = _objectWithoutProperties(_ref3, _excluded);\n  var client = new FetchClient(url, credentials);\n  var source = new RemoteSource(client, headers, maxRanges, allowFullFile);\n  return maybeWrapInBlockedSource(source, blockOptions);\n}\nexport function makeXHRSource(url) {\n  var _ref4 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref4$headers = _ref4.headers,\n    headers = _ref4$headers === void 0 ? {} : _ref4$headers,\n    _ref4$maxRanges = _ref4.maxRanges,\n    maxRanges = _ref4$maxRanges === void 0 ? 0 : _ref4$maxRanges,\n    _ref4$allowFullFile = _ref4.allowFullFile,\n    allowFullFile = _ref4$allowFullFile === void 0 ? false : _ref4$allowFullFile,\n    blockOptions = _objectWithoutProperties(_ref4, _excluded2);\n  var client = new XHRClient(url);\n  var source = new RemoteSource(client, headers, maxRanges, allowFullFile);\n  return maybeWrapInBlockedSource(source, blockOptions);\n}\nexport function makeHttpSource(url) {\n  var _ref5 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref5$headers = _ref5.headers,\n    headers = _ref5$headers === void 0 ? {} : _ref5$headers,\n    _ref5$maxRanges = _ref5.maxRanges,\n    maxRanges = _ref5$maxRanges === void 0 ? 0 : _ref5$maxRanges,\n    _ref5$allowFullFile = _ref5.allowFullFile,\n    allowFullFile = _ref5$allowFullFile === void 0 ? false : _ref5$allowFullFile,\n    blockOptions = _objectWithoutProperties(_ref5, _excluded3);\n  var client = new HttpClient(url);\n  var source = new RemoteSource(client, headers, maxRanges, allowFullFile);\n  return maybeWrapInBlockedSource(source, blockOptions);\n}\n\n/**\n *\n * @param {string} url\n * @param {object} options\n */\nexport function makeRemoteSource(url) {\n  var _ref6 = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},\n    _ref6$forceXHR = _ref6.forceXHR,\n    forceXHR = _ref6$forceXHR === void 0 ? false : _ref6$forceXHR,\n    clientOptions = _objectWithoutProperties(_ref6, _excluded4);\n  if (typeof fetch === 'function' && !forceXHR) {\n    return makeFetchSource(url, clientOptions);\n  }\n  if (typeof XMLHttpRequest !== 'undefined') {\n    return makeXHRSource(url, clientOptions);\n  }\n  return makeHttpSource(url, clientOptions);\n}","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport { BaseSource } from './basesource.js';\nvar FileReaderSource = /*#__PURE__*/function (_BaseSource) {\n  _inherits(FileReaderSource, _BaseSource);\n  var _super = _createSuper(FileReaderSource);\n  function FileReaderSource(file) {\n    var _this;\n    _classCallCheck(this, FileReaderSource);\n    _this = _super.call(this);\n    _this.file = file;\n    return _this;\n  }\n  _createClass(FileReaderSource, [{\n    key: \"fetchSlice\",\n    value: function () {\n      var _fetchSlice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(slice, signal) {\n        var _this2 = this;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                return _context.abrupt(\"return\", new Promise(function (resolve, reject) {\n                  var blob = _this2.file.slice(slice.offset, slice.offset + slice.length);\n                  var reader = new FileReader();\n                  reader.onload = function (event) {\n                    return resolve(event.target.result);\n                  };\n                  reader.onerror = reject;\n                  reader.onabort = reject;\n                  reader.readAsArrayBuffer(blob);\n                  if (signal) {\n                    signal.addEventListener('abort', function () {\n                      return reader.abort();\n                    });\n                  }\n                }));\n              case 1:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee);\n      }));\n      function fetchSlice(_x, _x2) {\n        return _fetchSlice.apply(this, arguments);\n      }\n      return fetchSlice;\n    }()\n  }]);\n  return FileReaderSource;\n}(BaseSource); /**\n                * Create a new source from a given file/blob.\n                * @param {Blob} file The file or blob to read from.\n                * @returns The constructed source\n                */\nexport function makeFileReaderSource(file) {\n  return new FileReaderSource(file);\n}","import _defineProperty from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/defineProperty.js\";\nimport _slicedToArray from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\nimport _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nimport _wrapNativeSuper from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/wrapNativeSuper.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nfunction ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); enumerableOnly && (symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; })), keys.push.apply(keys, symbols); } return keys; }\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = null != arguments[i] ? arguments[i] : {}; i % 2 ? ownKeys(Object(source), !0).forEach(function (key) { _defineProperty(target, key, source[key]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } return target; }\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n/** @module geotiff */\nimport GeoTIFFImage from './geotiffimage.js';\nimport DataView64 from './dataview64.js';\nimport DataSlice from './dataslice.js';\nimport Pool from './pool.js';\nimport { makeRemoteSource } from './source/remote.js';\nimport { makeBufferSource } from './source/arraybuffer.js';\nimport { makeFileReaderSource } from './source/filereader.js';\nimport { makeFileSource } from './source/file.js';\nimport { fieldTypes, fieldTagNames, arrayFields, geoKeyNames } from './globals.js';\nimport { writeGeotiff } from './geotiffwriter.js';\nimport * as globals from './globals.js';\nimport * as rgb from './rgb.js';\nimport { getDecoder, addDecoder } from './compression/index.js';\nimport { setLogger } from './logging.js';\nexport { globals };\nexport { rgb };\nexport { default as BaseDecoder } from './compression/basedecoder.js';\nexport { getDecoder, addDecoder };\nexport { setLogger };\n\n/**\n * @typedef {Uint8Array | Int8Array | Uint16Array | Int16Array | Uint32Array | Int32Array | Float32Array | Float64Array}\n * TypedArray\n */\n\nfunction getFieldTypeLength(fieldType) {\n  switch (fieldType) {\n    case fieldTypes.BYTE:\n    case fieldTypes.ASCII:\n    case fieldTypes.SBYTE:\n    case fieldTypes.UNDEFINED:\n      return 1;\n    case fieldTypes.SHORT:\n    case fieldTypes.SSHORT:\n      return 2;\n    case fieldTypes.LONG:\n    case fieldTypes.SLONG:\n    case fieldTypes.FLOAT:\n    case fieldTypes.IFD:\n      return 4;\n    case fieldTypes.RATIONAL:\n    case fieldTypes.SRATIONAL:\n    case fieldTypes.DOUBLE:\n    case fieldTypes.LONG8:\n    case fieldTypes.SLONG8:\n    case fieldTypes.IFD8:\n      return 8;\n    default:\n      throw new RangeError(\"Invalid field type: \".concat(fieldType));\n  }\n}\nfunction parseGeoKeyDirectory(fileDirectory) {\n  var rawGeoKeyDirectory = fileDirectory.GeoKeyDirectory;\n  if (!rawGeoKeyDirectory) {\n    return null;\n  }\n  var geoKeyDirectory = {};\n  for (var i = 4; i <= rawGeoKeyDirectory[3] * 4; i += 4) {\n    var key = geoKeyNames[rawGeoKeyDirectory[i]];\n    var location = rawGeoKeyDirectory[i + 1] ? fieldTagNames[rawGeoKeyDirectory[i + 1]] : null;\n    var count = rawGeoKeyDirectory[i + 2];\n    var offset = rawGeoKeyDirectory[i + 3];\n    var value = null;\n    if (!location) {\n      value = offset;\n    } else {\n      value = fileDirectory[location];\n      if (typeof value === 'undefined' || value === null) {\n        throw new Error(\"Could not get value of geoKey '\".concat(key, \"'.\"));\n      } else if (typeof value === 'string') {\n        value = value.substring(offset, offset + count - 1);\n      } else if (value.subarray) {\n        value = value.subarray(offset, offset + count);\n        if (count === 1) {\n          value = value[0];\n        }\n      }\n    }\n    geoKeyDirectory[key] = value;\n  }\n  return geoKeyDirectory;\n}\nfunction getValues(dataSlice, fieldType, count, offset) {\n  var values = null;\n  var readMethod = null;\n  var fieldTypeLength = getFieldTypeLength(fieldType);\n  switch (fieldType) {\n    case fieldTypes.BYTE:\n    case fieldTypes.ASCII:\n    case fieldTypes.UNDEFINED:\n      values = new Uint8Array(count);\n      readMethod = dataSlice.readUint8;\n      break;\n    case fieldTypes.SBYTE:\n      values = new Int8Array(count);\n      readMethod = dataSlice.readInt8;\n      break;\n    case fieldTypes.SHORT:\n      values = new Uint16Array(count);\n      readMethod = dataSlice.readUint16;\n      break;\n    case fieldTypes.SSHORT:\n      values = new Int16Array(count);\n      readMethod = dataSlice.readInt16;\n      break;\n    case fieldTypes.LONG:\n    case fieldTypes.IFD:\n      values = new Uint32Array(count);\n      readMethod = dataSlice.readUint32;\n      break;\n    case fieldTypes.SLONG:\n      values = new Int32Array(count);\n      readMethod = dataSlice.readInt32;\n      break;\n    case fieldTypes.LONG8:\n    case fieldTypes.IFD8:\n      values = new Array(count);\n      readMethod = dataSlice.readUint64;\n      break;\n    case fieldTypes.SLONG8:\n      values = new Array(count);\n      readMethod = dataSlice.readInt64;\n      break;\n    case fieldTypes.RATIONAL:\n      values = new Uint32Array(count * 2);\n      readMethod = dataSlice.readUint32;\n      break;\n    case fieldTypes.SRATIONAL:\n      values = new Int32Array(count * 2);\n      readMethod = dataSlice.readInt32;\n      break;\n    case fieldTypes.FLOAT:\n      values = new Float32Array(count);\n      readMethod = dataSlice.readFloat32;\n      break;\n    case fieldTypes.DOUBLE:\n      values = new Float64Array(count);\n      readMethod = dataSlice.readFloat64;\n      break;\n    default:\n      throw new RangeError(\"Invalid field type: \".concat(fieldType));\n  }\n\n  // normal fields\n  if (!(fieldType === fieldTypes.RATIONAL || fieldType === fieldTypes.SRATIONAL)) {\n    for (var i = 0; i < count; ++i) {\n      values[i] = readMethod.call(dataSlice, offset + i * fieldTypeLength);\n    }\n  } else {\n    // RATIONAL or SRATIONAL\n    for (var _i = 0; _i < count; _i += 2) {\n      values[_i] = readMethod.call(dataSlice, offset + _i * fieldTypeLength);\n      values[_i + 1] = readMethod.call(dataSlice, offset + (_i * fieldTypeLength + 4));\n    }\n  }\n  if (fieldType === fieldTypes.ASCII) {\n    return new TextDecoder('utf-8').decode(values);\n  }\n  return values;\n}\n\n/**\n * Data class to store the parsed file directory, geo key directory and\n * offset to the next IFD\n */\nvar ImageFileDirectory = /*#__PURE__*/_createClass(function ImageFileDirectory(fileDirectory, geoKeyDirectory, nextIFDByteOffset) {\n  _classCallCheck(this, ImageFileDirectory);\n  this.fileDirectory = fileDirectory;\n  this.geoKeyDirectory = geoKeyDirectory;\n  this.nextIFDByteOffset = nextIFDByteOffset;\n}); /**\n     * Error class for cases when an IFD index was requested, that does not exist\n     * in the file.\n     */\nvar GeoTIFFImageIndexError = /*#__PURE__*/function (_Error) {\n  _inherits(GeoTIFFImageIndexError, _Error);\n  var _super = _createSuper(GeoTIFFImageIndexError);\n  function GeoTIFFImageIndexError(index) {\n    var _this;\n    _classCallCheck(this, GeoTIFFImageIndexError);\n    _this = _super.call(this, \"No image at index \".concat(index));\n    _this.index = index;\n    return _this;\n  }\n  return _createClass(GeoTIFFImageIndexError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\nvar GeoTIFFBase = /*#__PURE__*/function () {\n  function GeoTIFFBase() {\n    _classCallCheck(this, GeoTIFFBase);\n  }\n  _createClass(GeoTIFFBase, [{\n    key: \"readRasters\",\n    value: /**\n            * (experimental) Reads raster data from the best fitting image. This function uses\n            * the image with the lowest resolution that is still a higher resolution than the\n            * requested resolution.\n            * When specified, the `bbox` option is translated to the `window` option and the\n            * `resX` and `resY` to `width` and `height` respectively.\n            * Then, the [readRasters]{@link GeoTIFFImage#readRasters} method of the selected\n            * image is called and the result returned.\n            * @see GeoTIFFImage.readRasters\n            * @param {import('./geotiffimage').ReadRasterOptions} [options={}] optional parameters\n            * @returns {Promise<(TypedArray|TypedArray[])>} the decoded arrays as a promise\n            */function () {\n      var _readRasters = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee() {\n        var options,\n          imageWindow,\n          width,\n          height,\n          resX,\n          resY,\n          bbox,\n          firstImage,\n          usedImage,\n          imageCount,\n          imgBBox,\n          _firstImage$getOrigin,\n          _firstImage$getOrigin2,\n          oX,\n          oY,\n          _firstImage$getResolu,\n          _firstImage$getResolu2,\n          rX,\n          rY,\n          usedBBox,\n          allImages,\n          i,\n          image,\n          _image$fileDirectory,\n          subfileType,\n          newSubfileType,\n          _i2,\n          _image,\n          imgResX,\n          imgResY,\n          wnd,\n          _firstImage$getOrigin3,\n          _firstImage$getOrigin4,\n          _oX,\n          _oY,\n          _usedImage$getResolut,\n          _usedImage$getResolut2,\n          imageResX,\n          imageResY,\n          _args = arguments;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                options = _args.length > 0 && _args[0] !== undefined ? _args[0] : {};\n                imageWindow = options.window, width = options.width, height = options.height;\n                resX = options.resX, resY = options.resY, bbox = options.bbox;\n                _context.next = 5;\n                return this.getImage();\n              case 5:\n                firstImage = _context.sent;\n                usedImage = firstImage;\n                _context.next = 9;\n                return this.getImageCount();\n              case 9:\n                imageCount = _context.sent;\n                imgBBox = firstImage.getBoundingBox();\n                if (!(imageWindow && bbox)) {\n                  _context.next = 13;\n                  break;\n                }\n                throw new Error('Both \"bbox\" and \"window\" passed.');\n              case 13:\n                if (!(width || height)) {\n                  _context.next = 24;\n                  break;\n                }\n                // if we have an image window (pixel coordinates), transform it to a BBox\n                // using the origin/resolution of the first image.\n                if (imageWindow) {\n                  _firstImage$getOrigin = firstImage.getOrigin(), _firstImage$getOrigin2 = _slicedToArray(_firstImage$getOrigin, 2), oX = _firstImage$getOrigin2[0], oY = _firstImage$getOrigin2[1];\n                  _firstImage$getResolu = firstImage.getResolution(), _firstImage$getResolu2 = _slicedToArray(_firstImage$getResolu, 2), rX = _firstImage$getResolu2[0], rY = _firstImage$getResolu2[1];\n                  bbox = [oX + imageWindow[0] * rX, oY + imageWindow[1] * rY, oX + imageWindow[2] * rX, oY + imageWindow[3] * rY];\n                }\n\n                // if we have a bbox (or calculated one)\n                usedBBox = bbox || imgBBox;\n                if (!width) {\n                  _context.next = 20;\n                  break;\n                }\n                if (!resX) {\n                  _context.next = 19;\n                  break;\n                }\n                throw new Error('Both width and resX passed');\n              case 19:\n                resX = (usedBBox[2] - usedBBox[0]) / width;\n              case 20:\n                if (!height) {\n                  _context.next = 24;\n                  break;\n                }\n                if (!resY) {\n                  _context.next = 23;\n                  break;\n                }\n                throw new Error('Both width and resY passed');\n              case 23:\n                resY = (usedBBox[3] - usedBBox[1]) / height;\n              case 24:\n                if (!(resX || resY)) {\n                  _context.next = 48;\n                  break;\n                }\n                allImages = [];\n                i = 0;\n              case 27:\n                if (!(i < imageCount)) {\n                  _context.next = 36;\n                  break;\n                }\n                _context.next = 30;\n                return this.getImage(i);\n              case 30:\n                image = _context.sent;\n                _image$fileDirectory = image.fileDirectory, subfileType = _image$fileDirectory.SubfileType, newSubfileType = _image$fileDirectory.NewSubfileType;\n                if (i === 0 || subfileType === 2 || newSubfileType & 1) {\n                  allImages.push(image);\n                }\n              case 33:\n                ++i;\n                _context.next = 27;\n                break;\n              case 36:\n                allImages.sort(function (a, b) {\n                  return a.getWidth() - b.getWidth();\n                });\n                _i2 = 0;\n              case 38:\n                if (!(_i2 < allImages.length)) {\n                  _context.next = 48;\n                  break;\n                }\n                _image = allImages[_i2];\n                imgResX = (imgBBox[2] - imgBBox[0]) / _image.getWidth();\n                imgResY = (imgBBox[3] - imgBBox[1]) / _image.getHeight();\n                usedImage = _image;\n                if (!(resX && resX > imgResX || resY && resY > imgResY)) {\n                  _context.next = 45;\n                  break;\n                }\n                return _context.abrupt(\"break\", 48);\n              case 45:\n                ++_i2;\n                _context.next = 38;\n                break;\n              case 48:\n                wnd = imageWindow;\n                if (bbox) {\n                  _firstImage$getOrigin3 = firstImage.getOrigin(), _firstImage$getOrigin4 = _slicedToArray(_firstImage$getOrigin3, 2), _oX = _firstImage$getOrigin4[0], _oY = _firstImage$getOrigin4[1];\n                  _usedImage$getResolut = usedImage.getResolution(firstImage), _usedImage$getResolut2 = _slicedToArray(_usedImage$getResolut, 2), imageResX = _usedImage$getResolut2[0], imageResY = _usedImage$getResolut2[1];\n                  wnd = [Math.round((bbox[0] - _oX) / imageResX), Math.round((bbox[1] - _oY) / imageResY), Math.round((bbox[2] - _oX) / imageResX), Math.round((bbox[3] - _oY) / imageResY)];\n                  wnd = [Math.min(wnd[0], wnd[2]), Math.min(wnd[1], wnd[3]), Math.max(wnd[0], wnd[2]), Math.max(wnd[1], wnd[3])];\n                }\n                return _context.abrupt(\"return\", usedImage.readRasters(_objectSpread(_objectSpread({}, options), {}, {\n                  window: wnd\n                })));\n              case 51:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function readRasters() {\n        return _readRasters.apply(this, arguments);\n      }\n      return readRasters;\n    }()\n  }]);\n  return GeoTIFFBase;\n}();\n/**\n * @typedef {Object} GeoTIFFOptions\n * @property {boolean} [cache=false] whether or not decoded tiles shall be cached.\n */\n/**\n * The abstraction for a whole GeoTIFF file.\n * @augments GeoTIFFBase\n */\nvar GeoTIFF = /*#__PURE__*/function (_GeoTIFFBase) {\n  _inherits(GeoTIFF, _GeoTIFFBase);\n  var _super2 = _createSuper(GeoTIFF);\n  /**\n   * @constructor\n   * @param {*} source The datasource to read from.\n   * @param {boolean} littleEndian Whether the image uses little endian.\n   * @param {boolean} bigTiff Whether the image uses bigTIFF conventions.\n   * @param {number} firstIFDOffset The numeric byte-offset from the start of the image\n   *                                to the first IFD.\n   * @param {GeoTIFFOptions} [options] further options.\n   */\n  function GeoTIFF(source, littleEndian, bigTiff, firstIFDOffset) {\n    var _this2;\n    var options = arguments.length > 4 && arguments[4] !== undefined ? arguments[4] : {};\n    _classCallCheck(this, GeoTIFF);\n    _this2 = _super2.call(this);\n    _this2.source = source;\n    _this2.littleEndian = littleEndian;\n    _this2.bigTiff = bigTiff;\n    _this2.firstIFDOffset = firstIFDOffset;\n    _this2.cache = options.cache || false;\n    _this2.ifdRequests = [];\n    _this2.ghostValues = null;\n    return _this2;\n  }\n  _createClass(GeoTIFF, [{\n    key: \"getSlice\",\n    value: function () {\n      var _getSlice = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee2(offset, size) {\n        var fallbackSize;\n        return _regeneratorRuntime.wrap(function _callee2$(_context2) {\n          while (1) {\n            switch (_context2.prev = _context2.next) {\n              case 0:\n                fallbackSize = this.bigTiff ? 4048 : 1024;\n                _context2.t0 = DataSlice;\n                _context2.next = 4;\n                return this.source.fetch([{\n                  offset: offset,\n                  length: typeof size !== 'undefined' ? size : fallbackSize\n                }]);\n              case 4:\n                _context2.t1 = _context2.sent[0];\n                _context2.t2 = offset;\n                _context2.t3 = this.littleEndian;\n                _context2.t4 = this.bigTiff;\n                return _context2.abrupt(\"return\", new _context2.t0(_context2.t1, _context2.t2, _context2.t3, _context2.t4));\n              case 9:\n              case \"end\":\n                return _context2.stop();\n            }\n          }\n        }, _callee2, this);\n      }));\n      function getSlice(_x, _x2) {\n        return _getSlice.apply(this, arguments);\n      }\n      return getSlice;\n    }() /**\n         * Instructs to parse an image file directory at the given file offset.\n         * As there is no way to ensure that a location is indeed the start of an IFD,\n         * this function must be called with caution (e.g only using the IFD offsets from\n         * the headers or other IFDs).\n         * @param {number} offset the offset to parse the IFD at\n         * @returns {Promise<ImageFileDirectory>} the parsed IFD\n         */\n  }, {\n    key: \"parseFileDirectoryAt\",\n    value: function () {\n      var _parseFileDirectoryAt = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee3(offset) {\n        var entrySize, offsetSize, dataSlice, numDirEntries, byteSize, fileDirectory, i, entryCount, fieldTag, fieldType, typeCount, fieldValues, value, fieldTypeLength, valueOffset, actualOffset, length, fieldDataSlice, geoKeyDirectory, nextIFDByteOffset;\n        return _regeneratorRuntime.wrap(function _callee3$(_context3) {\n          while (1) {\n            switch (_context3.prev = _context3.next) {\n              case 0:\n                entrySize = this.bigTiff ? 20 : 12;\n                offsetSize = this.bigTiff ? 8 : 2;\n                _context3.next = 4;\n                return this.getSlice(offset);\n              case 4:\n                dataSlice = _context3.sent;\n                numDirEntries = this.bigTiff ? dataSlice.readUint64(offset) : dataSlice.readUint16(offset); // if the slice does not cover the whole IFD, request a bigger slice, where the\n                // whole IFD fits: num of entries + n x tag length + offset to next IFD\n                byteSize = numDirEntries * entrySize + (this.bigTiff ? 16 : 6);\n                if (dataSlice.covers(offset, byteSize)) {\n                  _context3.next = 11;\n                  break;\n                }\n                _context3.next = 10;\n                return this.getSlice(offset, byteSize);\n              case 10:\n                dataSlice = _context3.sent;\n              case 11:\n                fileDirectory = {}; // loop over the IFD and create a file directory object\n                i = offset + (this.bigTiff ? 8 : 2);\n                entryCount = 0;\n              case 14:\n                if (!(entryCount < numDirEntries)) {\n                  _context3.next = 41;\n                  break;\n                }\n                fieldTag = dataSlice.readUint16(i);\n                fieldType = dataSlice.readUint16(i + 2);\n                typeCount = this.bigTiff ? dataSlice.readUint64(i + 4) : dataSlice.readUint32(i + 4);\n                fieldValues = void 0;\n                value = void 0;\n                fieldTypeLength = getFieldTypeLength(fieldType);\n                valueOffset = i + (this.bigTiff ? 12 : 8); // check whether the value is directly encoded in the tag or refers to a\n                // different external byte range\n                if (!(fieldTypeLength * typeCount <= (this.bigTiff ? 8 : 4))) {\n                  _context3.next = 26;\n                  break;\n                }\n                fieldValues = getValues(dataSlice, fieldType, typeCount, valueOffset);\n                _context3.next = 36;\n                break;\n              case 26:\n                // resolve the reference to the actual byte range\n                actualOffset = dataSlice.readOffset(valueOffset);\n                length = getFieldTypeLength(fieldType) * typeCount; // check, whether we actually cover the referenced byte range; if not,\n                // request a new slice of bytes to read from it\n                if (!dataSlice.covers(actualOffset, length)) {\n                  _context3.next = 32;\n                  break;\n                }\n                fieldValues = getValues(dataSlice, fieldType, typeCount, actualOffset);\n                _context3.next = 36;\n                break;\n              case 32:\n                _context3.next = 34;\n                return this.getSlice(actualOffset, length);\n              case 34:\n                fieldDataSlice = _context3.sent;\n                fieldValues = getValues(fieldDataSlice, fieldType, typeCount, actualOffset);\n              case 36:\n                // unpack single values from the array\n                if (typeCount === 1 && arrayFields.indexOf(fieldTag) === -1 && !(fieldType === fieldTypes.RATIONAL || fieldType === fieldTypes.SRATIONAL)) {\n                  value = fieldValues[0];\n                } else {\n                  value = fieldValues;\n                }\n\n                // write the tags value to the file directly\n                fileDirectory[fieldTagNames[fieldTag]] = value;\n              case 38:\n                i += entrySize, ++entryCount;\n                _context3.next = 14;\n                break;\n              case 41:\n                geoKeyDirectory = parseGeoKeyDirectory(fileDirectory);\n                nextIFDByteOffset = dataSlice.readOffset(offset + offsetSize + entrySize * numDirEntries);\n                return _context3.abrupt(\"return\", new ImageFileDirectory(fileDirectory, geoKeyDirectory, nextIFDByteOffset));\n              case 44:\n              case \"end\":\n                return _context3.stop();\n            }\n          }\n        }, _callee3, this);\n      }));\n      function parseFileDirectoryAt(_x3) {\n        return _parseFileDirectoryAt.apply(this, arguments);\n      }\n      return parseFileDirectoryAt;\n    }()\n  }, {\n    key: \"requestIFD\",\n    value: function () {\n      var _requestIFD = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee5(index) {\n        var _this3 = this;\n        return _regeneratorRuntime.wrap(function _callee5$(_context5) {\n          while (1) {\n            switch (_context5.prev = _context5.next) {\n              case 0:\n                if (!this.ifdRequests[index]) {\n                  _context5.next = 4;\n                  break;\n                }\n                return _context5.abrupt(\"return\", this.ifdRequests[index]);\n              case 4:\n                if (!(index === 0)) {\n                  _context5.next = 9;\n                  break;\n                }\n                // special case for index 0\n                this.ifdRequests[index] = this.parseFileDirectoryAt(this.firstIFDOffset);\n                return _context5.abrupt(\"return\", this.ifdRequests[index]);\n              case 9:\n                if (this.ifdRequests[index - 1]) {\n                  _context5.next = 19;\n                  break;\n                }\n                _context5.prev = 10;\n                this.ifdRequests[index - 1] = this.requestIFD(index - 1);\n                _context5.next = 19;\n                break;\n              case 14:\n                _context5.prev = 14;\n                _context5.t0 = _context5[\"catch\"](10);\n                if (!(_context5.t0 instanceof GeoTIFFImageIndexError)) {\n                  _context5.next = 18;\n                  break;\n                }\n                throw new GeoTIFFImageIndexError(index);\n              case 18:\n                throw _context5.t0;\n              case 19:\n                // if the previous IFD was loaded, we can finally fetch the one we are interested in.\n                // we need to wrap this in an IIFE, otherwise this.ifdRequests[index] would be delayed\n                this.ifdRequests[index] = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee4() {\n                  var previousIfd;\n                  return _regeneratorRuntime.wrap(function _callee4$(_context4) {\n                    while (1) {\n                      switch (_context4.prev = _context4.next) {\n                        case 0:\n                          _context4.next = 2;\n                          return _this3.ifdRequests[index - 1];\n                        case 2:\n                          previousIfd = _context4.sent;\n                          if (!(previousIfd.nextIFDByteOffset === 0)) {\n                            _context4.next = 5;\n                            break;\n                          }\n                          throw new GeoTIFFImageIndexError(index);\n                        case 5:\n                          return _context4.abrupt(\"return\", _this3.parseFileDirectoryAt(previousIfd.nextIFDByteOffset));\n                        case 6:\n                        case \"end\":\n                          return _context4.stop();\n                      }\n                    }\n                  }, _callee4);\n                }))();\n                return _context5.abrupt(\"return\", this.ifdRequests[index]);\n              case 21:\n              case \"end\":\n                return _context5.stop();\n            }\n          }\n        }, _callee5, this, [[10, 14]]);\n      }));\n      function requestIFD(_x4) {\n        return _requestIFD.apply(this, arguments);\n      }\n      return requestIFD;\n    }() /**\n         * Get the n-th internal subfile of an image. By default, the first is returned.\n         *\n         * @param {number} [index=0] the index of the image to return.\n         * @returns {Promise<GeoTIFFImage>} the image at the given index\n         */\n  }, {\n    key: \"getImage\",\n    value: function () {\n      var _getImage = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee6() {\n        var index,\n          ifd,\n          _args6 = arguments;\n        return _regeneratorRuntime.wrap(function _callee6$(_context6) {\n          while (1) {\n            switch (_context6.prev = _context6.next) {\n              case 0:\n                index = _args6.length > 0 && _args6[0] !== undefined ? _args6[0] : 0;\n                _context6.next = 3;\n                return this.requestIFD(index);\n              case 3:\n                ifd = _context6.sent;\n                return _context6.abrupt(\"return\", new GeoTIFFImage(ifd.fileDirectory, ifd.geoKeyDirectory, this.dataView, this.littleEndian, this.cache, this.source));\n              case 5:\n              case \"end\":\n                return _context6.stop();\n            }\n          }\n        }, _callee6, this);\n      }));\n      function getImage() {\n        return _getImage.apply(this, arguments);\n      }\n      return getImage;\n    }() /**\n         * Returns the count of the internal subfiles.\n         *\n         * @returns {Promise<number>} the number of internal subfile images\n         */\n  }, {\n    key: \"getImageCount\",\n    value: function () {\n      var _getImageCount = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee7() {\n        var index, hasNext;\n        return _regeneratorRuntime.wrap(function _callee7$(_context7) {\n          while (1) {\n            switch (_context7.prev = _context7.next) {\n              case 0:\n                index = 0; // loop until we run out of IFDs\n                hasNext = true;\n              case 2:\n                if (!hasNext) {\n                  _context7.next = 18;\n                  break;\n                }\n                _context7.prev = 3;\n                _context7.next = 6;\n                return this.requestIFD(index);\n              case 6:\n                ++index;\n                _context7.next = 16;\n                break;\n              case 9:\n                _context7.prev = 9;\n                _context7.t0 = _context7[\"catch\"](3);\n                if (!(_context7.t0 instanceof GeoTIFFImageIndexError)) {\n                  _context7.next = 15;\n                  break;\n                }\n                hasNext = false;\n                _context7.next = 16;\n                break;\n              case 15:\n                throw _context7.t0;\n              case 16:\n                _context7.next = 2;\n                break;\n              case 18:\n                return _context7.abrupt(\"return\", index);\n              case 19:\n              case \"end\":\n                return _context7.stop();\n            }\n          }\n        }, _callee7, this, [[3, 9]]);\n      }));\n      function getImageCount() {\n        return _getImageCount.apply(this, arguments);\n      }\n      return getImageCount;\n    }() /**\n         * Get the values of the COG ghost area as a parsed map.\n         * See https://gdal.org/drivers/raster/cog.html#header-ghost-area for reference\n         * @returns {Promise<Object>} the parsed ghost area or null, if no such area was found\n         */\n  }, {\n    key: \"getGhostValues\",\n    value: function () {\n      var _getGhostValues = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee8() {\n        var _this4 = this;\n        var offset, detectionString, heuristicAreaSize, slice, valuesString, firstLine, metadataSize, fullString;\n        return _regeneratorRuntime.wrap(function _callee8$(_context8) {\n          while (1) {\n            switch (_context8.prev = _context8.next) {\n              case 0:\n                offset = this.bigTiff ? 16 : 8;\n                if (!this.ghostValues) {\n                  _context8.next = 3;\n                  break;\n                }\n                return _context8.abrupt(\"return\", this.ghostValues);\n              case 3:\n                detectionString = 'GDAL_STRUCTURAL_METADATA_SIZE=';\n                heuristicAreaSize = detectionString.length + 100;\n                _context8.next = 7;\n                return this.getSlice(offset, heuristicAreaSize);\n              case 7:\n                slice = _context8.sent;\n                if (!(detectionString === getValues(slice, fieldTypes.ASCII, detectionString.length, offset))) {\n                  _context8.next = 19;\n                  break;\n                }\n                valuesString = getValues(slice, fieldTypes.ASCII, heuristicAreaSize, offset);\n                firstLine = valuesString.split('\\n')[0];\n                metadataSize = Number(firstLine.split('=')[1].split(' ')[0]) + firstLine.length;\n                if (!(metadataSize > heuristicAreaSize)) {\n                  _context8.next = 16;\n                  break;\n                }\n                _context8.next = 15;\n                return this.getSlice(offset, metadataSize);\n              case 15:\n                slice = _context8.sent;\n              case 16:\n                fullString = getValues(slice, fieldTypes.ASCII, metadataSize, offset);\n                this.ghostValues = {};\n                fullString.split('\\n').filter(function (line) {\n                  return line.length > 0;\n                }).map(function (line) {\n                  return line.split('=');\n                }).forEach(function (_ref2) {\n                  var _ref3 = _slicedToArray(_ref2, 2),\n                    key = _ref3[0],\n                    value = _ref3[1];\n                  _this4.ghostValues[key] = value;\n                });\n              case 19:\n                return _context8.abrupt(\"return\", this.ghostValues);\n              case 20:\n              case \"end\":\n                return _context8.stop();\n            }\n          }\n        }, _callee8, this);\n      }));\n      function getGhostValues() {\n        return _getGhostValues.apply(this, arguments);\n      }\n      return getGhostValues;\n    }() /**\n         * Parse a (Geo)TIFF file from the given source.\n         *\n         * @param {*} source The source of data to parse from.\n         * @param {GeoTIFFOptions} [options] Additional options.\n         * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n         *                               to be aborted\n         */\n  }, {\n    key: \"close\",\n    value:\n    /**\n     * Closes the underlying file buffer\n     * N.B. After the GeoTIFF has been completely processed it needs\n     * to be closed but only if it has been constructed from a file.\n     */\n    function close() {\n      if (typeof this.source.close === 'function') {\n        return this.source.close();\n      }\n      return false;\n    }\n  }], [{\n    key: \"fromSource\",\n    value: function () {\n      var _fromSource = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee9(source, options, signal) {\n        var headerData, dataView, BOM, littleEndian, magicNumber, bigTiff, offsetByteSize, firstIFDOffset;\n        return _regeneratorRuntime.wrap(function _callee9$(_context9) {\n          while (1) {\n            switch (_context9.prev = _context9.next) {\n              case 0:\n                _context9.next = 2;\n                return source.fetch([{\n                  offset: 0,\n                  length: 1024\n                }], signal);\n              case 2:\n                headerData = _context9.sent[0];\n                dataView = new DataView64(headerData);\n                BOM = dataView.getUint16(0, 0);\n                if (!(BOM === 0x4949)) {\n                  _context9.next = 9;\n                  break;\n                }\n                littleEndian = true;\n                _context9.next = 14;\n                break;\n              case 9:\n                if (!(BOM === 0x4D4D)) {\n                  _context9.next = 13;\n                  break;\n                }\n                littleEndian = false;\n                _context9.next = 14;\n                break;\n              case 13:\n                throw new TypeError('Invalid byte order value.');\n              case 14:\n                magicNumber = dataView.getUint16(2, littleEndian);\n                if (!(magicNumber === 42)) {\n                  _context9.next = 19;\n                  break;\n                }\n                bigTiff = false;\n                _context9.next = 27;\n                break;\n              case 19:\n                if (!(magicNumber === 43)) {\n                  _context9.next = 26;\n                  break;\n                }\n                bigTiff = true;\n                offsetByteSize = dataView.getUint16(4, littleEndian);\n                if (!(offsetByteSize !== 8)) {\n                  _context9.next = 24;\n                  break;\n                }\n                throw new Error('Unsupported offset byte-size.');\n              case 24:\n                _context9.next = 27;\n                break;\n              case 26:\n                throw new TypeError('Invalid magic number.');\n              case 27:\n                firstIFDOffset = bigTiff ? dataView.getUint64(8, littleEndian) : dataView.getUint32(4, littleEndian);\n                return _context9.abrupt(\"return\", new GeoTIFF(source, littleEndian, bigTiff, firstIFDOffset, options));\n              case 29:\n              case \"end\":\n                return _context9.stop();\n            }\n          }\n        }, _callee9);\n      }));\n      function fromSource(_x5, _x6, _x7) {\n        return _fromSource.apply(this, arguments);\n      }\n      return fromSource;\n    }()\n  }]);\n  return GeoTIFF;\n}(GeoTIFFBase);\nexport { GeoTIFF };\nexport default GeoTIFF;\n\n/**\n * Wrapper for GeoTIFF files that have external overviews.\n * @augments GeoTIFFBase\n */\nvar MultiGeoTIFF = /*#__PURE__*/function (_GeoTIFFBase2) {\n  _inherits(MultiGeoTIFF, _GeoTIFFBase2);\n  var _super3 = _createSuper(MultiGeoTIFF);\n  /**\n   * Construct a new MultiGeoTIFF from a main and several overview files.\n   * @param {GeoTIFF} mainFile The main GeoTIFF file.\n   * @param {GeoTIFF[]} overviewFiles An array of overview files.\n   */\n  function MultiGeoTIFF(mainFile, overviewFiles) {\n    var _this5;\n    _classCallCheck(this, MultiGeoTIFF);\n    _this5 = _super3.call(this);\n    _this5.mainFile = mainFile;\n    _this5.overviewFiles = overviewFiles;\n    _this5.imageFiles = [mainFile].concat(overviewFiles);\n    _this5.fileDirectoriesPerFile = null;\n    _this5.fileDirectoriesPerFileParsing = null;\n    _this5.imageCount = null;\n    return _this5;\n  }\n  _createClass(MultiGeoTIFF, [{\n    key: \"parseFileDirectoriesPerFile\",\n    value: function () {\n      var _parseFileDirectoriesPerFile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee10() {\n        var requests;\n        return _regeneratorRuntime.wrap(function _callee10$(_context10) {\n          while (1) {\n            switch (_context10.prev = _context10.next) {\n              case 0:\n                requests = [this.mainFile.parseFileDirectoryAt(this.mainFile.firstIFDOffset)].concat(this.overviewFiles.map(function (file) {\n                  return file.parseFileDirectoryAt(file.firstIFDOffset);\n                }));\n                _context10.next = 3;\n                return Promise.all(requests);\n              case 3:\n                this.fileDirectoriesPerFile = _context10.sent;\n                return _context10.abrupt(\"return\", this.fileDirectoriesPerFile);\n              case 5:\n              case \"end\":\n                return _context10.stop();\n            }\n          }\n        }, _callee10, this);\n      }));\n      function parseFileDirectoriesPerFile() {\n        return _parseFileDirectoriesPerFile.apply(this, arguments);\n      }\n      return parseFileDirectoriesPerFile;\n    }() /**\n         * Get the n-th internal subfile of an image. By default, the first is returned.\n         *\n         * @param {number} [index=0] the index of the image to return.\n         * @returns {Promise<GeoTIFFImage>} the image at the given index\n         */\n  }, {\n    key: \"getImage\",\n    value: function () {\n      var _getImage2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee11() {\n        var index,\n          visited,\n          relativeIndex,\n          i,\n          imageFile,\n          ii,\n          ifd,\n          _args11 = arguments;\n        return _regeneratorRuntime.wrap(function _callee11$(_context11) {\n          while (1) {\n            switch (_context11.prev = _context11.next) {\n              case 0:\n                index = _args11.length > 0 && _args11[0] !== undefined ? _args11[0] : 0;\n                _context11.next = 3;\n                return this.getImageCount();\n              case 3:\n                _context11.next = 5;\n                return this.parseFileDirectoriesPerFile();\n              case 5:\n                visited = 0;\n                relativeIndex = 0;\n                i = 0;\n              case 8:\n                if (!(i < this.imageFiles.length)) {\n                  _context11.next = 26;\n                  break;\n                }\n                imageFile = this.imageFiles[i];\n                ii = 0;\n              case 11:\n                if (!(ii < this.imageCounts[i])) {\n                  _context11.next = 22;\n                  break;\n                }\n                if (!(index === visited)) {\n                  _context11.next = 17;\n                  break;\n                }\n                _context11.next = 15;\n                return imageFile.requestIFD(relativeIndex);\n              case 15:\n                ifd = _context11.sent;\n                return _context11.abrupt(\"return\", new GeoTIFFImage(ifd.fileDirectory, ifd.geoKeyDirectory, imageFile.dataView, imageFile.littleEndian, imageFile.cache, imageFile.source));\n              case 17:\n                visited++;\n                relativeIndex++;\n              case 19:\n                ii++;\n                _context11.next = 11;\n                break;\n              case 22:\n                relativeIndex = 0;\n              case 23:\n                i++;\n                _context11.next = 8;\n                break;\n              case 26:\n                throw new RangeError('Invalid image index');\n              case 27:\n              case \"end\":\n                return _context11.stop();\n            }\n          }\n        }, _callee11, this);\n      }));\n      function getImage() {\n        return _getImage2.apply(this, arguments);\n      }\n      return getImage;\n    }() /**\n         * Returns the count of the internal subfiles.\n         *\n         * @returns {Promise<number>} the number of internal subfile images\n         */\n  }, {\n    key: \"getImageCount\",\n    value: function () {\n      var _getImageCount2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee12() {\n        var requests;\n        return _regeneratorRuntime.wrap(function _callee12$(_context12) {\n          while (1) {\n            switch (_context12.prev = _context12.next) {\n              case 0:\n                if (!(this.imageCount !== null)) {\n                  _context12.next = 2;\n                  break;\n                }\n                return _context12.abrupt(\"return\", this.imageCount);\n              case 2:\n                requests = [this.mainFile.getImageCount()].concat(this.overviewFiles.map(function (file) {\n                  return file.getImageCount();\n                }));\n                _context12.next = 5;\n                return Promise.all(requests);\n              case 5:\n                this.imageCounts = _context12.sent;\n                this.imageCount = this.imageCounts.reduce(function (count, ifds) {\n                  return count + ifds;\n                }, 0);\n                return _context12.abrupt(\"return\", this.imageCount);\n              case 8:\n              case \"end\":\n                return _context12.stop();\n            }\n          }\n        }, _callee12, this);\n      }));\n      function getImageCount() {\n        return _getImageCount2.apply(this, arguments);\n      }\n      return getImageCount;\n    }()\n  }]);\n  return MultiGeoTIFF;\n}(GeoTIFFBase);\nexport { MultiGeoTIFF };\n\n/**\n * Creates a new GeoTIFF from a remote URL.\n * @param {string} url The URL to access the image from\n * @param {object} [options] Additional options to pass to the source.\n *                           See {@link makeRemoteSource} for details.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\n */\nexport function fromUrl(_x8) {\n  return _fromUrl.apply(this, arguments);\n}\n\n/**\n * Construct a new GeoTIFF from an\n * [ArrayBuffer]{@link https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer}.\n * @param {ArrayBuffer} arrayBuffer The data to read the file from.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\n */\nfunction _fromUrl() {\n  _fromUrl = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee13(url) {\n    var options,\n      signal,\n      _args13 = arguments;\n    return _regeneratorRuntime.wrap(function _callee13$(_context13) {\n      while (1) {\n        switch (_context13.prev = _context13.next) {\n          case 0:\n            options = _args13.length > 1 && _args13[1] !== undefined ? _args13[1] : {};\n            signal = _args13.length > 2 ? _args13[2] : undefined;\n            return _context13.abrupt(\"return\", GeoTIFF.fromSource(makeRemoteSource(url, options), signal));\n          case 3:\n          case \"end\":\n            return _context13.stop();\n        }\n      }\n    }, _callee13);\n  }));\n  return _fromUrl.apply(this, arguments);\n}\nexport function fromArrayBuffer(_x9, _x10) {\n  return _fromArrayBuffer.apply(this, arguments);\n}\n\n/**\n * Construct a GeoTIFF from a local file path. This uses the node\n * [filesystem API]{@link https://nodejs.org/api/fs.html} and is\n * not available on browsers.\n *\n * N.B. After the GeoTIFF has been completely processed it needs\n * to be closed but only if it has been constructed from a file.\n * @param {string} path The file path to read from.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\n */\nfunction _fromArrayBuffer() {\n  _fromArrayBuffer = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee14(arrayBuffer, signal) {\n    return _regeneratorRuntime.wrap(function _callee14$(_context14) {\n      while (1) {\n        switch (_context14.prev = _context14.next) {\n          case 0:\n            return _context14.abrupt(\"return\", GeoTIFF.fromSource(makeBufferSource(arrayBuffer), signal));\n          case 1:\n          case \"end\":\n            return _context14.stop();\n        }\n      }\n    }, _callee14);\n  }));\n  return _fromArrayBuffer.apply(this, arguments);\n}\nexport function fromFile(_x11, _x12) {\n  return _fromFile.apply(this, arguments);\n}\n\n/**\n * Construct a GeoTIFF from an HTML\n * [Blob]{@link https://developer.mozilla.org/en-US/docs/Web/API/Blob} or\n * [File]{@link https://developer.mozilla.org/en-US/docs/Web/API/File}\n * object.\n * @param {Blob|File} blob The Blob or File object to read from.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<GeoTIFF>} The resulting GeoTIFF file.\n */\nfunction _fromFile() {\n  _fromFile = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee15(path, signal) {\n    return _regeneratorRuntime.wrap(function _callee15$(_context15) {\n      while (1) {\n        switch (_context15.prev = _context15.next) {\n          case 0:\n            return _context15.abrupt(\"return\", GeoTIFF.fromSource(makeFileSource(path), signal));\n          case 1:\n          case \"end\":\n            return _context15.stop();\n        }\n      }\n    }, _callee15);\n  }));\n  return _fromFile.apply(this, arguments);\n}\nexport function fromBlob(_x13, _x14) {\n  return _fromBlob.apply(this, arguments);\n}\n\n/**\n * Construct a MultiGeoTIFF from the given URLs.\n * @param {string} mainUrl The URL for the main file.\n * @param {string[]} overviewUrls An array of URLs for the overview images.\n * @param {Object} [options] Additional options to pass to the source.\n *                           See [makeRemoteSource]{@link module:source.makeRemoteSource}\n *                           for details.\n * @param {AbortSignal} [signal] An AbortSignal that may be signalled if the request is\n *                               to be aborted\n * @returns {Promise<MultiGeoTIFF>} The resulting MultiGeoTIFF file.\n */\nfunction _fromBlob() {\n  _fromBlob = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee16(blob, signal) {\n    return _regeneratorRuntime.wrap(function _callee16$(_context16) {\n      while (1) {\n        switch (_context16.prev = _context16.next) {\n          case 0:\n            return _context16.abrupt(\"return\", GeoTIFF.fromSource(makeFileReaderSource(blob), signal));\n          case 1:\n          case \"end\":\n            return _context16.stop();\n        }\n      }\n    }, _callee16);\n  }));\n  return _fromBlob.apply(this, arguments);\n}\nexport function fromUrls(_x15) {\n  return _fromUrls.apply(this, arguments);\n}\n\n/**\n * Main creating function for GeoTIFF files.\n * @param {(Array)} array of pixel values\n * @returns {metadata} metadata\n */\nfunction _fromUrls() {\n  _fromUrls = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee17(mainUrl) {\n    var overviewUrls,\n      options,\n      signal,\n      mainFile,\n      overviewFiles,\n      _args17 = arguments;\n    return _regeneratorRuntime.wrap(function _callee17$(_context17) {\n      while (1) {\n        switch (_context17.prev = _context17.next) {\n          case 0:\n            overviewUrls = _args17.length > 1 && _args17[1] !== undefined ? _args17[1] : [];\n            options = _args17.length > 2 && _args17[2] !== undefined ? _args17[2] : {};\n            signal = _args17.length > 3 ? _args17[3] : undefined;\n            _context17.next = 5;\n            return GeoTIFF.fromSource(makeRemoteSource(mainUrl, options), signal);\n          case 5:\n            mainFile = _context17.sent;\n            _context17.next = 8;\n            return Promise.all(overviewUrls.map(function (url) {\n              return GeoTIFF.fromSource(makeRemoteSource(url, options));\n            }));\n          case 8:\n            overviewFiles = _context17.sent;\n            return _context17.abrupt(\"return\", new MultiGeoTIFF(mainFile, overviewFiles));\n          case 10:\n          case \"end\":\n            return _context17.stop();\n        }\n      }\n    }, _callee17);\n  }));\n  return _fromUrls.apply(this, arguments);\n}\nexport function writeArrayBuffer(values, metadata) {\n  return writeGeotiff(values, metadata);\n}\nexport { Pool };\nexport { GeoTIFFImage };","import _asyncToGenerator from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _regeneratorRuntime from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/regenerator/index.js\";\nimport { getDecoder } from './compression/index.js';\nvar defaultPoolSize = typeof navigator !== 'undefined' ? navigator.hardwareConcurrency || 2 : 2;\n\n/**\n * @module pool\n */\n\n/**\n * Pool for workers to decode chunks of the images.\n */\nvar Pool = /*#__PURE__*/function () {\n  /**\n   * @constructor\n   * @param {Number} [size] The size of the pool. Defaults to the number of CPUs\n   *                      available. When this parameter is `null` or 0, then the\n   *                      decoding will be done in the main thread.\n   * @param {function(): Worker} [createWorker] A function that creates the decoder worker.\n   * Defaults to a worker with all decoders that ship with geotiff.js. The `createWorker()`\n   * function is expected to return a `Worker` compatible with Web Workers. For code that\n   * runs in Node, [web-worker](https://www.npmjs.com/package/web-worker) is a good choice.\n   *\n   * A worker that uses a custom lzw decoder would look like this `my-custom-worker.js` file:\n   * ```js\n   * import { addDecoder, getDecoder } from 'geotiff';\n   * addDecoder(5, () => import ('./my-custom-lzw').then((m) => m.default));\n   * self.addEventListener('message', async (e) => {\n   *   const { id, fileDirectory, buffer } = e.data;\n   *   const decoder = await getDecoder(fileDirectory);\n   *   const decoded = await decoder.decode(fileDirectory, buffer);\n   *   self.postMessage({ decoded, id }, [decoded]);\n   * });\n   * ```\n   * The way the above code is built into a worker by the `createWorker()` function\n   * depends on the used bundler. For most bundlers, something like this will work:\n   * ```js\n   * function createWorker() {\n   *   return new Worker(new URL('./my-custom-worker.js', import.meta.url));\n   * }\n   * ```\n   */\n  function Pool() {\n    var _this = this;\n    var size = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : defaultPoolSize;\n    var createWorker = arguments.length > 1 ? arguments[1] : undefined;\n    _classCallCheck(this, Pool);\n    this.workers = null;\n    this._awaitingDecoder = null;\n    this.size = size;\n    this.messageId = 0;\n    if (size) {\n      this._awaitingDecoder = createWorker ? Promise.resolve(createWorker) : new Promise(function (resolve) {\n        import('./worker/decoder.js').then(function (module) {\n          resolve(module.create);\n        });\n      });\n      this._awaitingDecoder.then(function (create) {\n        _this._awaitingDecoder = null;\n        _this.workers = [];\n        for (var i = 0; i < size; i++) {\n          _this.workers.push({\n            worker: create(),\n            idle: true\n          });\n        }\n      });\n    }\n  }\n\n  /**\n   * Decode the given block of bytes with the set compression method.\n   * @param {ArrayBuffer} buffer the array buffer of bytes to decode.\n   * @returns {Promise<ArrayBuffer>} the decoded result as a `Promise`\n   */\n  _createClass(Pool, [{\n    key: \"decode\",\n    value: function () {\n      var _decode = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(fileDirectory, buffer) {\n        var _this2 = this;\n        return _regeneratorRuntime.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                if (!this._awaitingDecoder) {\n                  _context.next = 3;\n                  break;\n                }\n                _context.next = 3;\n                return this._awaitingDecoder;\n              case 3:\n                return _context.abrupt(\"return\", this.size === 0 ? getDecoder(fileDirectory).then(function (decoder) {\n                  return decoder.decode(fileDirectory, buffer);\n                }) : new Promise(function (resolve) {\n                  var worker = _this2.workers.find(function (candidate) {\n                    return candidate.idle;\n                  }) || _this2.workers[Math.floor(Math.random() * _this2.size)];\n                  worker.idle = false;\n                  var id = _this2.messageId++;\n                  var onMessage = function onMessage(e) {\n                    if (e.data.id === id) {\n                      worker.idle = true;\n                      resolve(e.data.decoded);\n                      worker.worker.removeEventListener('message', onMessage);\n                    }\n                  };\n                  worker.worker.addEventListener('message', onMessage);\n                  worker.worker.postMessage({\n                    fileDirectory: fileDirectory,\n                    buffer: buffer,\n                    id: id\n                  }, [buffer]);\n                }));\n              case 4:\n              case \"end\":\n                return _context.stop();\n            }\n          }\n        }, _callee, this);\n      }));\n      function decode(_x, _x2) {\n        return _decode.apply(this, arguments);\n      }\n      return decode;\n    }()\n  }, {\n    key: \"destroy\",\n    value: function destroy() {\n      if (this.workers) {\n        this.workers.forEach(function (worker) {\n          worker.worker.terminate();\n        });\n        this.workers = null;\n      }\n    }\n  }]);\n  return Pool;\n}();\nexport default Pool;","import {\n    fromUrl,\n    fromBlob,\n    GeoTIFF,\n    GeoTIFFImage,\n    Pool,\n} from \"geotiff\";\n\nimport {\n    getDataRange,\n    RenderProps,\n    RasterProps,\n    RasterValue,\n    getBandCount,\n    getCode,\n    getColor,\n    getUnit,\n} from \"./index\";\nimport { normalize } from \"../../utils\";\n\nlet pool: Pool | null = null;\nconst getPool = () => {\n    if (!pool) pool = new Pool();\n    return pool;\n    return null;\n};\n\n/*\nInitialize\n```\nconst reader = new Reader({\n  files\n});\n```\ncan set some sources.\n\n```\nreader.getRasters({\n  sources: [{\n    index: 0,\n    bands: [1, 3],\n    window: [10, 20, 40, 60];\n    nodata: 0;\n  }]\n})\n```\nFrom the 0th file, get bands 1 and 3 in the range of [10, 20, 40, 60] pixels.\n\n```\nconst arr = reader.render({\n  mode: \"rgb\",\n  samples: [{\n    index: 0,\n    bands: [1, 3],\n    nodata: 0,\n  }, {\n    index: 1,\n    bands: [1],\n    nodata: -9999,\n  }],\n  width: 512,\n  height: 512,\n  layers: [{\n    index: 0, // band1 of the 0th samples\n    min: 0,\n    max: 255,\n  }, {\n    index: 2, // band1 of the 1th samples\n    min: -500,\n    max: 6000,\n  }, {\n    index: 1, // band3 of the 0th samples\n    min: 0,\n    max: 255,\n  }]\n});\nconst canvas = document.createElement(\"canvas\");\nconst context = canvas.getContext(\"2d\");\ncontext.putImageData(arr, 0, 0);\n```\n\n*/\n\nexport default class Reader {\n    private files: File[];\n    private urls: string[];\n    private tiffs: GeoTIFF[];\n\n    constructor(props: { files?: File[]; urls?: string[] }) {\n        if (\n            !(props.urls && props.urls.length > 0) &&\n            !(props.files && props.files.length > 0)\n        )\n            throw new Error(\"urls or files is necessary.\");\n\n        this.files = [];\n        this.urls = [];\n        this.tiffs = [];\n        if (props.files && props.files.length > 0) {\n            this.files = props.files;\n        } else if (props.urls && props.urls.length > 0) {\n            this.urls = props.urls;\n        }\n    }\n\n    getCount(): number {\n        if (this.files.length > 0) return this.files.length;\n        if (this.urls.length > 0) return this.urls.length;\n        return 0;\n    }\n\n    async getTiffs(): Promise<GeoTIFF[]> {\n        if (this.tiffs.length > 0) return this.tiffs;\n        this.tiffs =\n            this.files.length > 0\n                ? await Promise.all(this.files.map((file) => fromBlob(file)))\n                : await Promise.all(this.urls.map((url) => fromUrl(url)));\n        return this.tiffs;\n    }\n\n    async getImage(fileIndex = 0, imageIndex = 0): Promise<GeoTIFFImage | null> {\n        const tiff = (await this.getTiffs())[fileIndex];\n        return (await tiff.getImage(imageIndex)) || null;\n    }\n\n    async getBandCount(fileIndex = 0, imageIndex = 0): Promise<number | null> {\n        const image = await this.getImage(fileIndex, imageIndex);\n\n        return image ? getBandCount(image) : null;\n    }\n\n    async getCode(fileIndex = 0, imageIndex = 0): Promise<string | null> {\n        const image = await this.getImage(fileIndex, imageIndex);\n\n        return image ? getCode(image) : null;\n    }\n\n    async getUnit(fileIndex = 0, imageIndex = 0): Promise<string | null> {\n        const image = await this.getImage(fileIndex, imageIndex);\n\n        return image ? getUnit(image) : null;\n    }\n\n    async getRasters(props: RasterProps): Promise<RasterValue[]> {\n        const { sources } = props;\n        const tiffs = await this.getTiffs();\n        return await Promise.all(\n            sources.map(async (source) => {\n                const tiff = tiffs[source.index];\n                if (!tiff) throw new Error(\"index is out of range.\");\n\n                let targetImage = await tiff.getImage(0);\n                const originWidth = targetImage.getWidth();\n                const originHeight = targetImage.getHeight();\n\n                const sourceWindow = Array.isArray(source.window)\n                    ? [...source.window]\n                    : [0, 0, originWidth, originHeight];\n                if (sourceWindow.length !== 4)\n                    throw new Error(\"window must be 4 length.\");\n\n                const dstWidth = Math.floor(\n                    source.width ?? sourceWindow[2] - sourceWindow[0]\n                );\n                const dstHeight = Math.floor(\n                    source.height ?? sourceWindow[3] - sourceWindow[1]\n                );\n                if (dstWidth < 1 || dstHeight < 1)\n                    throw new Error(\"dist size is too small.\");\n                const nodata = source.nodata ?? targetImage.getGDALNoData() ?? 0;\n                const range = getDataRange(targetImage) ?? [0, 255];\n\n                const imageCount = await tiff.getImageCount();\n\n                let dstWindow = sourceWindow;\n                for (let i = 1; i < imageCount; i++) {\n                    const image = await tiff.getImage(i);\n                    const imageWidth = image.getWidth();\n                    const imageHeight = image.getHeight();\n                    const window = [\n                        Math.floor((sourceWindow[0] * imageWidth) / originWidth),\n                        Math.floor((sourceWindow[1] * imageHeight) / originHeight),\n                        Math.floor((sourceWindow[2] * imageWidth) / originWidth),\n                        Math.floor((sourceWindow[3] * imageHeight) / originHeight),\n                    ];\n                    const sourceWidth = window[2] - window[0];\n                    const sourceHeight = window[3] - window[1];\n                    if (sourceWidth < dstWidth || sourceHeight < dstHeight) {\n                        break;\n                    }\n                    dstWindow = window;\n                    targetImage = image;\n                }\n                const bandCount = getBandCount(targetImage);\n                if (\n                    !source.bands.every((band) => {\n                        return band >= 1 && band <= bandCount;\n                    })\n                )\n                    throw new Error(\"band's index is out of range.\");\n                const targetSamples = source.bands.map((v) => {\n                    return v - 1;\n                });\n                const data = await targetImage.readRasters({\n                    window: dstWindow,\n                    width: dstWidth,\n                    height: dstHeight,\n                    samples: targetSamples,\n                    fillValue: nodata,\n                    resampleMethod: source.resampleMethod,\n                    pool: getPool(),\n                    interleave: false,\n                });\n                return {\n                    data: Array.isArray(data) ? data : [data],\n                    width: dstWidth,\n                    height: dstHeight,\n                    nodata,\n                    range,\n                };\n            })\n        );\n    }\n\n    async render(props: RenderProps): Promise<ImageData> {\n        const {\n            samples,\n            mode = \"rgb\",\n            layers = [],\n            alpha = true,\n            cmap = \"jet\",\n            width,\n            height,\n        } = props;\n        let orders: number[] = [];\n        let colors: number[][] = [];\n        const mapping: [number, number][] = [];\n        samples.forEach((sample, i) => {\n            sample.bands.forEach((_, j) => {\n                mapping.push([i, j]);\n            });\n        });\n        switch (mode) {\n            case \"rgb\": {\n                orders =\n                    layers.length > 0\n                        ? [\n                            ...(layers ?? []).map((layer) => {\n                                return layer.index;\n                            }),\n                        ]\n                        : [0, 1, 2];\n                if (orders?.length !== 3)\n                    throw new Error(\"layers length must be 3 at rgb mode.\");\n                break;\n            }\n            case \"ndi\": {\n                orders =\n                    layers.length > 0\n                        ? [\n                            ...(layers ?? []).map((layer) => {\n                                return layer.index;\n                            }),\n                        ]\n                        : [0, 1];\n                if (orders?.length !== 2)\n                    throw new Error(\"layers length must be 2 at single mode.\");\n                colors = getColor(cmap);\n                break;\n            }\n            case \"single\": {\n                orders =\n                    layers.length > 0\n                        ? [\n                            ...(layers ?? []).map((layer) => {\n                                return layer.index;\n                            }),\n                        ]\n                        : [0];\n                if (orders?.length !== 1)\n                    throw new Error(\"layers length must be 1 at single mode.\");\n                colors = getColor(cmap);\n                break;\n            }\n            default: {\n                throw new Error(\"Unexpected mode.\");\n            }\n        }\n        orders.forEach((order) => {\n            if (order < 0 || mapping.length <= order)\n                throw new Error(\"layers include out of range index.\");\n        });\n\n        const rasters = await this.getRasters({\n            sources: samples.map((sample) => {\n                return {\n                    width,\n                    height,\n                    ...sample,\n                };\n            }),\n        });\n        const [dstWidth, dstHeight] = [\n            Math.floor(width ?? rasters[0].width),\n            Math.floor(height ?? rasters[0].height),\n        ];\n        const length = dstWidth * dstHeight;\n        const data = new Uint8ClampedArray(length * 4);\n        let dstIndex = 0;\n        for (let i = 0; i < length; i++) {\n            let includeNodata = false;\n            switch (mode) {\n                case \"rgb\": {\n                    for (let j = 0; j < 3; j++) {\n                        const indexes = mapping[orders[j]];\n                        const raster = rasters[indexes[0]];\n                        const layer = indexes[1];\n                        let value = raster.data[layer][i];\n                        if (value === raster.nodata) includeNodata = true;\n                        const [defaultMin, defaultMax] = raster.range;\n                        const min = layers[j]?.min ?? defaultMin;\n                        const max = layers[j]?.max ?? defaultMax;\n                        value = normalize(value, min, max);\n                        data[dstIndex++] = Math.round(255 * value);\n                    }\n                    break;\n                }\n                case \"ndi\": {\n                    const values = [];\n                    for (let j = 0; j < 2; j++) {\n                        const indexes = mapping[j];\n                        const raster = rasters[indexes[0]];\n                        const layer = indexes[1];\n                        let value = raster.data[layer][i];\n                        if (value === raster.nodata) includeNodata = true;\n                        const [defaultMin, defaultMax] = raster.range;\n                        const min = layers[j]?.min ?? defaultMin;\n                        const max = layers[j]?.max ?? defaultMax;\n                        value = normalize(value, min, max);\n                        values.push(value);\n                    }\n                    let normalized = 0;\n                    if (values[1] - values[0] !== 0) {\n                        normalized = (values[0] + values[1]) / (values[0] - values[1]);\n                    }\n                    normalized = normalize(normalized, -1, 1);\n\n                    const pixels = colors[Math.round(255 * normalized)];\n                    data[dstIndex++] = pixels[0];\n                    data[dstIndex++] = pixels[1];\n                    data[dstIndex++] = pixels[2];\n                    break;\n                }\n                case \"single\": {\n                    const indexes = mapping[0];\n                    const raster = rasters[indexes[0]];\n                    const layer = indexes[1];\n                    let value = raster.data[layer][i];\n                    if (value === raster.nodata) includeNodata = true;\n                    const [defaultMin, defaultMax] = raster.range;\n                    const min = layers[0]?.min ?? defaultMin;\n                    const max = layers[0]?.max ?? defaultMax;\n                    value = normalize(value, min, max);\n                    const pixels = colors[Math.round(255 * value)];\n                    data[dstIndex++] = pixels[0];\n                    data[dstIndex++] = pixels[1];\n                    data[dstIndex++] = pixels[2];\n                    break;\n                }\n            }\n            data[dstIndex++] = alpha && includeNodata ? 0 : 255;\n        }\n        return new ImageData(data, dstWidth, dstHeight);\n    }\n}\n","import { getTransformedCoordinates, Layer, RenderMode, Colormap } from \"./index\";\nimport Reader from \"./Reader\";\nimport {\n    CANVAS_MAX_PIXEL,\n    CANVAS_MAX_HEIGHT,\n    CANVAS_MAX_WIDTH,\n} from \"../../constants\";\nimport {\n    adjustSize,\n    clear,\n    rotatePixelExtent,\n} from \"../../utils\";\n\nexport interface SampleConfig {\n    index: number;\n    bands: number[]; // 1-based\n    nodata?: number;\n}\n\nexport interface SourceConfig {\n    index?: number;\n    band?: number; // 1-based\n    nodata?: number;\n    min?: number;\n    max?: number;\n}\n\nexport type CreateProcessorProps = {\n    urls?: string[];\n    files?: File[];\n    cmap?: Colormap;\n    mode?: RenderMode;\n    maxPixel?: number;\n    maxWidth?: number;\n    maxHeight?: number;\n    minSize?: number;\n    sources: SourceConfig[];\n};\n\nexport type Status = \"ready\" | \"empty\";\n\ntype ProcessorProps = {\n    context: CanvasRenderingContext2D;\n    width: number;\n    height: number;\n    mode: RenderMode;\n    cmap: Colormap | null;\n};\n\nexport default class Processor {\n    private context_: CanvasRenderingContext2D | null;\n    width: number;\n    height: number;\n    mode: RenderMode;\n    cmap: Colormap | null;\n    status: Status;\n\n    constructor(options: ProcessorProps) {\n        this.context_ = options.context;\n        this.width = options.width;\n        this.height = options.height;\n        this.mode = options.mode;\n        this.cmap = options.cmap;\n        this.status = \"ready\";\n    }\n\n    getContext(): CanvasRenderingContext2D | null {\n        return this.context_;\n    }\n\n    release(): void {\n        if (this.context_) {\n            clear(this.context_.canvas, this.context_);\n            this.context_ = null;\n            this.status = \"empty\";\n        }\n    }\n\n    static async create(options: CreateProcessorProps): Promise<Processor> {\n        const reader = new Reader({ files: options.files, urls: options.urls });\n        const maxPixel = options?.maxPixel ?? CANVAS_MAX_PIXEL;\n        if (maxPixel > CANVAS_MAX_PIXEL) throw new Error(\"maxPixel is too large.\");\n        const maxHeight = options?.maxHeight ?? CANVAS_MAX_HEIGHT;\n        if (maxHeight > CANVAS_MAX_HEIGHT) throw new Error(\"maxHeight is too large.\");\n        const maxWidth = options?.maxWidth ?? CANVAS_MAX_WIDTH;\n        if (maxWidth > CANVAS_MAX_WIDTH) throw new Error(\"maxWidth is too large.\");\n        const minSize = options?.minSize ?? 1;\n        if (minSize < 1) throw new Error(\"minSize is too small.\");\n\n        const mode = options.mode || \"rgb\";\n        const cmap = options.cmap || null;\n\n        let imageWidth = 0;\n        let imageHeight = 0;\n        let resolutions: number[] = [1, 1];\n        let originExtentAspectRatio = 1;\n        let angle = 0;\n\n        const sources = options.sources || [];\n        const samples: SampleConfig[] = [];\n        const layers: Layer[] = [];\n        const mapping: [number, number, number | undefined, number | undefined][] =\n            [];\n        sources.forEach(({ index = 0, band = 1, nodata, min, max }) => {\n            const existed = samples.findIndex((sample) => {\n                return sample.index === index;\n            });\n            if (existed >= 0 && samples[existed].nodata === nodata) {\n                mapping.push([existed, samples[existed].bands.length, min, max]);\n                samples[existed].bands.push(band);\n            } else {\n                mapping.push([samples.length, 0, min, max]);\n                samples.push({\n                    index,\n                    bands: [band],\n                    nodata,\n                });\n            }\n        });\n        mapping.forEach(([sampleIndex, bandIndex, min, max]) => {\n            let index = 0;\n            for (let i = 0; i < sampleIndex; i++) {\n                index += samples[i].bands.length;\n            }\n            index += bandIndex;\n\n            layers.push({\n                index,\n                min,\n                max,\n            });\n        });\n\n        try {\n            for (let i = 0; i < samples.length; i++) {\n                if (i === 0) {\n                    const image = await reader.getImage(samples[0].index);\n                    if (image) {\n                        imageWidth = image.getWidth();\n                        imageHeight = image.getHeight();\n                        const res = image.getResolution();\n                        resolutions = [Math.abs(res[0]), Math.abs(res[1])];\n                        originExtentAspectRatio =\n                            (imageWidth * resolutions[0]) / (imageHeight * resolutions[1]);\n                        angle = getTransformedCoordinates(image)[1];\n                        if (angle !== 0) angle *= -1; // right-hand to left-hand\n                    }\n                } else {\n                    const image = await reader.getImage(samples[i].index);\n                    if (imageWidth !== image?.getWidth()) {\n                        throw Error(\"can't get image width.\");\n                    }\n                    if (imageHeight !== image?.getHeight()) {\n                        throw Error(\"can't get image height.\");\n                    }\n                }\n            }\n        } catch {\n            throw Error(\"file is something wrong.\");\n        }\n\n        if (imageWidth < imageHeight) {\n            imageHeight = imageWidth / originExtentAspectRatio;\n        } else {\n            imageWidth = imageHeight * originExtentAspectRatio;\n        }\n\n        const rotatedCoordinates = rotatePixelExtent(\n            [0, 0, imageWidth, imageHeight],\n            angle\n        );\n        let rotatedWidth = rotatedCoordinates[2] - rotatedCoordinates[0];\n        let rotatedHeight = rotatedCoordinates[3] - rotatedCoordinates[1];\n\n        [[rotatedWidth, rotatedHeight], [imageWidth, imageHeight]] = adjustSize(\n            [rotatedWidth, rotatedHeight],\n            [imageWidth, imageHeight],\n            maxPixel,\n            maxWidth,\n            maxHeight,\n            minSize\n        );\n\n        const canvas = document.createElement(\"canvas\");\n        const context = canvas.getContext(\"2d\", {\n            storage: \"discardable\",\n        }) as CanvasRenderingContext2D;\n        const tempCanvas = document.createElement(\"canvas\");\n        const tempContext = tempCanvas.getContext(\"2d\", {\n            storage: \"discardable\",\n        }) as CanvasRenderingContext2D;\n        if (!context || !tempContext) {\n            throw Error(\"unexpected error.\");\n        }\n        const image = await reader\n            .render({\n                mode: mode,\n                cmap: cmap || undefined,\n                samples: samples,\n                width: imageWidth,\n                height: imageHeight,\n                layers: layers,\n            });\n        tempCanvas.width = image.width;\n        tempCanvas.height = image.height;\n        tempContext.putImageData(image, 0, 0);\n        canvas.width = rotatedWidth;\n        canvas.height = rotatedHeight;\n        context.save();\n        context.translate(rotatedWidth / 2, rotatedHeight / 2);\n        context.rotate(angle);\n        context.drawImage(\n            tempCanvas,\n            0,\n            0,\n            image.width,\n            image.height,\n            -image.width / 2,\n            -image.height / 2,\n            image.width,\n            image.height\n        );\n        context.restore();\n        clear(tempCanvas, tempContext);\n\n        return new Processor({\n            context,\n            width: rotatedWidth,\n            height: rotatedHeight,\n            mode,\n            cmap,\n        });\n    }\n}","import type { GeoTIFFImage, TypedArray } from \"geotiff\";\nimport colormap from \"colormap\";\nimport { rotate } from \"../../utils\";\n\nexport * as processor from \"./Processor\";\nexport * as profile from \"./Profile\";\nexport { default as Reader } from \"./Reader\";\n\nexport interface Sample {\n    index: number;\n    bands: number[]; // 1-based\n    window?: number[];\n    nodata?: number;\n    resampleMethod?: string;\n}\n\nexport interface Layer {\n    index: number;\n    min?: number;\n    max?: number;\n}\n\nexport interface Source extends Sample {\n    width?: number;\n    height?: number;\n}\n\nexport interface RasterProps {\n    sources: Source[];\n}\n\nexport interface RasterValue {\n    data: TypedArray[];\n    width: number;\n    height: number;\n    nodata: number;\n    range: [number, number];\n}\n\nexport const rendermodes = [\"rgb\", \"single\", \"ndi\"] as const;\nexport type RenderMode = typeof rendermodes[number];\n\nexport interface RenderProps {\n    mode: RenderMode;\n    samples: Sample[];\n    width?: number;\n    height?: number;\n    layers?: Layer[];\n    alpha?: boolean;\n    cmap?: Colormap;\n}\n\nexport const colormaps = [\n    \"jet\",\n    \"hsv\",\n    \"hot\",\n    \"spring\",\n    \"summer\",\n    \"autumn\",\n    \"winter\",\n    \"bone\",\n    \"copper\",\n    \"greys\",\n    \"yignbu\",\n    \"greens\",\n    \"yiorrd\",\n    \"bluered\",\n    \"rdbu\",\n    \"picnic\",\n    \"rainbow\",\n    \"portland\",\n    \"blackbody\",\n    \"earth\",\n    \"electric\",\n    \"alpha\",\n    \"viridis\",\n    \"inferno\",\n    \"magma\",\n    \"plasma\",\n    \"warm\",\n    \"cool\",\n    \"rainbow-soft\",\n    \"bathymetry\",\n    \"cdom\",\n    \"chlorophyll\",\n    \"density\",\n    \"freesurface-blue\",\n    \"freesurface-red\",\n    \"oxygen\",\n    \"par\",\n    \"phase\",\n    \"salinity\",\n    \"temperature\",\n    \"turbidity\",\n    \"velocity-blue\",\n    \"velocity-green\",\n    \"cubehelix\",\n] as const;\n\nexport type Colormap = typeof colormaps[number];\n\nexport const getColor = (cmap: Colormap): [number, number, number, number][] => {\n    return colormap({\n        colormap: cmap,\n        nshades: 256,\n        format: \"rgba\",\n        alpha: 1,\n    });\n};\n\nexport function getTransformedCoordinates(\n    image: GeoTIFFImage\n): [[number, number, number, number], number] {\n    let affin: number[] | null = null;\n    if (image.getFileDirectory()?.ModelTransformation) {\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment,@typescript-eslint/no-unsafe-member-access\n        const transformation = image.getFileDirectory().ModelTransformation;\n        // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n        affin = [\n            transformation[0],\n            transformation[1],\n            transformation[3],\n            transformation[4],\n            transformation[5],\n            transformation[7],\n        ];\n    }\n    if (!affin) return [image.getBoundingBox() as [number, number, number, number], 0];\n\n    const imageWidth = image.getWidth();\n    const imageHeight = image.getHeight();\n    return rotate([imageWidth, imageHeight], affin);\n}\n\nexport function getBandCount(image: GeoTIFFImage): number {\n    return image.getBytesPerPixel() / (image.getBitsPerSample() / 8);\n}\n\nexport function getCode(image: GeoTIFFImage): string | null {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const geoKeys = image?.geoKeys;\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    if (geoKeys?.ProjectedCSTypeGeoKey) {\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands,@typescript-eslint/no-unsafe-member-access\n        return \"EPSG:\" + geoKeys.ProjectedCSTypeGeoKey;\n    }\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    if (geoKeys?.GeographicTypeGeoKey) {\n        // eslint-disable-next-line @typescript-eslint/restrict-plus-operands,@typescript-eslint/no-unsafe-member-access\n        return \"EPSG:\" + geoKeys.GeographicTypeGeoKey;\n    }\n    return null;\n}\n\nexport function getUnit(image: GeoTIFFImage): string | null {\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n    const geoKeys = image?.geoKeys;\n    // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access\n    switch (geoKeys?.ProjLinearUnitsGeoKey) {\n        case 9001: {\n            return \"m\";\n        }\n        case 9002: {\n            return \"ft\";\n        }\n        case 9003: {\n            return \"us-ft\";\n        }\n        case 9101: {\n            return \"radians\";\n        }\n        case 9102: {\n            return \"degrees\";\n        }\n    }\n    return null;\n}\n\nexport function getDataRange(image: GeoTIFFImage): [number, number] | null {\n    /*\n        respect\n            https://github.com/openlayers/openlayers/blob/v6.15.0/src/ol/source/GeoTIFF.js\n            https://github.com/geotiffjs/geotiff.js/blob/v2.0.5/src/geotiffimage.js#L44\n    */\n    const format = image.getSampleFormat();\n    const bitsPerSample = image.getBitsPerSample();\n\n    switch (format) {\n        case 1: // unsigned integer data\n            if (bitsPerSample <= 8) {\n                return [0, 255];\n            } else if (bitsPerSample <= 16) {\n                return [0, 65535];\n            } else if (bitsPerSample <= 32) {\n                return [0, 4294967295];\n            }\n            break;\n        case 2: // twos complement signed integer data\n            if (bitsPerSample === 8) {\n                return [-128, 127];\n            } else if (bitsPerSample === 16) {\n                return [-32768, 32767];\n            } else if (bitsPerSample === 32) {\n                return [-2147483648, 2147483647];\n            }\n            break;\n        case 3: // floating point data\n            switch (bitsPerSample) {\n                case 16:\n                case 32:\n                    return [-3.4e38, 3.4e38];\n                case 64:\n                    return [-Number.MAX_VALUE, Number.MAX_VALUE];\n                default:\n                    break;\n            }\n            break;\n        default:\n            break;\n    }\n    return null;\n}\n","import { fromUrl, fromBlob } from \"geotiff\";\nimport {\n    getDataRange,\n    getBandCount,\n    getCode,\n    getUnit,\n    getTransformedCoordinates,\n} from \"./index\";\nimport {\n    rotatePixelExtent,\n} from \"../../utils\";\n\nexport interface Profile {\n    width: number; // affined\n    height: number; // affined\n    resolutions: [number, number]; // affined\n    bbox: [number, number, number, number];\n    bands: number;\n    nodata: number | null;\n    unit: string | null;\n    code: string | null;\n    range: [number, number] | null;\n}\n\nexport async function getProfile(source: File | string, imageIndex = 0): Promise<Profile> {\n    const tiff =\n        typeof source === \"string\"\n            ? await fromUrl(source)\n            : await fromBlob(source);\n    const image = await tiff.getImage(imageIndex);\n    const bands = getBandCount(image);\n    const code = getCode(image);\n    const unit = getUnit(image);\n    const range = getDataRange(image);\n    const nodata = image.getGDALNoData();\n    const width = image.getWidth();\n    const height = image.getHeight();\n\n    let imageExtent: [number, number, number, number] = [Infinity, Infinity, -Infinity, -Infinity];\n    let angle = 0;\n\n    [imageExtent, angle] = getTransformedCoordinates(image);\n    if (angle !== 0) angle *= -1; // right-hand to left-hand\n\n    const rotatedCoordinates = rotatePixelExtent(\n        [0, 0, width, height],\n        angle\n    );\n    const rotatedWidth = Math.round(rotatedCoordinates[2] - rotatedCoordinates[0]);\n    const rotatedHeight = Math.round(rotatedCoordinates[3] - rotatedCoordinates[1]);\n\n    const resolutions: [number, number] = [\n        (imageExtent[2] - imageExtent[0]) / rotatedWidth,\n        (imageExtent[3] - imageExtent[1]) / rotatedHeight,\n    ];\n\n    return {\n        width: rotatedWidth,\n        height: rotatedHeight,\n        bbox: imageExtent,\n        resolutions,\n        bands,\n        nodata,\n        unit,\n        code,\n        range,\n    };\n}\n","import { utils } from \"geo4326\";\nimport { Extent } from \"ol/extent\";\nimport ImageTile from \"ol/ImageTile\";\nimport { transform, get as getProjection, Projection } from \"ol/proj\";\nimport { register } from \"ol/proj/proj4\";\nimport Tile from \"ol/Tile\";\nimport { DEFAULT_TILE_SIZE } from \"ol/tilegrid/common\";\nimport TileGrid from \"ol/tilegrid/TileGrid\";\nimport TileState from \"ol/TileState\";\nimport proj4 from \"proj4\";\n\nimport {\n    EXTENT,\n    CANVAS_MAX_PIXEL,\n    CANVAS_MAX_HEIGHT,\n    CANVAS_MAX_WIDTH,\n} from \"../constants\";\nimport { getProfile, Profile } from \"../reader/geotiff/Profile\";\nimport Processor, { CreateProcessorProps } from \"../reader/geotiff/Processor\";\nimport {\n    is4326,\n    is3857,\n    resolutionsFromExtent,\n    getWindow,\n    crossing,\n    clear,\n} from \"../utils\";\nimport { BaseSource, Options as BaseOptions } from \"./Base\";\n\nexport type { SampleConfig, SourceConfig } from \"../reader/geotiff/Processor\";\n\nexport type GeoTIFFProps = {\n    minZoom?: number;\n    maxZoom?: number;\n    tileSize?: number;\n} & Omit<CreateProcessorProps, \"minSize\"> & Omit<BaseOptions,\n    \"tileGrid\" | \"tileLoadFunction\" | \"tilePixelRatio\" | \"tileUrlFunction\" |\n    \"crossOrigin\" | \"projection\" | \"state\" | \"url\" | \"urls\">;\n\nexport default class GeoTIFF extends BaseSource {\n    private processor_: Processor | null;\n    private tileSize_: number;\n    private isGlobalGrid_: boolean;\n    private imageExtent_: Extent | null;\n    private gridExtent_: Extent | null;\n    private profile_: Profile | null;\n\n    constructor(userOptions: GeoTIFFProps) {\n        const options = Object.assign({\n            maxPixel: CANVAS_MAX_PIXEL,\n            maxWidth: CANVAS_MAX_WIDTH,\n            maxHeight: CANVAS_MAX_HEIGHT,\n            tileSize: DEFAULT_TILE_SIZE,\n            wrapX: true,\n        }, userOptions);\n        if (options.maxPixel > CANVAS_MAX_PIXEL) throw new Error(\"maxPixel is too large.\");\n        if (options.maxHeight > CANVAS_MAX_HEIGHT)\n            throw new Error(\"maxHeight is too large.\");\n        if (options.maxWidth > CANVAS_MAX_WIDTH) throw new Error(\"maxWidth is too large.\");\n        const tileSize = options.tileSize\n        if (tileSize < 256) throw new Error(\"tileSize is too small.\");\n\n        const tileLoadFunction = (imageTile: Tile, coordString: string) => {\n            const [z, x, y] = coordString.split(\",\").map(Number);\n            const canvas = document.createElement(\"canvas\");\n            const context = canvas.getContext(\"2d\", {\n                storage: \"discardable\",\n            }) as CanvasRenderingContext2D;\n            const tempCanvas = document.createElement(\"canvas\");\n            const tempContext = tempCanvas.getContext(\"2d\", {\n                storage: \"discardable\",\n            }) as CanvasRenderingContext2D;\n            const context_ = this.processor_?.getContext();\n            if (\n                !this.imageExtent_ ||\n                !this.gridExtent_ ||\n                !context_ ||\n                !context ||\n                !tempContext\n            ) {\n                imageTile.setState(TileState.ERROR);\n                return;\n            }\n            canvas.width = this.tileSize_;\n            canvas.height = this.tileSize_;\n\n            const window = getWindow(\n                this.isGlobalGrid_ ? this.gridExtent_ : this.imageExtent_,\n                z,\n                x,\n                y\n            );\n            let tileLeft = window[0];\n            let tileRight = window[2];\n            const tileTop = window[1];\n            const tileBottom = window[3];\n            const [\n                imageExtentLeft,\n                imageExtentBottom,\n                imageExtentRight,\n                imageExtentTop,\n            ] = this.imageExtent_;\n\n            if (this.isGlobalGrid_) {\n                const extentWidth = this.gridExtent_[2] - this.gridExtent_[0];\n                if (imageExtentLeft < this.gridExtent_[0] && tileRight > 0) {\n                    tileLeft -= extentWidth;\n                    tileRight -= extentWidth;\n                } else if (this.gridExtent_[2] < imageExtentRight && tileLeft < 0) {\n                    tileLeft += extentWidth;\n                    tileRight += extentWidth;\n                }\n\n                if (\n                    !crossing(\n                        [\n                            imageExtentLeft,\n                            imageExtentBottom,\n                            imageExtentRight,\n                            imageExtentTop,\n                        ],\n                        [tileLeft, tileBottom, tileRight, tileTop]\n                    )\n                ) {\n                    imageTile.setState(TileState.EMPTY);\n                    return;\n                }\n            }\n\n            const sourcePerPixel = [\n                (imageExtentRight - imageExtentLeft) / context_.canvas.width,\n                (imageExtentTop - imageExtentBottom) / context_.canvas.height,\n            ];\n            const tilePerPixel = [\n                (tileRight - tileLeft) / this.tileSize_,\n                (tileTop - tileBottom) / this.tileSize_,\n            ];\n            const leftBottom = [\n                Math.max(tileLeft, imageExtentLeft),\n                Math.max(imageExtentBottom, tileBottom),\n            ];\n            const rightTop = [\n                Math.min(tileRight, imageExtentRight),\n                Math.min(imageExtentTop, tileTop),\n            ];\n            const tileRect = [\n                Math.round((leftBottom[0] - tileLeft) / tilePerPixel[0]),\n                Math.round((tileTop - rightTop[1]) / tilePerPixel[1]),\n                Math.round((rightTop[0] - tileLeft) / tilePerPixel[0]),\n                Math.round((tileTop - leftBottom[1]) / tilePerPixel[1]),\n            ];\n            const sourceRect = [\n                Math.round((leftBottom[0] - imageExtentLeft) / sourcePerPixel[0]),\n                Math.round((imageExtentTop - rightTop[1]) / sourcePerPixel[1]),\n                Math.round((rightTop[0] - imageExtentLeft) / sourcePerPixel[0]),\n                Math.round((imageExtentTop - leftBottom[1]) / sourcePerPixel[1]),\n            ];\n            const sourceRectSize = [\n                sourceRect[2] - sourceRect[0],\n                sourceRect[3] - sourceRect[1],\n            ];\n            const tileRectSize = [\n                tileRect[2] - tileRect[0],\n                tileRect[3] - tileRect[1],\n            ];\n            if (Math.min(...sourceRectSize, ...tileRectSize) <= 0) {\n                imageTile.setState(TileState.EMPTY);\n                return;\n            }\n            tempCanvas.width = sourceRectSize[0];\n            tempCanvas.height = sourceRectSize[1];\n            tempContext.putImageData(\n                context_.getImageData(\n                    sourceRect[0],\n                    sourceRect[1],\n                    sourceRectSize[0],\n                    sourceRectSize[1]\n                ),\n                0,\n                0\n            );\n            context.drawImage(\n                tempCanvas,\n                0,\n                0,\n                sourceRectSize[0],\n                sourceRectSize[1],\n                tileRect[0],\n                tileRect[1],\n                tileRectSize[0],\n                tileRectSize[1]\n            );\n\n            const src = canvas.toDataURL();\n            ((imageTile as ImageTile).getImage() as HTMLImageElement).src = src;\n\n            clear(tempCanvas, tempContext);\n            clear(canvas, context);\n        };\n        super(Object.assign({}, options, {\n            state: \"loading\",\n            tileLoadFunction,\n            url: \"{z},{x},{y}\",\n        }) as BaseOptions);\n\n        this.processor_ = null;\n        this.isGlobalGrid_ = false;\n        this.imageExtent_ = null;\n        this.gridExtent_ = null;\n        this.profile_ = null;\n        this.tileSize_ = tileSize;\n        this.setup_(options);\n    }\n\n    getBoundingBox(dstCode?: string): number[] | null {\n        const originExtent = this.imageExtent_;\n        const srcCode = this.profile_?.code;\n        if (!originExtent || !srcCode) return null;\n        if (!dstCode) return originExtent;\n\n        let dstProjection = getProjection(dstCode);\n        if (!dstProjection) {\n            try {\n                const crs = utils.getCrs(dstCode);\n                proj4.defs(dstCode, crs);\n                register(proj4);\n                dstProjection = getProjection(dstCode);\n            } catch {\n                throw new Error(\"Unsupported projection.\");\n            }\n        }\n        const checkedDstCode = dstProjection?.getCode();\n        if (!checkedDstCode) return null;\n        if (!dstCode || srcCode === checkedDstCode) return originExtent;\n\n        const transformed = [\n            ...transform([originExtent[0], originExtent[1]], srcCode, checkedDstCode),\n            ...transform([originExtent[2], originExtent[3]], srcCode, checkedDstCode),\n        ];\n        const worldExtent = is4326(checkedDstCode)\n            ? EXTENT[4326]\n            : is3857(checkedDstCode)\n                ? EXTENT[3857]\n                : null;\n        if (transformed[0] > transformed[2] && worldExtent) {\n            transformed[2] += worldExtent[2] - worldExtent[0];\n        }\n        return transformed;\n    }\n\n    getSize(): number[] | null {\n        if (this.processor_) return [this.processor_.width, this.processor_.height];\n        return null;\n    }\n\n    release(): void {\n        if (this.processor_) {\n            this.processor_.release();\n            this.setState(\"undefined\");\n        }\n    }\n\n    private async setup_(options: GeoTIFFProps): Promise<void> {\n        if (options.files)\n            this.profile_ = await getProfile(options.files[0]);\n        else if (options.urls)\n            this.profile_ = await getProfile(options.urls[0]);\n        if (!this.profile_) {\n            this.setState(\"error\");\n            return;\n        }\n\n        const code = this.profile_.code;\n        const unit = this.profile_.unit;\n        const imageExtent = this.profile_.bbox;\n        let projection = code ? getProjection(code) : null;\n        if (!projection) {\n            if (code) {\n                try {\n                    const crs = utils.getCrs(code);\n                    proj4.defs(code, crs);\n                    register(proj4);\n                    projection = getProjection(code);\n                } catch {\n                    if (unit) {\n                        projection = new Projection({\n                            code: code,\n                            units: unit,\n                        });\n                    }\n                }\n            }\n        }\n        if (!projection || !code) {\n            this.setState(\"error\");\n            return;\n        }\n        this.projection = projection;\n        let gridExtent: Extent = [...imageExtent];\n        let gridExtentWidth = gridExtent[2] - gridExtent[0];\n        let gridExtentHeight = gridExtent[3] - gridExtent[1];\n\n        if (options.wrapX) {\n            const globalGridExtent = is4326(code)\n                ? EXTENT[4326]\n                : is3857(code)\n                    ? EXTENT[3857]\n                    : null;\n            if (globalGridExtent) {\n                gridExtent = globalGridExtent;\n                gridExtentWidth = gridExtent[2] - gridExtent[0];\n                gridExtentHeight = gridExtent[3] - gridExtent[1];\n                if (\n                    imageExtent[0] < gridExtent[0] - gridExtentWidth / 2 ||\n                    gridExtent[2] + gridExtentWidth / 2 < imageExtent[0] ||\n                    imageExtent[1] < gridExtent[1] ||\n                    gridExtent[3] < imageExtent[1] ||\n                    imageExtent[2] < gridExtent[0] - gridExtentWidth / 2 ||\n                    gridExtent[2] + gridExtentWidth / 2 < imageExtent[2] ||\n                    imageExtent[3] < gridExtent[1] ||\n                    gridExtent[3] < imageExtent[3] ||\n                    imageExtent[2] <= imageExtent[0] ||\n                    imageExtent[0] - imageExtent[2] > gridExtentWidth\n                ) {\n                    this.setState(\"error\");\n                    return;\n                }\n                this.isGlobalGrid_ = true;\n            }\n        }\n        this.imageExtent_ = imageExtent;\n        this.gridExtent_ = gridExtent;\n\n        const maxResolution =\n            Math.max(gridExtentWidth, gridExtentHeight) / this.tileSize_;\n        const tileGrid = new TileGrid({\n            extent: gridExtent,\n            tileSize: this.tileSize_,\n            minZoom: options.minZoom,\n            resolutions: resolutionsFromExtent(gridExtent, {\n                maxZoom: options.maxZoom,\n                tileSize: this.tileSize_,\n                maxResolution,\n            }),\n        });\n\n        if (!tileGrid) {\n            this.setState(\"error\");\n            return;\n        }\n        this.tileGrid = tileGrid;\n\n        const createOptions: CreateProcessorProps = Object.assign({}, options);\n        try {\n            createOptions.minSize = this.tileSize_;\n            this.processor_ = await Processor.create(createOptions);\n        } catch {\n            this.setState(\"error\");\n            return;\n        }\n\n        this.setState(\"ready\");\n    }\n}\n","import * as React from \"react\";\nimport { Helmet } from \"react-helmet-async\";\nimport {\n  useForm,\n  useFieldArray,\n  SubmitHandler,\n  Controller,\n} from \"react-hook-form\";\nimport CssBaseline from \"@mui/material/CssBaseline\";\nimport {\n  Container,\n  Typography,\n  Stack,\n  Grid,\n  TextField,\n  Button,\n  Tooltip,\n  FormControl,\n  Select,\n  InputLabel,\n  MenuItem,\n  FormHelperText,\n  CircularProgress,\n} from \"@mui/material\";\nimport { styled } from \"@mui/system\";\n\nimport { Map, View } from \"ol\";\nimport \"ol/ol.css\";\nimport { defaults as defaultInteraction } from \"ol/interaction\";\nimport { defaults as defaultControls, Attribution, Control } from \"ol/control\";\nimport TileLayer from \"ol/layer/Tile\";\nimport OSM from \"ol/source/OSM\";\nimport { fromLonLat, get as getProjection, transform } from \"ol/proj\";\nimport proj4 from \"proj4\";\nimport { register as olRegister } from \"ol/proj/proj4\";\nimport { utils } from \"geo4326\";\n\nimport GeoTIFFSource from \"../../source/GeoTIFF\";\nimport { colormaps, rendermodes, RenderMode, Colormap } from \"../../reader/geotiff\";\nimport { CANVAS_MAX_PIXEL } from \"../../constants\";\n\nconst FileInputWrapper = styled(\"dl\")({\n  margin: \"0 0 50px\",\n  \"&>dt\": {\n    fontSize: \"14px\",\n    margin: \"0 0 5px\",\n  },\n  \"&>dd\": {\n    margin: 0,\n  },\n});\n\nconst CodeStatus = styled(\"div\")({\n  fontSize: \"12px\",\n  marginTop: \"10px\",\n  marginLeft: \"2px\",\n});\n\nconst CodeInput = styled(\"div\")({\n  display: \"flex\",\n  marginTop: \"10px\",\n  alignItems: \"center\",\n  \"& > *\": {\n    flex: \"0 0 auto\",\n    marginRight: \"5px\",\n  },\n});\n\nconst Config = styled(\"dl\")({\n  display: \"flex\",\n  \"&>dt\": {\n    fontSize: \"12px\",\n    flex: \"0 0 auto\",\n    marginRight: \"20px\",\n  },\n  \"&>dd\": {\n    marginLeft: \"0px\",\n  },\n});\n\nconst Buttons = styled(\"ul\")({\n  listStyle: \"none\",\n  margin: 0,\n  padding: 0,\n  display: \"flex\",\n  \"&>*\": {\n    marginRight: \"10px\",\n  },\n});\n\nconst LayerDetail = styled(\"div\")({\n  marginLeft: \"20px\",\n});\n\nconst EllipsisWrapper = styled(\"div\")({\n  overflow: \"hidden\",\n});\n\nconst EllipsisTypography = styled(Typography)({\n  overflow: \"hidden\",\n  whiteSpace: \"nowrap\",\n  textOverflow: \"ellipsis\",\n});\n\nconst LayerName = styled(EllipsisWrapper)({\n  flex: \"1 1 auto\",\n});\n\nconst LayerButton = styled(\"div\")({\n  flex: \"0 0 auto\",\n});\n\nconst StyledUl = styled(\"ul\")({\n  listStyle: \"none\",\n  margin: 0,\n  padding: 0,\n  \"& > li\": {\n    marginTop: \"5px\",\n    \"&:firstChild\": {\n      marginTop: 0,\n    },\n  },\n});\n\ninterface Input {\n  mode: RenderMode;\n  maxPixel: string;\n  cmap: Colormap;\n  sources: {\n    index: string;\n    band: string;\n    nodata: string;\n    min: string;\n    max: string;\n  }[];\n}\n\ntype FormError = \"SourceNumber\" | \"SourceError\" | \"Duplicate\";\n\ninterface SourceConf {\n  file: string;\n  nodata: number;\n  band: number;\n  min: number;\n  max: number;\n}\n\ninterface LayerConf {\n  layer: TileLayer<GeoTIFFSource>;\n  sources: SourceConf[];\n  id: string;\n  mode: RenderMode;\n  maxPixel: number;\n  cmap?: Colormap;\n}\n\nconst defaultSourcesValue = {\n  index: \"0\",\n  band: \"1\",\n  nodata: \"0\",\n  min: \"0\",\n  max: \"255\",\n};\n\nfunction useOl(props?: {\n  center?: number[];\n  zoom?: number;\n  projection?: string;\n}): {\n  ref: React.RefObject<HTMLDivElement>;\n  map: Map | undefined;\n} {\n  const { center = fromLonLat([0, 0]), zoom = 1, projection } = { ...props };\n\n  const initialized = React.useRef(false);\n  const ref = React.useRef<HTMLDivElement>(null);\n  const [map, setMap] = React.useState<Map>();\n\n  React.useEffect(() => {\n    if (initialized.current || !ref.current) return;\n    const attribution = new Attribution({\n      collapsible: false,\n    });\n    const controls: Control[] = [attribution];\n    const map = new Map({\n      target: ref.current,\n      layers: [\n        new TileLayer({\n          source: new OSM(),\n        }),\n      ],\n      view: new View({\n        center,\n        zoom,\n        projection,\n      }),\n      interactions: defaultInteraction({\n        altShiftDragRotate: false,\n        pinchRotate: false,\n      }),\n      controls: defaultControls({\n        attribution: false,\n        zoom: false,\n        rotate: false,\n      }).extend(controls),\n    });\n    setMap(map);\n    initialized.current = true;\n  }, [center, zoom, projection]);\n\n  return {\n    ref,\n    map,\n  };\n}\n\nconst Viewer = (): React.ReactElement => {\n  const ol = useOl();\n  const [layerConfs, setLayerConfs] = React.useState<LayerConf[]>([]);\n  const [filelist, setFilelist] = React.useState<File[]>([]);\n  const [error, setError] = React.useState<FormError | null>(null);\n  const [loading, setLoading] = React.useState(false);\n  const [reprojection, setReprojection] = React.useState(false);\n  const [projection, setProjection] = React.useState<{\n    code: string;\n    error: boolean;\n  }>({\n    code: \"EPSG:3857\",\n    error: false,\n  });\n  const codeRef = React.useRef<HTMLInputElement>();\n\n  const changeMapProjection = React.useCallback(\n    (code: string) => {\n      if (!getProjection(code)) {\n        try {\n          const crs = utils.getCrs(code);\n          proj4.defs(code, crs);\n        } catch {\n          setProjection((prev) => {\n            return {\n              code: prev.code,\n              error: true,\n            };\n          });\n          return;\n        }\n        olRegister(proj4);\n      }\n      if (ol.map) {\n        const view = ol.map.getView();\n        const prevProjection = view.getProjection();\n        const prevCode = prevProjection?.getCode();\n        if (code !== prevCode) {\n          const projection = getProjection(code);\n          if (projection) {\n            const center = view.getCenter();\n            ol.map.setView(\n              new View({\n                center: transform(center ?? [0, 0], prevCode, code),\n                zoom: view.getZoom() || 0,\n                projection,\n              })\n            );\n          }\n        }\n        setProjection({\n          code,\n          error: false,\n        });\n      }\n    },\n    [ol.map]\n  );\n\n  const { control, handleSubmit, reset, watch } = useForm<Input>({\n    mode: \"onSubmit\",\n    criteriaMode: \"all\",\n    defaultValues: {\n      mode: \"rgb\",\n      cmap: \"jet\",\n      maxPixel: \"1000000\",\n      sources: [\n        { ...defaultSourcesValue, band: \"1\" },\n        { ...defaultSourcesValue, band: \"2\" },\n        { ...defaultSourcesValue, band: \"3\" },\n      ],\n    },\n  });\n\n  const { fields } = useFieldArray({\n    name: \"sources\",\n    control,\n  });\n\n  const removeLayer = React.useCallback(\n    (id: string) => {\n      setLayerConfs((layerConfs) => {\n        const newLayerConfs = [...layerConfs];\n        const index = newLayerConfs.findIndex((layerConf) => {\n          return id === layerConf.id;\n        });\n        const target = newLayerConfs[index];\n        if (target) {\n          if (ol.map) {\n            const source = target.layer.getSource();\n            if (source) source.release();\n            ol.map.removeLayer(target.layer);\n\n            newLayerConfs.splice(index, 1);\n            return newLayerConfs;\n          }\n        }\n        return newLayerConfs;\n      });\n    },\n    [ol.map]\n  );\n\n  const onSubmit: SubmitHandler<Input> = React.useCallback(\n    (data) => {\n      let id = \"\";\n      const sourceConfigs: SourceConf[] = [];\n\n      for (let i = 0; i < data.sources.length; i++) {\n        const source = data.sources[i];\n        const addedId = filelist[Number(source.index)].name;\n\n        if (addedId.length > 0) {\n          id +=\n            addedId +\n            \"_\" +\n            source.band +\n            \"_\" +\n            source.min +\n            \"_\" +\n            source.max +\n            \"_\" +\n            source.nodata;\n        }\n\n        sourceConfigs.push({\n          file: filelist[Number(source.index)].name || \"\",\n          min: Number(source.min),\n          max: Number(source.max),\n          band: Number(source.band),\n          nodata: Number(source.nodata),\n        });\n      }\n      if (data.cmap.length > 0) id += \"_\" + data.cmap;\n      const index = layerConfs.findIndex((layerConf) => {\n        return id === layerConf.id;\n      });\n      if (index >= 0) {\n        setError(\"Duplicate\");\n        return;\n      }\n      if (!ol.map) return;\n\n      setLoading(true);\n      try {\n        const source = new GeoTIFFSource({\n          files: filelist,\n          mode: data.mode,\n          maxPixel: Number(data.maxPixel),\n          cmap: data.cmap || undefined,\n          wrapX: true,\n          sources: data.sources.map((source) => {\n            return {\n              index: Number(source.index),\n              min: Number(source.min),\n              max: Number(source.max),\n              band: Number(source.band),\n              nodata: Number(source.nodata),\n            };\n          }),\n        });\n        const fitting = () => {\n          if (ol.map) {\n            const code = ol.map.getView().getProjection().getCode();\n            const extent = source.getBoundingBox(code);\n            if (extent)\n              ol.map.getView().fit(extent, {\n                padding: [40, 20, 40, 20],\n                maxZoom: 20,\n              });\n          }\n        };\n        const setting = () => {\n          const sourceState = source.getState();\n          if (sourceState === \"ready\") {\n            if (!ol.map) return;\n            const layer = new TileLayer({\n              source,\n            });\n            ol.map.addLayer(layer);\n            fitting();\n            reset();\n            setFilelist([]);\n            setLayerConfs((layerConfs) => {\n              return [\n                ...layerConfs,\n                {\n                  id,\n                  layer,\n                  sources: sourceConfigs,\n                  mode: data.mode,\n                  maxPixel: Number(data.maxPixel),\n                  cmap: data.cmap || undefined,\n                },\n              ];\n            });\n          }\n          if (sourceState === \"error\") {\n            setError(\"SourceError\");\n          }\n          setLoading(false);\n        };\n        if (source.getState() === \"ready\") {\n          setting();\n        } else {\n          const sourceListener = () => {\n            const sourceState = source.getState();\n            if (sourceState !== \"loading\") {\n              source.removeEventListener(\"change\", sourceListener);\n              setting();\n            }\n          };\n          source.addEventListener(\"change\", sourceListener);\n        }\n      } catch {\n        setError(\"SourceError\");\n      }\n    },\n    [filelist, ol.map, layerConfs, reset]\n  );\n  const watcher = watch();\n\n  return (\n    <>\n      <CssBaseline />\n      <Helmet>\n        <title>ol-processed-source / Display Local GeoTIFF File</title>\n        <meta name=\"description\" content=\"Display local GeoTIFF file on map.\" />\n        <link\n          rel=\"canonical\"\n          href=\"https://yonda-yonda.github.io/ol-processed-source/geotiff\"\n        />\n        <link\n          rel=\"icon\"\n          type=\"image/x-icon\"\n          href=\"https://github.githubassets.com/favicon.ico\"\n        />\n        <link\n          rel=\"stylesheet\"\n          href=\"https://fonts.googleapis.com/css?family=Roboto:300,400,500,700&display=swap\"\n        />\n      </Helmet>\n      <Container>\n        <Typography variant=\"h2\" component=\"h1\">\n          ol-processed-source\n          <br /> Display Local GeoTIFF File\n        </Typography>\n        <Stack my={4} spacing={4}>\n          <Grid container spacing={2}>\n            <Grid item xs={9}>\n              <div style={{ position: \"relative\" }}>\n                <div\n                  ref={ol.ref}\n                  style={{\n                    width: \"100%\",\n                    height: \"340px\",\n                  }}\n                />\n\n                {!reprojection ? (\n                  <div>\n                    <CodeStatus>view at {projection.code}</CodeStatus>\n                    <Button\n                      size=\"small\"\n                      variant=\"outlined\"\n                      type=\"button\"\n                      onClick={() => {\n                        setReprojection(true);\n                      }}\n                    >\n                      Reprojection\n                    </Button>\n                  </div>\n                ) : (\n                  <div>\n                    <CodeInput>\n                      <div>\n                        <TextField\n                          inputRef={codeRef}\n                          label=\"MapCode\"\n                          placeholder=\"EPSG:4326\"\n                          size=\"small\"\n                        />\n                      </div>\n                      <div>\n                        <Button\n                          variant=\"contained\"\n                          type=\"button\"\n                          onClick={() => {\n                            changeMapProjection(codeRef.current?.value || \"\");\n                          }}\n                        >\n                          Change\n                        </Button>\n                      </div>\n                      <div>\n                        <Button\n                          variant=\"outlined\"\n                          type=\"button\"\n                          onClick={() => {\n                            setReprojection(false);\n                            setProjection((prev) => {\n                              return {\n                                code: prev.code,\n                                error: false,\n                              };\n                            });\n                          }}\n                        >\n                          cancel\n                        </Button>\n                      </div>\n                    </CodeInput>\n                    {projection.error && (\n                      <FormHelperText>Unsupported Code.</FormHelperText>\n                    )}\n                  </div>\n                )}\n              </div>\n            </Grid>\n            <Grid item xs={3}>\n              {layerConfs.length > 0 ? (\n                <StyledUl>\n                  {layerConfs.map((item, i) => {\n                    return (\n                      <li key={String(i)}>\n                        <Stack\n                          direction=\"row\"\n                          spacing={1}\n                          justifyContent=\"space-between\"\n                          alignItems=\"center\"\n                        >\n                          <LayerName>\n                            <Tooltip\n                              title={\n                                <div>\n                                  {item.sources.map((source, i) => {\n                                    return (\n                                      <Typography\n                                        key={i}\n                                        variant=\"caption\"\n                                        display=\"block\"\n                                      >\n                                        {source.file}\n                                        <LayerDetail>\n                                          band: {source.band}\n                                          <br />\n                                          range:{\" \"}\n                                          {`${source.min} to ${source.max}`}\n                                          <br />\n                                          nodata: {source.nodata}\n                                        </LayerDetail>\n                                      </Typography>\n                                    );\n                                  })}\n                                  <Typography variant=\"caption\" display=\"block\">\n                                    Mode: {item.mode}\n                                  </Typography>\n                                  {item.cmap && (\n                                    <Typography\n                                      variant=\"caption\"\n                                      display=\"block\"\n                                    >\n                                      Color Map: {item.cmap}\n                                    </Typography>\n                                  )}\n                                  <Typography variant=\"caption\" display=\"block\">\n                                    Max Pixel: {item.maxPixel}px\n                                  </Typography>\n                                </div>\n                              }\n                              arrow\n                              placement=\"left\"\n                            >\n                              <EllipsisTypography variant=\"body2\">\n                                {(Array.from(\n                                  new Set(\n                                    item.sources.map((source) => {\n                                      return source.file;\n                                    })\n                                  )\n                                ) as string[]).reduce((prev, name) => {\n                                  return (\n                                    prev + (prev.length > 0 ? \",\" : \"\") + name\n                                  );\n                                }, \"\")}\n                              </EllipsisTypography>\n                            </Tooltip>\n                          </LayerName>\n                          <LayerButton>\n                            <Button\n                              size=\"small\"\n                              variant=\"outlined\"\n                              onClick={() => {\n                                removeLayer(item.id);\n                              }}\n                            >\n                              REMOVE\n                            </Button>\n                          </LayerButton>\n                        </Stack>\n                      </li>\n                    );\n                  })}\n                </StyledUl>\n              ) : (\n                <Typography>Nothing to display.</Typography>\n              )}\n              {loading && <CircularProgress size={18} sx={{ mt: 1 }} />}\n            </Grid>\n          </Grid>\n          <hr />\n          <form onSubmit={handleSubmit(onSubmit)}>\n            <FileInputWrapper>\n              <dt>Read File</dt>\n              <dd>\n                <input\n                  name=\"file\"\n                  type=\"file\"\n                  accept=\".tiff,image/tiff\"\n                  onChange={(e) => {\n                    if (e.target.files) {\n                      const file = e.target.files[0] || undefined;\n                      if (file) {\n                        setFilelist((prev) => {\n                          return [...prev, file];\n                        });\n                        e.target.value = \"\";\n                        reset({\n                          mode: \"rgb\",\n                          cmap: \"jet\",\n                          maxPixel: \"10000000\",\n                          sources: [\n                            {\n                              ...defaultSourcesValue,\n                              band: \"1\",\n                            },\n                            {\n                              ...defaultSourcesValue,\n                              band: \"2\",\n                            },\n                            {\n                              ...defaultSourcesValue,\n                              band: \"3\",\n                            },\n                          ],\n                        });\n                      }\n                    }\n                  }}\n                  disabled={filelist.length > 2 || loading || loading}\n                />\n              </dd>\n            </FileInputWrapper>\n            {filelist.length > 0 && (\n              <Grid container spacing={4} sx={{ mb: 4 }}>\n                <Grid item xs={12}>\n                  <Controller\n                    control={control}\n                    name=\"mode\"\n                    render={({ field, fieldState: { error } }) => (\n                      <FormControl error={!!error} fullWidth size=\"small\">\n                        <InputLabel>Renderer Mode</InputLabel>\n                        <Select\n                          {...field}\n                          disabled={loading}\n                          onChange={(v) => {\n                            const mode = v.target.value;\n\n                            switch (mode) {\n                              case \"rgb\": {\n                                reset({\n                                  mode: \"rgb\",\n                                  cmap: \"jet\",\n                                  maxPixel: \"10000000\",\n                                  sources: [\n                                    { ...defaultSourcesValue, band: \"1\" },\n                                    { ...defaultSourcesValue, band: \"2\" },\n                                    { ...defaultSourcesValue, band: \"3\" },\n                                  ],\n                                });\n                                break;\n                              }\n                              case \"single\": {\n                                reset({\n                                  mode: \"single\",\n                                  cmap: colormaps[0],\n                                  maxPixel: \"10000000\",\n                                  sources: [\n                                    { ...defaultSourcesValue, band: \"1\" },\n                                  ],\n                                });\n                                break;\n                              }\n                              case \"ndi\": {\n                                reset({\n                                  mode: \"ndi\",\n                                  cmap: colormaps[0],\n                                  maxPixel: \"10000000\",\n                                  sources: [\n                                    { ...defaultSourcesValue, band: \"1\" },\n                                    { ...defaultSourcesValue, band: \"2\" },\n                                  ],\n                                });\n                                break;\n                              }\n                            }\n                          }}\n                        >\n                          {rendermodes.map((v, i) => {\n                            return (\n                              <MenuItem value={v} key={i}>\n                                {v}\n                              </MenuItem>\n                            );\n                          })}\n                        </Select>\n\n                        {error?.type === \"required\" && (\n                          <FormHelperText>Required.</FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      required: true,\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  {fields.map((field, index) => {\n                    return (\n                      <Config key={field.id}>\n                        <dt>Index {index}</dt>\n                        <dd>\n                          <Controller\n                            control={control}\n                            name={`sources.${index}.index`}\n                            render={({ field, fieldState: { error } }) => (\n                              <FormControl\n                                error={!!error}\n                                fullWidth\n                                size=\"small\"\n                              >\n                                <InputLabel>File</InputLabel>\n                                <Select\n                                  {...field}\n                                  disabled={filelist.length < 1 || loading}\n                                >\n                                  {filelist.map((f, i) => {\n                                    return (\n                                      <MenuItem value={String(i)} key={i}>\n                                        {f.name}\n                                      </MenuItem>\n                                    );\n                                  })}\n                                </Select>\n\n                                {error?.type === \"required\" && (\n                                  <FormHelperText>Required.</FormHelperText>\n                                )}\n                              </FormControl>\n                            )}\n                            rules={{\n                              required: true,\n                            }}\n                          />\n                          <Stack\n                            direction=\"row\"\n                            spacing={2}\n                            sx={{ mt: 2, mb: 1 }}\n                          >\n                            <Controller\n                              control={control}\n                              name={`sources.${index}.band`}\n                              render={({ field, fieldState: { error } }) => (\n                                <FormControl\n                                  component=\"fieldset\"\n                                  error={!!error}\n                                  fullWidth\n                                >\n                                  <TextField\n                                    {...field}\n                                    label=\"band\"\n                                    size=\"small\"\n                                    error={!!error}\n                                    disabled={loading}\n                                    placeholder=\"1\"\n                                  />\n                                  {error?.type === \"required\" && (\n                                    <FormHelperText>Required.</FormHelperText>\n                                  )}\n                                  {error?.type === \"pattern\" && (\n                                    <FormHelperText>\n                                      must be a number.\n                                    </FormHelperText>\n                                  )}\n                                </FormControl>\n                              )}\n                              rules={{\n                                required: true,\n                                pattern: /^((\\+|-){0,1}[1-9]\\d*|0)(\\.\\d+)?$/,\n                              }}\n                            />\n                            <Controller\n                              control={control}\n                              name={`sources.${index}.nodata`}\n                              render={({ field, fieldState: { error } }) => (\n                                <FormControl\n                                  component=\"fieldset\"\n                                  error={!!error}\n                                  fullWidth\n                                >\n                                  <TextField\n                                    {...field}\n                                    label=\"nodata\"\n                                    size=\"small\"\n                                    disabled={loading}\n                                    error={!!error}\n                                  />\n                                  {error?.type === \"required\" && (\n                                    <FormHelperText>Required.</FormHelperText>\n                                  )}\n                                  {error?.type === \"pattern\" && (\n                                    <FormHelperText>\n                                      must be a number.\n                                    </FormHelperText>\n                                  )}\n                                </FormControl>\n                              )}\n                              rules={{\n                                required: true,\n                                pattern: /^((\\+|-){0,1}[1-9]\\d*|0)(\\.\\d+)?$/,\n                              }}\n                            />\n                            <Controller\n                              control={control}\n                              name={`sources.${index}.min`}\n                              render={({ field, fieldState: { error } }) => (\n                                <FormControl\n                                  component=\"fieldset\"\n                                  error={!!error}\n                                  fullWidth\n                                >\n                                  <TextField\n                                    {...field}\n                                    label=\"min\"\n                                    size=\"small\"\n                                    disabled={loading}\n                                    error={!!error}\n                                  />\n                                  {error?.type === \"required\" && (\n                                    <FormHelperText>Required.</FormHelperText>\n                                  )}\n                                  {error?.type === \"pattern\" && (\n                                    <FormHelperText>\n                                      must be a number.\n                                    </FormHelperText>\n                                  )}\n                                </FormControl>\n                              )}\n                              rules={{\n                                required: true,\n                                pattern: /^((\\+|-){0,1}[1-9]\\d*|0)(\\.\\d+)?$/,\n                              }}\n                            />\n                            <Controller\n                              control={control}\n                              name={`sources.${index}.max`}\n                              render={({ field, fieldState: { error } }) => (\n                                <FormControl\n                                  component=\"fieldset\"\n                                  error={!!error}\n                                  fullWidth\n                                >\n                                  <TextField\n                                    {...field}\n                                    label=\"max\"\n                                    size=\"small\"\n                                    disabled={loading}\n                                    error={!!error}\n                                  />\n                                  {error?.type === \"required\" && (\n                                    <FormHelperText>Required.</FormHelperText>\n                                  )}\n                                  {error?.type === \"pattern\" && (\n                                    <FormHelperText>\n                                      must be a number.\n                                    </FormHelperText>\n                                  )}\n                                </FormControl>\n                              )}\n                              rules={{\n                                required: true,\n                                pattern: /^((\\+|-){0,1}[1-9]\\d*|0)(\\.\\d+)?$/,\n                              }}\n                            />\n                          </Stack>\n                        </dd>\n                      </Config>\n                    );\n                  })}\n                </Grid>\n                {watcher.mode !== \"rgb\" && (\n                  <Grid item xs={6}>\n                    <Controller\n                      control={control}\n                      name=\"cmap\"\n                      render={({ field, fieldState: { error } }) => (\n                        <FormControl error={!!error} fullWidth size=\"small\">\n                          <InputLabel>Color Map</InputLabel>\n                          <Select {...field} disabled={loading}>\n                            {colormaps.map((v, i) => {\n                              return (\n                                <MenuItem value={v} key={i}>\n                                  {v}\n                                </MenuItem>\n                              );\n                            })}\n                          </Select>\n\n                          {(error?.type === \"required\" ||\n                            error?.type === \"minLength\") && (\n                            <FormHelperText>Required.</FormHelperText>\n                          )}\n                        </FormControl>\n                      )}\n                      rules={{\n                        required: true,\n                        minLength: 1,\n                      }}\n                    />\n                  </Grid>\n                )}\n                <Grid item xs={6}>\n                  <Controller\n                    control={control}\n                    name=\"maxPixel\"\n                    render={({ field, fieldState: { error } }) => (\n                      <FormControl\n                        component=\"fieldset\"\n                        error={!!error}\n                        fullWidth\n                      >\n                        <TextField\n                          {...field}\n                          label=\"Max Pixel Size\"\n                          size=\"small\"\n                          disabled={loading}\n                          error={!!error}\n                        />\n                        {error?.type === \"required\" && (\n                          <FormHelperText>Required.</FormHelperText>\n                        )}\n                        {error?.type === \"pattern\" && (\n                          <FormHelperText>must be a number.</FormHelperText>\n                        )}\n                        {error?.type === \"max\" && (\n                          <FormHelperText>\n                            must be less than {CANVAS_MAX_PIXEL}.\n                          </FormHelperText>\n                        )}\n                      </FormControl>\n                    )}\n                    rules={{\n                      required: true,\n                      pattern: /^([1-9][0-9]*|0)$/,\n                      max: CANVAS_MAX_PIXEL,\n                    }}\n                  />\n                </Grid>\n                <Grid item xs={12}>\n                  <FormControl error={!!error}>\n                    <Buttons>\n                      <li>\n                        <Button\n                          variant=\"contained\"\n                          type=\"submit\"\n                          disabled={filelist.length < 1 || loading}\n                          onClick={() => {\n                            setError(null);\n                          }}\n                        >\n                          Add Layer\n                        </Button>\n                      </li>\n                      <li>\n                        <Button\n                          variant=\"outlined\"\n                          type=\"button\"\n                          onClick={() => {\n                            setFilelist([]);\n                            reset();\n                          }}\n                          disabled={filelist.length < 1 || loading}\n                        >\n                          Clear\n                        </Button>\n                      </li>\n                    </Buttons>\n                    {error === \"SourceNumber\" && (\n                      <FormHelperText sx={{ ml: 0 }}>\n                        Unexpected number of sources.\n                      </FormHelperText>\n                    )}\n                    {error === \"SourceError\" && (\n                      <FormHelperText sx={{ ml: 0 }}>\n                        Some values are invalid.\n                      </FormHelperText>\n                    )}\n                    {error === \"Duplicate\" && (\n                      <FormHelperText sx={{ ml: 0 }}>\n                        Duplicate Layer.\n                      </FormHelperText>\n                    )}\n                    {loading && (\n                      <FormHelperText sx={{ mt: 1 }}>loading.</FormHelperText>\n                    )}\n                  </FormControl>\n                </Grid>\n              </Grid>\n            )}\n          </form>\n        </Stack>\n      </Container>\n    </>\n  );\n};\nexport default Viewer;\n","export default function _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf.bind() : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}","import setPrototypeOf from \"./setPrototypeOf.js\";\nexport default function _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  Object.defineProperty(subClass, \"prototype\", {\n    writable: false\n  });\n  if (superClass) setPrototypeOf(subClass, superClass);\n}","export default function _typeof(obj) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) {\n    return typeof obj;\n  } : function (obj) {\n    return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n  }, _typeof(obj);\n}","import _typeof from \"./typeof.js\";\nimport assertThisInitialized from \"./assertThisInitialized.js\";\nexport default function _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  } else if (call !== void 0) {\n    throw new TypeError(\"Derived constructors may only return object or undefined\");\n  }\n  return assertThisInitialized(self);\n}"],"names":["module","exports","colorScale","lerp","rgb2float","rgba","rgb2hex","dig","hex","i","toString","substr","length","rgbaStr","join","spec","indicies","fromrgba","torgba","nsteps","cmap","colormap","format","nshades","alpha","toLowerCase","Error","Array","isArray","slice","map","c","Math","round","index","min","max","steps","rgb","colors","j","amt","push","concat","fieldTagNames","fieldTags","key","hasOwnProperty","parseInt","arrayFields","BitsPerSample","ExtraSamples","SampleFormat","StripByteCounts","StripOffsets","StripRowCounts","TileByteCounts","TileOffsets","SubIFDs","fieldTypeNames","fieldTypes","_key","photometricInterpretations","WhiteIsZero","BlackIsZero","RGB","Palette","TransparencyMask","CMYK","YCbCr","CIELab","ICCLab","ExtraSamplesValues","Unspecified","Assocalpha","Unassalpha","LercParameters","Version","AddCompression","LercAddCompression","None","Deflate","geoKeyNames","geoKeys","_key2","v0","v1","t","countSubstring","string","substring","pattern","RegExp","match","indexOfMatch","indexOfMatchEnd","findTagByName","xml","tagName","options","debug","nested","startIndex","console","log","start","afterStart","relativeEnd","selfClosing","_startIndex","openings","closings","clip","end","outer","inner","indexOf","lastIndexOf","findTagsByName","tag","tags","getAttribute","attributeName","exec","toPropertyKey","definePropertyModule","createPropertyDescriptor","object","value","propertyKey","f","classof","getMethod","isNullOrUndefined","Iterators","ITERATOR","wellKnownSymbol","it","call","aCallable","anObject","tryToString","getIteratorMethod","$TypeError","TypeError","argument","usingIterator","iteratorMethod","arguments","ArrayPrototype","prototype","undefined","bind","isArrayIteratorMethod","lengthOfArrayLike","isPrototypeOf","getIterator","iteratorClose","Result","stopped","result","this","ResultPrototype","iterable","unboundFunction","iterator","iterFn","next","step","that","AS_ENTRIES","IS_RECORD","IS_ITERATOR","INTERRUPTED","fn","stop","condition","callFn","done","error","kind","innerResult","innerError","PromiseCapability","C","resolve","reject","promise","$$resolve","$$reject","$","iterate","createProperty","target","stat","fromEntries","obj","k","v","newPromiseCapabilityModule","perform","allSettled","capability","promiseResolve","values","counter","remaining","alreadyCalled","then","status","reason","getCircularProgressUtilityClass","slot","generateUtilityClasses","_templateObject","_templateObject2","_templateObject3","_templateObject4","_t","_t2","_t3","_t4","_excluded","SIZE","circularRotateKeyframe","keyframes","circularDashKeyframe","CircularProgressRoot","styled","name","overridesResolver","props","styles","ownerState","root","variant","capitalize","color","_ref","theme","display","transition","transitions","create","vars","palette","main","_ref2","css","CircularProgressSVG","svg","CircularProgressCircle","circle","disableShrink","circleDisableShrink","_ref3","stroke","strokeDasharray","strokeDashoffset","_ref4","inProps","ref","useThemeProps","className","_props$color","_props$disableShrink","_props$size","size","style","_props$thickness","thickness","_props$value","_props$variant","other","classes","slots","composeClasses","useUtilityClasses","circleStyle","rootStyle","rootProps","circumference","PI","toFixed","transform","width","height","role","children","viewBox","cx","cy","r","fill","strokeWidth","getMenuItemUtilityClass","MenuItemRoot","ButtonBase","shouldForwardProp","prop","dense","divider","disableGutters","gutters","_extends2","typography","body1","justifyContent","alignItems","position","textDecoration","minHeight","paddingTop","paddingBottom","boxSizing","whiteSpace","paddingLeft","paddingRight","borderBottom","backgroundClip","backgroundColor","action","hover","primary","mainChannel","selectedOpacity","focusOpacity","hoverOpacity","focus","opacity","disabledOpacity","marginTop","spacing","marginBottom","marginLeft","minWidth","breakpoints","up","body2","fontSize","_props$autoFocus","autoFocus","_props$component","component","_props$dense","_props$divider","_props$disableGutters","focusVisibleClassName","_props$role","tabIndexProp","tabIndex","context","ListContext","childContext","menuItemRef","useEnhancedEffect","current","disabled","selected","composedClasses","handleRef","useForkRef","focusVisible","_isNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","valueOf","e","_construct","Parent","args","Class","a","apply","instance","Function","setPrototypeOf","_wrapNativeSuper","_cache","Map","has","get","set","Wrapper","getPrototypeOf","constructor","Object","enumerable","writable","configurable","uncurryThis","thisArg","_len","ReflectApply","uncurryThisGetter","ReflectGetOwnPropertyDescriptor","defineProperty","getOwnPropertyDescriptor","ReflectGetPrototypeOf","ReflectOwnKeys","ownKeys","SymbolIterator","Number","MAX_SAFE_INTEGER","isFinite","isNaN","Symbol","SymbolToStringTag","species","toStringTag","NativeObject","for","ObjectDefineProperty","ObjectPrototype","freeze","is","ObjectHasOwn","__lookupGetter__","hasOwn","NativeArray","NativeArrayPrototypeSymbolIterator","toLocaleString","ArrayPrototypeSymbolIterator","NativeArrayBuffer","trunc","ArrayBuffer","ArrayBufferPrototype","isView","NativeSharedArrayBuffer","SharedArrayBuffer","TypedArray","Uint8Array","TypedArrayPrototype","from","NativeUint32Array","keys","entries","reverse","copyWithin","sort","subarray","Uint16Array","Uint32Array","NativeFloat32Array","Float32Array","ArrayIteratorPrototype","ArrayIteratorPrototypeNext","GeneratorPrototypeNext","_callee","_context","prev","IteratorPrototype","DataViewPrototype","DataView","DataViewPrototypeGetUint16","getUint16","NativeTypeError","setUint16","WeakSetPrototype","RangeError","WeakSet","NativeWeakMap","add","WeakMap","WeakMapPrototype","WeakMapPrototypeGet","_arrayLikeToArray","arr","len","arr2","arrayIterators","SafeIteratorPrototype","arrayIterator","array","safe","_step","generators","DummyArrayIteratorPrototype","generator","_iterator","o","allowArrayLike","minLen","n","test","_unsupportedIterableToArray","F","s","_e","err","normalCompletion","didErr","_e2","return","_createForOfIteratorHelper","buffer","floatView","uint32View","baseTable","shiftTable","mantissaTable","exponentTable","offsetTable","_i","m","_i2","_i3","_i4","_i5","convertToNumber","float16bits","dataView","byteOffset","opts","fromWhiteIsZero","raster","rgbRaster","fromBlackIsZero","fromPalette","colorMap","greenOffset","blueOffset","mapIndex","fromCMYK","cmykRaster","y","fromYCbCr","yCbCrRaster","Uint8ClampedArray","cb","cr","fromCIELab","cieLabRaster","x","z","g","b","pow","registry","addDecoder","cases","importFn","forEach","getDecoder","_x","_getDecoder","fileDirectory","Decoder","Compression","sent","abrupt","copyNewSize","samplesPerPixel","resampleNearest","valueArrays","inWidth","inHeight","outWidth","outHeight","relX","relY","newArray","resampleBilinear","rawY","yl","floor","yh","ceil","rawX","tx","xl","xh","ll","hl","lh","hh","resample","method","resampleNearestInterleaved","valueArray","samples","resampleBilinearInterleaved","resampleInterleaved","sum","arrayForType","bitsPerSample","Int8Array","Int16Array","Int32Array","Float64Array","needsNormalization","normalizeArray","inBuffer","planarConfiguration","tileWidth","tileHeight","view","samplesToTransfer","outArray","bitMask","repeat","bitsPerLine","lineBitOffset","pixelBitOffset","bitOffset","outIndex","innerBitOffset","getUint8","raw","getUint32","default","GeoTIFFImage","littleEndian","cache","source","tiles","isTiled","PlanarConfiguration","_readRGB","_readRasters","_readRaster2","_getTileOrStrip","ImageWidth","ImageLength","SamplesPerPixel","TileWidth","getWidth","TileLength","RowsPerStrip","getHeight","getTileWidth","getTileHeight","bytes","getSampleByteSize","sampleIndex","getInt8","getInt16","getInt32","offset","getFloat32","getFloat64","getSampleFormat","getBitsPerSample","_callee2","sample","poolOrDecoder","signal","numTilesPerRow","numTilesPerCol","byteCount","request","_this","_context2","fetch","data","sampleFormat","decode","getSamplesPerPixel","getBlockHeight","t0","t1","t2","t3","_x2","_x3","_x4","_x5","_callee3","imageWindow","interleave","resampleMethod","imageWidth","imageHeight","minXTile","maxXTile","minYTile","maxYTile","windowWidth","bytesPerPixel","srcSampleOffsets","sampleReaders","promises","yTile","xTile","_loop","resampled","_this2","_context3","getBytesPerPixel","getReaderForSample","si","getTileOrStrip","tile","blockHeight","firstLine","firstCol","lastLine","lastCol","reader","ymax","xmax","pixelOffset","windowCoordinate","Promise","all","_x6","_x7","_x8","_x9","_x10","_x11","_x12","_x13","_x14","_callee4","wnd","_ref2$samples","_ref2$pool","pool","fillValue","imageWindowWidth","imageWindowHeight","numPixels","_args4","_context4","window","getArrayForSample","_readRaster","_callee5","_ref3$interleave","_ref3$pool","_ref3$enableAlpha","enableAlpha","pi","subOptions","red","green","blue","_args5","_context5","PhotometricInterpretation","readRasters","ColorMap","ModelTiepoint","tiePoints","metadata","GDAL_METADATA","items","filter","item","GDAL_NODATA","modelTransformation","ModelTransformation","referenceImage","modelPixelScale","ModelPixelScale","_referenceImage$getRe","getResolution","_referenceImage$getRe2","refResX","refResY","refResZ","GTRasterTypeGeoKey","origin","getOrigin","resolution","x1","y1","x2","y2","DataView64","arrayBuffer","_dataView","combined","left","right","isSafeInteger","isNegative","carrying","byte","DataSlice","sliceOffset","bigTiff","_sliceOffset","_littleEndian","_bigTiff","byteLength","sliceTop","readUint32","readUint64","CRLFCRLF","itemsToObject","_step$value","parseHeaders","text","split","line","kv","str","trim","parseContentType","rawContentType","_rawContentType$split","_rawContentType$split2","arrayWithHoles","iterableToArray","unsupportedIterableToArray","nonIterableRest","type","params","param","parseContentRange","rawContentRange","total","_rawContentRange$matc","_rawContentRange$matc2","parseByteRanges","responseArrayBuffer","boundary","decoder","TextDecoder","out","startBoundary","endBoundary","_text","startsWith","innerText","endOfHeaders","headers","_parseContentRange","startOfData","fileSize","BaseSource","_close","_fetchSlice","_fetch","slices","_args","fetchSlice","_createSuper","Derived","hasNativeReflectConstruct","Super","NewTarget","QuickLRU","_Map","_Symbol$iterator","_Symbol$toStringTag","_super","maxSize","maxAge","POSITIVE_INFINITY","onEviction","oldCache","_size","expiry","Date","now","delete","_deleteIfExpired","_getOrDeleteIfExpired","_getItemValue","_emitEvictions","_set","_entriesAscending","_iterator2","_step2","_item","_iterator3","_step3","_item2","_item3","_value","finish","_item4","_moveToRecent","_ref$maxAge","_peek","deleted","clear","newSize","removeCount","_iterator4","_step4","_step4$value","_iterator5","_step5","_step5$value","_iterator6","_step6","_item5","_iterator7","_step7","_item6","_item7","_value2","entriesDescending","_item8","_item9","_item10","_key3","_value3","entriesAscending","_iterator8","_step8","_step8$value","_context6","_step9","oldCacheSize","_iterator9","callbackFunction","_step10","thisArgument","_iterator10","_step10$value","JSON","stringify","wait","_wait","milliseconds","setTimeout","zip","A","B","AbortError","_Error","captureStackTrace","AggregateError","_Error2","CustomAggregateError","_super2","errors","message","Block","BlockGroup","blockIds","BlockedSource","_BaseSource","_ref$blockSize","blockSize","_ref$cacheSize","cacheSize","blockCache","blockRequests","blockIdsToFetch","Set","abortedBlockIds","missingBlockIds","allBlockIds","top","firstBlockOffset","_blockId2","missingRequests","_missingBlockIds","blockId","abortedBlockRequests","_blockId","block","blocks","failedBlocks","requiredBlocks","fetchBlocks","id","aborted","readSliceData","_this3","groups","groupBlocks","groupRequests","groupIndex","_loop2","response","blockOffset","sortedBlockIds","lastBlockId","_this4","blockIdLow","blockIdHigh","sliceData","sliceView","delta","blockInnerOffset","rangeInnerOffset","usedBlockLength","blockView","BaseResponse","_getData","headerName","BaseClient","url","_request","_args2","credentials","FetchResponse","_BaseResponse","FetchClient","_BaseClient","XHRResponse","xhr","getResponseHeader","XHRClient","XMLHttpRequest","open","responseType","_Object$entries","_Object$entries$_i","setRequestHeader","onload","onerror","onabort","send","abort","addEventListener","constructRequest","enumerableOnly","getOwnPropertySymbols","symbols","sym","_objectSpread","getOwnPropertyDescriptors","defineProperties","HttpResponse","dataPromise","statusCode","HttpClient","parsedUrl","httpApi","protocol","resolveData","chunks","on","chunk","Buffer","destroy","_excluded2","_excluded3","_excluded4","RemoteSource","_fetchSlices","client","maxRanges","allowFullFile","_fileSize","fetchSlices","_parseContentType","byteRanges","first","others","_data","Range","ok","getHeader","getData","_parseContentRange2","_data2","maybeWrapInBlockedSource","makeFetchSource","_ref3$headers","_ref3$maxRanges","_ref3$allowFullFile","blockOptions","makeXHRSource","_ref4$headers","_ref4$maxRanges","_ref4$allowFullFile","makeHttpSource","_ref5","_ref5$headers","_ref5$maxRanges","_ref5$allowFullFile","_ref6","_ref6$forceXHR","forceXHR","clientOptions","FileReaderSource","file","blob","FileReader","event","readAsArrayBuffer","makeFileReaderSource","getFieldTypeLength","fieldType","parseGeoKeyDirectory","rawGeoKeyDirectory","GeoKeyDirectory","geoKeyDirectory","location","count","getValues","dataSlice","readMethod","fieldTypeLength","readUint8","readInt8","readUint16","readInt16","readInt32","readInt64","readFloat32","readFloat64","ImageFileDirectory","nextIFDByteOffset","GeoTIFFImageIndexError","GeoTIFFBase","resX","resY","bbox","firstImage","usedImage","imageCount","imgBBox","_firstImage$getOrigin","_firstImage$getOrigin2","oX","oY","_firstImage$getResolu","_firstImage$getResolu2","rX","rY","usedBBox","allImages","image","_image$fileDirectory","subfileType","newSubfileType","_image","imgResX","imgResY","_firstImage$getOrigin3","_firstImage$getOrigin4","_oX","_oY","_usedImage$getResolut","_usedImage$getResolut2","imageResX","imageResY","getImage","getImageCount","getBoundingBox","SubfileType","NewSubfileType","GeoTIFF","_GeoTIFFBase","_fromSource","_getGhostValues","_getImageCount","_getImage","_requestIFD","_parseFileDirectoryAt","_getSlice","firstIFDOffset","ifdRequests","ghostValues","fallbackSize","t4","entrySize","offsetSize","numDirEntries","byteSize","entryCount","fieldTag","typeCount","fieldValues","valueOffset","actualOffset","fieldDataSlice","getSlice","covers","readOffset","parseFileDirectoryAt","requestIFD","previousIfd","_callee6","ifd","_args6","_callee7","hasNext","_context7","_callee8","detectionString","heuristicAreaSize","valuesString","metadataSize","fullString","_context8","close","_callee9","headerData","BOM","magicNumber","_context9","getUint64","fromUrl","_fromUrl","_callee13","_args13","_context13","fromSource","fromBlob","_fromBlob","_callee16","_context16","defaultPoolSize","navigator","hardwareConcurrency","Pool","createWorker","workers","_awaitingDecoder","messageId","worker","idle","_decode","find","candidate","random","onMessage","decoded","removeEventListener","postMessage","terminate","Reader","urls","files","tiffs","getCount","getTiffs","fileIndex","imageIndex","tiff","getBandCount","getCode","getUnit","getRasters","sources","targetImage","originWidth","originHeight","sourceWindow","dstWidth","dstHeight","nodata","getGDALNoData","range","getDataRange","dstWindow","sourceWidth","sourceHeight","bandCount","bands","every","band","targetSamples","render","mode","layers","orders","mapping","_","layer","_orders","_orders2","getColor","_orders3","order","rasters","dstIndex","includeNodata","indexes","_raster$range","defaultMin","defaultMax","_layers$j","_layers$j2","normalize","_raster$range2","_layers$_j","_layers$_j2","normalized","pixels","_raster2$range","_layers$","_layers$2","ImageData","Processor","context_","getContext","release","canvas","maxPixel","CANVAS_MAX_PIXEL","maxHeight","CANVAS_MAX_HEIGHT","maxWidth","CANVAS_MAX_WIDTH","minSize","resolutions","originExtentAspectRatio","angle","existed","findIndex","bandIndex","res","abs","getTransformedCoordinates","rotatedCoordinates","rotatePixelExtent","rotatedWidth","rotatedHeight","adjustSize","document","createElement","storage","tempCanvas","tempContext","putImageData","save","translate","rotate","drawImage","restore","rendermodes","colormaps","affin","getFileDirectory","_image$getFileDirecto","transformation","ProjectedCSTypeGeoKey","GeographicTypeGeoKey","ProjLinearUnitsGeoKey","MAX_VALUE","getProfile","code","unit","Infinity","imageExtent","userOptions","assign","tileSize","DEFAULT_TILE_SIZE","wrapX","state","tileLoadFunction","imageTile","coordString","processor_","_this$processor_","imageExtent_","gridExtent_","tileSize_","getWindow","isGlobalGrid_","tileLeft","tileRight","tileTop","tileBottom","imageExtentLeft","imageExtentBottom","imageExtentRight","imageExtentTop","extentWidth","crossing","setState","TileState","sourcePerPixel","tilePerPixel","leftBottom","rightTop","tileRect","sourceRect","sourceRectSize","tileRectSize","getImageData","src","toDataURL","profile_","setup_","dstCode","originExtent","srcCode","_this$profile_","dstProjection","getProjection","crs","utils","proj4","register","checkedDstCode","_dstProjection","transformed","worldExtent","is4326","EXTENT","is3857","getSize","projection","Projection","units","gridExtent","gridExtentWidth","gridExtentHeight","globalGridExtent","maxResolution","tileGrid","TileGrid","extent","minZoom","resolutionsFromExtent","maxZoom","createOptions","FileInputWrapper","margin","CodeStatus","CodeInput","flex","marginRight","Config","Buttons","listStyle","padding","LayerDetail","EllipsisWrapper","overflow","EllipsisTypography","Typography","textOverflow","LayerName","LayerButton","StyledUl","defaultSourcesValue","useOl","_props$center","center","fromLonLat","_props$zoom","zoom","initialized","React","setMap","controls","Attribution","collapsible","TileLayer","OSM","View","interactions","defaultInteraction","altShiftDragRotate","pinchRotate","defaultControls","attribution","extend","ol","layerConfs","setLayerConfs","filelist","setFilelist","setError","loading","setLoading","reprojection","setReprojection","setProjection","codeRef","changeMapProjection","olRegister","getView","prevProjection","prevCode","getCenter","setView","getZoom","useForm","criteriaMode","defaultValues","control","handleSubmit","reset","watch","fields","useFieldArray","removeLayer","newLayerConfs","layerConf","getSource","splice","onSubmit","sourceConfigs","addedId","GeoTIFFSource","setting","sourceState","getState","addLayer","fit","fitting","sourceListener","watcher","CssBaseline","Helmet","content","rel","href","Container","Stack","my","Grid","container","xs","TextField","inputRef","label","placeholder","Button","onClick","_codeRef$current","FormHelperText","String","direction","Tooltip","title","arrow","placement","reduce","CircularProgress","sx","mt","accept","onChange","mb","Controller","field","fieldState","FormControl","fullWidth","InputLabel","Select","MenuItem","rules","required","minLength","ml","_getPrototypeOf","__proto__","_inherits","subClass","superClass","_typeof","_possibleConstructorReturn","self","assertThisInitialized"],"sourceRoot":""}