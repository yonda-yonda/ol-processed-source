{"version":3,"file":"663-2cf18ac7614c0e0d5c71.js","mappings":"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","sources":["webpack://ol-processed-source/./node_modules/geotiff/dist-module/compression/lzw.js"],"sourcesContent":["import _classCallCheck from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _possibleConstructorReturn from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn.js\";\nimport _getPrototypeOf from \"/Users/k-yoda/work/sandbox/ol-processed-source/node_modules/@babel/runtime/helpers/esm/getPrototypeOf.js\";\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\nimport BaseDecoder from './basedecoder.js';\nvar MIN_BITS = 9;\nvar CLEAR_CODE = 256; // clear code\nvar EOI_CODE = 257; // end of information\nvar MAX_BYTELENGTH = 12;\nfunction getByte(array, position, length) {\n  var d = position % 8;\n  var a = Math.floor(position / 8);\n  var de = 8 - d;\n  var ef = position + length - (a + 1) * 8;\n  var fg = 8 * (a + 2) - (position + length);\n  var dg = (a + 2) * 8 - position;\n  fg = Math.max(0, fg);\n  if (a >= array.length) {\n    console.warn('ran off the end of the buffer before finding EOI_CODE (end on input code)');\n    return EOI_CODE;\n  }\n  var chunk1 = array[a] & Math.pow(2, 8 - d) - 1;\n  chunk1 <<= length - de;\n  var chunks = chunk1;\n  if (a + 1 < array.length) {\n    var chunk2 = array[a + 1] >>> fg;\n    chunk2 <<= Math.max(0, length - dg);\n    chunks += chunk2;\n  }\n  if (ef > 8 && a + 2 < array.length) {\n    var hi = (a + 3) * 8 - (position + length);\n    var chunk3 = array[a + 2] >>> hi;\n    chunks += chunk3;\n  }\n  return chunks;\n}\nfunction appendReversed(dest, source) {\n  for (var i = source.length - 1; i >= 0; i--) {\n    dest.push(source[i]);\n  }\n  return dest;\n}\nfunction decompress(input) {\n  var dictionaryIndex = new Uint16Array(4093);\n  var dictionaryChar = new Uint8Array(4093);\n  for (var i = 0; i <= 257; i++) {\n    dictionaryIndex[i] = 4096;\n    dictionaryChar[i] = i;\n  }\n  var dictionaryLength = 258;\n  var byteLength = MIN_BITS;\n  var position = 0;\n  function initDictionary() {\n    dictionaryLength = 258;\n    byteLength = MIN_BITS;\n  }\n  function getNext(array) {\n    var byte = getByte(array, position, byteLength);\n    position += byteLength;\n    return byte;\n  }\n  function addToDictionary(i, c) {\n    dictionaryChar[dictionaryLength] = c;\n    dictionaryIndex[dictionaryLength] = i;\n    dictionaryLength++;\n    return dictionaryLength - 1;\n  }\n  function getDictionaryReversed(n) {\n    var rev = [];\n    for (var _i = n; _i !== 4096; _i = dictionaryIndex[_i]) {\n      rev.push(dictionaryChar[_i]);\n    }\n    return rev;\n  }\n  var result = [];\n  initDictionary();\n  var array = new Uint8Array(input);\n  var code = getNext(array);\n  var oldCode;\n  while (code !== EOI_CODE) {\n    if (code === CLEAR_CODE) {\n      initDictionary();\n      code = getNext(array);\n      while (code === CLEAR_CODE) {\n        code = getNext(array);\n      }\n      if (code === EOI_CODE) {\n        break;\n      } else if (code > CLEAR_CODE) {\n        throw new Error(\"corrupted code at scanline \".concat(code));\n      } else {\n        var val = getDictionaryReversed(code);\n        appendReversed(result, val);\n        oldCode = code;\n      }\n    } else if (code < dictionaryLength) {\n      var _val = getDictionaryReversed(code);\n      appendReversed(result, _val);\n      addToDictionary(oldCode, _val[_val.length - 1]);\n      oldCode = code;\n    } else {\n      var oldVal = getDictionaryReversed(oldCode);\n      if (!oldVal) {\n        throw new Error(\"Bogus entry. Not in dictionary, \".concat(oldCode, \" / \").concat(dictionaryLength, \", position: \").concat(position));\n      }\n      appendReversed(result, oldVal);\n      result.push(oldVal[oldVal.length - 1]);\n      addToDictionary(oldCode, oldVal[oldVal.length - 1]);\n      oldCode = code;\n    }\n    if (dictionaryLength + 1 >= Math.pow(2, byteLength)) {\n      if (byteLength === MAX_BYTELENGTH) {\n        oldCode = undefined;\n      } else {\n        byteLength++;\n      }\n    }\n    code = getNext(array);\n  }\n  return new Uint8Array(result);\n}\nvar LZWDecoder = /*#__PURE__*/function (_BaseDecoder) {\n  _inherits(LZWDecoder, _BaseDecoder);\n  var _super = _createSuper(LZWDecoder);\n  function LZWDecoder() {\n    _classCallCheck(this, LZWDecoder);\n    return _super.apply(this, arguments);\n  }\n  _createClass(LZWDecoder, [{\n    key: \"decodeBlock\",\n    value: function decodeBlock(buffer) {\n      return decompress(buffer, false).buffer;\n    }\n  }]);\n  return LZWDecoder;\n}(BaseDecoder);\nexport { LZWDecoder as default };"],"names":["_createSuper","Derived","hasNativeReflectConstruct","Reflect","construct","sham","Proxy","Boolean","prototype","valueOf","call","e","_isNativeReflectConstruct","result","Super","NewTarget","this","constructor","arguments","apply","appendReversed","dest","source","i","length","push","decompress","input","dictionaryIndex","Uint16Array","dictionaryChar","Uint8Array","dictionaryLength","byteLength","position","initDictionary","getNext","array","byte","d","a","Math","floor","de","ef","fg","dg","max","console","warn","chunk1","pow","chunks","chunk2","hi","getByte","addToDictionary","c","getDictionaryReversed","n","rev","_i","oldCode","code","Error","concat","_val","oldVal","undefined","LZWDecoder","_BaseDecoder","_super","key","value","buffer"],"sourceRoot":""}